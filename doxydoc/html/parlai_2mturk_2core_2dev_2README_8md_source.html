<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ParlAI: parlai/mturk/core/dev/README.md Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ParlAI
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">parlai/mturk/core/dev/README.md</div>  </div>
</div><!--header-->
<div class="contents">
<a href="parlai_2mturk_2core_2dev_2README_8md.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;## Included</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;`parlai/mturk/core` contains several files and folders that are needed for proper MTurk integration:</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;### Folders</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;- **react_server/**: contains the build files for running a task that uses a react frontend. This folder gets cloned, built, and then pushed to the hosting server (usually heroku).</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;- **tests/**: contains all of the tests for the MTurk functionality, split up by the various stages that they touch.</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;### Files</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;- **agents.py**: contains the `MTurkAgent` class, which is responsible for both acting as a proper agent in a regular ParlAI world while also keeping the relevant MTurk HIT assignment state.</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;- **data_model.py**: contains a few constants generally shared between the python backend and the javascript client that workers see.</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;- **mturk_data_handler.py**: class that manages a sqlite database that stores state and assignment data during and between runs. It also handles the local saving and loading of data for a task when handled using the use_db flag in `MTurkManager`.</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;- **mturk_manager.py**: contains the `MTurkManager` class, which is responsible for the lifecycle of an MTurk task as well as coordinating HITs and assignments to worlds and workers.</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;- **mturk_utils.py**: helper functions that directly interface with the MTurk API.</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;- **server_utils.py**: helper functions that are used to set up and take down the passthrough server that directly serves workers a task</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;- **shared_utils.py**: helper functions that are shared between multiple classes but don&#39;t actually relate enough to any of them to be a member of another file</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;- **socket_manager.py**: class that handles incoming and outgoing messages to workers as well as maintaining active connections with workers via websocket protocols</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;- **worker_manager.py**: class that is responsible for maintaining and acting directly on the state of workers as they complete tasks, disconnect, change worlds, and more.</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;- **worlds.py**: contains the basic onboarding and task worlds that should be used for MTurk tasks, as well as a description of how the underlying `MTurkDataWorld` handles saving data for a task.</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;## Created</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;parlai/mturk/core on your local machine may also create a few folders and files depending on your usage:</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;### Folders</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;- **heroku_server_.../**: contains the build files for a server that was started using ParlAI. If this remains after no servers are running, it exists because a server failed to cleanup the local files, and the folder can be deleted freely.</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;- **heroku-cli-v.../**: contains the bin files required to run heroku. These are stored here where we know where they are so that the server setup scripts don&#39;t need to search for existing heroku installations elsewhere.</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;### Files</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;- **disconnects.pickle**: a pickle file containing current outstanding disconnects. Used to track bad behavior from agents who have disconnected on multiple tasks. In the process of being deprecated in favor of storage in the state database (`pmt_data.db`) using the `use_db` flag.</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;- **working_time.pickle**: a pickle file containing the workers who have exceeded the max daily time across all of your tasks per day. In the process of being deprecated in favor of storage in the state database (`pmt_data.db`) using the `use_db` flag.</div></div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
