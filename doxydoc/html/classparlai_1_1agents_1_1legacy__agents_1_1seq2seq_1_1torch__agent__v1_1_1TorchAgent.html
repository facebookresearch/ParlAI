<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ParlAI: parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ParlAI
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>parlai</b></li><li class="navelem"><b>agents</b></li><li class="navelem"><b>legacy_agents</b></li><li class="navelem"><b>seq2seq</b></li><li class="navelem"><b>torch_agent_v1</b></li><li class="navelem"><a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html">TorchAgent</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent__inherit__graph.png" border="0" usemap="#parlai_8agents_8legacy__agents_8seq2seq_8torch__agent__v1_8TorchAgent_inherit__map" alt="Inheritance graph"/></div>
<map name="parlai_8agents_8legacy__agents_8seq2seq_8torch__agent__v1_8TorchAgent_inherit__map" id="parlai_8agents_8legacy__agents_8seq2seq_8torch__agent__v1_8TorchAgent_inherit__map">
<area shape="rect" title=" " alt="" coords="25,155,180,211"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html" title=" " alt="" coords="15,259,190,315"/>
<area shape="rect" href="classparlai_1_1core_1_1agents_1_1Agent.html" title=" " alt="" coords="21,80,184,107"/>
<area shape="rect" title=" " alt="" coords="74,5,131,32"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1PerplexityEvaluatorAgent.html" title=" " alt="" coords="5,363,200,419"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent__coll__graph.png" border="0" usemap="#parlai_8agents_8legacy__agents_8seq2seq_8torch__agent__v1_8TorchAgent_coll__map" alt="Collaboration graph"/></div>
<map name="parlai_8agents_8legacy__agents_8seq2seq_8torch__agent__v1_8TorchAgent_coll__map" id="parlai_8agents_8legacy__agents_8seq2seq_8torch__agent__v1_8TorchAgent_coll__map">
<area shape="rect" title=" " alt="" coords="76,185,231,241"/>
<area shape="rect" href="classparlai_1_1core_1_1agents_1_1Agent.html" title=" " alt="" coords="5,81,168,108"/>
<area shape="rect" title=" " alt="" coords="58,5,115,32"/>
<area shape="rect" title=" " alt="" coords="193,81,247,108"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a00701a40d62943dbd887525bf8e8002d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a00701a40d62943dbd887525bf8e8002d">add_cmdline_args</a> (cls, argparser)</td></tr>
<tr class="separator:a00701a40d62943dbd887525bf8e8002d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c4eb91757ee23e75edfa957d05db338"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a1c4eb91757ee23e75edfa957d05db338">__init__</a> (self, opt, shared=None)</td></tr>
<tr class="separator:a1c4eb91757ee23e75edfa957d05db338"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1727b17db185dcc7237d893018c7b76c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a1727b17db185dcc7237d893018c7b76c">init_optim</a> (self, params, optim_states=None, saved_optim_type=None)</td></tr>
<tr class="separator:a1727b17db185dcc7237d893018c7b76c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af97699a6b03a17969830db378f09cac4"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#af97699a6b03a17969830db378f09cac4">receive_metrics</a> (self, metrics_dict)</td></tr>
<tr class="separator:af97699a6b03a17969830db378f09cac4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d922c4a8452c9e44fa2478e6fecdfd1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a3d922c4a8452c9e44fa2478e6fecdfd1">share</a> (self)</td></tr>
<tr class="separator:a3d922c4a8452c9e44fa2478e6fecdfd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a866838e1c81063a3ec18c5609e029f90"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a866838e1c81063a3ec18c5609e029f90">vectorize</a> (self, obs, add_start=True, add_end=True, truncate=None, split_lines=False)</td></tr>
<tr class="separator:a866838e1c81063a3ec18c5609e029f90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8b2fa26aabfd9d7e7abb0abbcfe8044"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#ab8b2fa26aabfd9d7e7abb0abbcfe8044">batchify</a> (self, obs_batch, sort=False, is_valid=lambda obs:'text_vec' in obs or 'image' in obs)</td></tr>
<tr class="separator:ab8b2fa26aabfd9d7e7abb0abbcfe8044"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acac419cfad0fc5988e7e796c244f3a9f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#acac419cfad0fc5988e7e796c244f3a9f">match_batch</a> (self, batch_reply, valid_inds, output=None)</td></tr>
<tr class="separator:acac419cfad0fc5988e7e796c244f3a9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8984452b8b4e6194625530aeae49b243"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a8984452b8b4e6194625530aeae49b243">get_dialog_history</a> (self, observation, reply=None, add_person_tokens=False, add_p1_after_newln=False)</td></tr>
<tr class="separator:a8984452b8b4e6194625530aeae49b243"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf7a50ea0eb319737123d2e46fde4c0f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#abf7a50ea0eb319737123d2e46fde4c0f">last_reply</a> (self, use_label=True)</td></tr>
<tr class="separator:abf7a50ea0eb319737123d2e46fde4c0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4b2346c35e214a8028eb83d1fc5ffd7"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#ae4b2346c35e214a8028eb83d1fc5ffd7">reply_history</a> (self)</td></tr>
<tr class="separator:ae4b2346c35e214a8028eb83d1fc5ffd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eb23a78aea413ae4f90ce0628179920"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a0eb23a78aea413ae4f90ce0628179920">observe</a> (self, observation)</td></tr>
<tr class="separator:a0eb23a78aea413ae4f90ce0628179920"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a01defa1d669571f574fcfe021776a8"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a4a01defa1d669571f574fcfe021776a8">save</a> (self, path=None)</td></tr>
<tr class="separator:a4a01defa1d669571f574fcfe021776a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d71ad7997e048e4f4f7d957fae64ac5"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a6d71ad7997e048e4f4f7d957fae64ac5">load</a> (self, path)</td></tr>
<tr class="separator:a6d71ad7997e048e4f4f7d957fae64ac5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93e935c0d2d589d8990ff14d6e528c4d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a93e935c0d2d589d8990ff14d6e528c4d">reset</a> (self)</td></tr>
<tr class="separator:a93e935c0d2d589d8990ff14d6e528c4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ab251071823f34358a569c1c2a11bf9"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a3ab251071823f34358a569c1c2a11bf9">act</a> (self)</td></tr>
<tr class="separator:a3ab251071823f34358a569c1c2a11bf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3929c1bedc50a48dcf8d1184321f4f5"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#af3929c1bedc50a48dcf8d1184321f4f5">batch_act</a> (self, observations)</td></tr>
<tr class="separator:af3929c1bedc50a48dcf8d1184321f4f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff9cc5c105bbf154075aa83e288582ca"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#aff9cc5c105bbf154075aa83e288582ca">train_step</a> (self, batch)</td></tr>
<tr class="separator:aff9cc5c105bbf154075aa83e288582ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a801f2b9a359201fd0a395ab61fd61806"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a801f2b9a359201fd0a395ab61fd61806">eval_step</a> (self, batch)</td></tr>
<tr class="separator:a801f2b9a359201fd0a395ab61fd61806"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classparlai_1_1core_1_1agents_1_1Agent')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classparlai_1_1core_1_1agents_1_1Agent.html">parlai.core.agents.Agent</a></td></tr>
<tr class="memitem:a29e1cdd729ac4236f8bae90b2e66fa04 inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1agents_1_1Agent.html#a29e1cdd729ac4236f8bae90b2e66fa04">getID</a> (self)</td></tr>
<tr class="separator:a29e1cdd729ac4236f8bae90b2e66fa04 inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40157e237ea85d75ebc3fd248c7a1a1b inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1agents_1_1Agent.html#a40157e237ea85d75ebc3fd248c7a1a1b">epoch_done</a> (self)</td></tr>
<tr class="separator:a40157e237ea85d75ebc3fd248c7a1a1b inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaefcbd7c61d319b368b3ee13997c8c99 inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1agents_1_1Agent.html#aaefcbd7c61d319b368b3ee13997c8c99">reset_metrics</a> (self)</td></tr>
<tr class="separator:aaefcbd7c61d319b368b3ee13997c8c99 inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a801e5ca2a5e8e96a72f0c04549008e8f inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1agents_1_1Agent.html#a801e5ca2a5e8e96a72f0c04549008e8f">shutdown</a> (self)</td></tr>
<tr class="separator:a801e5ca2a5e8e96a72f0c04549008e8f inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a005f62f977e8a7ebf91b9646307153bc inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1agents_1_1Agent.html#a005f62f977e8a7ebf91b9646307153bc">upgrade_opt</a> (cls, opt_from_disk)</td></tr>
<tr class="separator:a005f62f977e8a7ebf91b9646307153bc inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:abc77ad96264e7597c46bc001a9a6af90"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#abc77ad96264e7597c46bc001a9a6af90">dictionary_class</a> ()</td></tr>
<tr class="separator:abc77ad96264e7597c46bc001a9a6af90"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a91d101db75d3618e8240a44b258f3129"><td class="memItemLeft" align="right" valign="top"><a id="a91d101db75d3618e8240a44b258f3129"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>replies</b></td></tr>
<tr class="separator:a91d101db75d3618e8240a44b258f3129"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa0def82ae9760fde7f60c0881b8a138"><td class="memItemLeft" align="right" valign="top"><a id="afa0def82ae9760fde7f60c0881b8a138"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>dict</b></td></tr>
<tr class="separator:afa0def82ae9760fde7f60c0881b8a138"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e938a91873bd6edde0ac7ed5299bc6a"><td class="memItemLeft" align="right" valign="top"><a id="a4e938a91873bd6edde0ac7ed5299bc6a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>opt</b></td></tr>
<tr class="separator:a4e938a91873bd6edde0ac7ed5299bc6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8efd385be7532abd27359b5dbbbbb24"><td class="memItemLeft" align="right" valign="top"><a id="aa8efd385be7532abd27359b5dbbbbb24"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>use_cuda</b></td></tr>
<tr class="separator:aa8efd385be7532abd27359b5dbbbbb24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60d1038c25746d97d791b82a5c8e0492"><td class="memItemLeft" align="right" valign="top"><a id="a60d1038c25746d97d791b82a5c8e0492"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>id</b></td></tr>
<tr class="separator:a60d1038c25746d97d791b82a5c8e0492"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaed187f97f489122996e967206a01927"><td class="memItemLeft" align="right" valign="top"><a id="aaed187f97f489122996e967206a01927"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>EMPTY</b></td></tr>
<tr class="separator:aaed187f97f489122996e967206a01927"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e6a5f2f7644a6cc273bfa25eca17df6"><td class="memItemLeft" align="right" valign="top"><a id="a6e6a5f2f7644a6cc273bfa25eca17df6"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>NULL_IDX</b></td></tr>
<tr class="separator:a6e6a5f2f7644a6cc273bfa25eca17df6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37d6429a766547a68f72ffb6c27783db"><td class="memItemLeft" align="right" valign="top"><a id="a37d6429a766547a68f72ffb6c27783db"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>START_IDX</b></td></tr>
<tr class="separator:a37d6429a766547a68f72ffb6c27783db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa78932aa1b5886cd03f1592bfa6ed4f5"><td class="memItemLeft" align="right" valign="top"><a id="aa78932aa1b5886cd03f1592bfa6ed4f5"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>END_IDX</b></td></tr>
<tr class="separator:aa78932aa1b5886cd03f1592bfa6ed4f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f9045fdfe9f956ee5023de84dd25a06"><td class="memItemLeft" align="right" valign="top"><a id="a2f9045fdfe9f956ee5023de84dd25a06"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>random</b></td></tr>
<tr class="separator:a2f9045fdfe9f956ee5023de84dd25a06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31b5e2e435a70f40ce155dabe831d41c"><td class="memItemLeft" align="right" valign="top"><a id="a31b5e2e435a70f40ce155dabe831d41c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>batch_idx</b></td></tr>
<tr class="separator:a31b5e2e435a70f40ce155dabe831d41c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add94f2eee8d2a4aba14869587e9dd4d3"><td class="memItemLeft" align="right" valign="top"><a id="add94f2eee8d2a4aba14869587e9dd4d3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>histsz</b></td></tr>
<tr class="separator:add94f2eee8d2a4aba14869587e9dd4d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a858bd7d01a3d6298f2e2f72efcf73953"><td class="memItemLeft" align="right" valign="top"><a id="a858bd7d01a3d6298f2e2f72efcf73953"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>history</b></td></tr>
<tr class="separator:a858bd7d01a3d6298f2e2f72efcf73953"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0286e4dbf6dc71bda0c364851de5f22"><td class="memItemLeft" align="right" valign="top"><a id="ac0286e4dbf6dc71bda0c364851de5f22"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>truncate</b></td></tr>
<tr class="separator:ac0286e4dbf6dc71bda0c364851de5f22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab768649f4b4a30eb9a75fedde5a9935f"><td class="memItemLeft" align="right" valign="top"><a id="ab768649f4b4a30eb9a75fedde5a9935f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>rank_candidates</b></td></tr>
<tr class="separator:ab768649f4b4a30eb9a75fedde5a9935f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81f970d715f2525ad342330a28703c5c"><td class="memItemLeft" align="right" valign="top"><a id="a81f970d715f2525ad342330a28703c5c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>add_person_tokens</b></td></tr>
<tr class="separator:a81f970d715f2525ad342330a28703c5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99254a4351798f66797e0a5a8ff855d5"><td class="memItemLeft" align="right" valign="top"><a id="a99254a4351798f66797e0a5a8ff855d5"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>clip</b></td></tr>
<tr class="separator:a99254a4351798f66797e0a5a8ff855d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2524bfb4b01626290e6fa26be52f2a80"><td class="memItemLeft" align="right" valign="top"><a id="a2524bfb4b01626290e6fa26be52f2a80"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>optimizer</b></td></tr>
<tr class="separator:a2524bfb4b01626290e6fa26be52f2a80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea16ae8f9536959afd6e7434d418a719"><td class="memItemLeft" align="right" valign="top"><a id="aea16ae8f9536959afd6e7434d418a719"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>scheduler</b></td></tr>
<tr class="separator:aea16ae8f9536959afd6e7434d418a719"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f1da649c485f406076be7bf84b2d4ee"><td class="memItemLeft" align="right" valign="top"><a id="a3f1da649c485f406076be7bf84b2d4ee"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>proj_rp</b></td></tr>
<tr class="separator:a3f1da649c485f406076be7bf84b2d4ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04fa334c086cf9afa815a44f1948e625"><td class="memItemLeft" align="right" valign="top"><a id="a04fa334c086cf9afa815a44f1948e625"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>observation</b></td></tr>
<tr class="separator:a04fa334c086cf9afa815a44f1948e625"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_classparlai_1_1core_1_1agents_1_1Agent"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classparlai_1_1core_1_1agents_1_1Agent')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="classparlai_1_1core_1_1agents_1_1Agent.html">parlai.core.agents.Agent</a></td></tr>
<tr class="memitem:ac00c13f4c7dd1263bf9203fa96dd2366 inherit pub_attribs_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top"><a id="ac00c13f4c7dd1263bf9203fa96dd2366"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>id</b></td></tr>
<tr class="separator:ac00c13f4c7dd1263bf9203fa96dd2366 inherit pub_attribs_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3b45d2754244608c75d4068b90cd051 inherit pub_attribs_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top"><a id="ab3b45d2754244608c75d4068b90cd051"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>opt</b></td></tr>
<tr class="separator:ab3b45d2754244608c75d4068b90cd051 inherit pub_attribs_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedbecc4b4aa7af7413882a0429e0f1db inherit pub_attribs_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top"><a id="aedbecc4b4aa7af7413882a0429e0f1db"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>observation</b></td></tr>
<tr class="separator:aedbecc4b4aa7af7413882a0429e0f1db inherit pub_attribs_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:ae574bf3e21ff941060ae0f3dcb284d8d"><td class="memItemLeft" align="right" valign="top">dictionary&#160;</td><td class="memItemRight" valign="bottom"><b>OPTIM_OPTS</b></td></tr>
<tr class="separator:ae574bf3e21ff941060ae0f3dcb284d8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14e0236052fb45181b6717922c517537"><td class="memItemLeft" align="right" valign="top"><a id="a14e0236052fb45181b6717922c517537"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>P1_TOKEN</b> = '__p1__'</td></tr>
<tr class="separator:a14e0236052fb45181b6717922c517537"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50d73f48f3f951684afc094495473ec5"><td class="memItemLeft" align="right" valign="top"><a id="a50d73f48f3f951684afc094495473ec5"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>P2_TOKEN</b> = '__p2__'</td></tr>
<tr class="separator:a50d73f48f3f951684afc094495473ec5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:aacd33f0ba4e08159e567229b16999548"><td class="memItemLeft" align="right" valign="top"><a id="aacd33f0ba4e08159e567229b16999548"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>_get_embtype</b> (self, emb_type)</td></tr>
<tr class="separator:aacd33f0ba4e08159e567229b16999548"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0fce532d1e9e2a17e8303290d47e8d5"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#af0fce532d1e9e2a17e8303290d47e8d5">_project_vec</a> (self, vec, target_dim, method='random')</td></tr>
<tr class="separator:af0fce532d1e9e2a17e8303290d47e8d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26c3912e7fb445f3e4d9d61fa4b28cd9"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a26c3912e7fb445f3e4d9d61fa4b28cd9">_copy_embeddings</a> (self, weight, emb_type, log=True)</td></tr>
<tr class="separator:a26c3912e7fb445f3e4d9d61fa4b28cd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe1fbeb5c08873917bc34e6ba5350ec5"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#abe1fbeb5c08873917bc34e6ba5350ec5">_v2t</a> (self, vec)</td></tr>
<tr class="separator:abe1fbeb5c08873917bc34e6ba5350ec5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac698ff0226e4d22f8498a9d9e667a34c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#ac698ff0226e4d22f8498a9d9e667a34c">_vectorize_text</a> (self, text, add_start=False, add_end=False, truncate=None, truncate_left=True)</td></tr>
<tr class="separator:ac698ff0226e4d22f8498a9d9e667a34c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07964fbca57736f639fe4e9dd9d1459a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a07964fbca57736f639fe4e9dd9d1459a">_check_truncate</a> (self, vec, truncate)</td></tr>
<tr class="separator:a07964fbca57736f639fe4e9dd9d1459a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85106541b03e5c9dad245b002da7431c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a85106541b03e5c9dad245b002da7431c">_set_text_vec</a> (self, obs, truncate, split_lines)</td></tr>
<tr class="separator:a85106541b03e5c9dad245b002da7431c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a062901964b89a83cfce76560e23e627a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a062901964b89a83cfce76560e23e627a">_set_label_vec</a> (self, obs, add_start, add_end, truncate)</td></tr>
<tr class="separator:a062901964b89a83cfce76560e23e627a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7d66c2a4d9370532df8654048742a6c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#af7d66c2a4d9370532df8654048742a6c">_set_label_cands_vec</a> (self, obs, add_start, add_end, truncate)</td></tr>
<tr class="separator:af7d66c2a4d9370532df8654048742a6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69a72e46d8385ce508bf2df1290db6b8"><td class="memItemLeft" align="right" valign="top"><a id="a69a72e46d8385ce508bf2df1290db6b8"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>_add_person_tokens</b> (self, text, token, add_after_newln=False)</td></tr>
<tr class="separator:a69a72e46d8385ce508bf2df1290db6b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abccc931006f7efe5262513416390ecb2"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#abccc931006f7efe5262513416390ecb2">_save_history</a> (self, observations, replies)</td></tr>
<tr class="separator:abccc931006f7efe5262513416390ecb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">A provided base agent for any model that wants to use Torch.

Exists to make it easier to implement a new agent.
Not necessary, but reduces duplicated code.

Many methods are intended to be either used as is when the default is
acceptable, or to be overriden and called with super(), with the extra
functionality added to the initial result. See the method comment for
recommended behavior.

This agent serves as a common framework for all ParlAI models which want
to use PyTorch.
</pre><pre class="fragment">Utility mapping of simple names to optimizers.

For example:
'adagrad': optim.Adagrad, 'adam': optim.Adad, 'sgd': optim.SGD
</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent__v1_8py_source.html#l00110">110</a> of file <a class="el" href="torch__agent__v1_8py_source.html">torch_agent_v1.py</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a1c4eb91757ee23e75edfa957d05db338"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c4eb91757ee23e75edfa957d05db338">&#9670;&nbsp;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>opt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>shared</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Initialize agent.</pre> 
<p>Reimplemented from <a class="el" href="classparlai_1_1core_1_1agents_1_1Agent.html">parlai.core.agents.Agent</a>.</p>

<p>Reimplemented in <a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1PerplexityEvaluatorAgent.html#acf3daa1b1bfc893504efa07f3eb9b667">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.PerplexityEvaluatorAgent</a>, and <a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#aea5753e8b1090fc88e657ada44492556">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent__v1_8py_source.html#l00281">281</a> of file <a class="el" href="torch__agent__v1_8py_source.html">torch_agent_v1.py</a>.</p>

<p class="reference">References <a class="el" href="torch__agent__v1_8py_source.html#l00332">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.add_person_tokens</a>, <a class="el" href="memnn__v0_8py_source.html#l00185">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.batch_idx</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00324">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.batch_idx</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00360">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.batch_idx</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00092">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.dict</a>, <a class="el" href="memnn__v0_8py_source.html#l00102">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.dict</a>, <a class="el" href="language__model_8py_source.html#l00171">parlai.agents.language_model.language_model.LanguageModelAgent.dict</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00198">parlai.agents.legacy_agents.memnn.modules_v0.Decoder.dict</a>, <a class="el" href="fairseq_8py_source.html#l00208">parlai.agents.fairseq.fairseq._ParlaiTask.dict</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00289">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.dict</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00375">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.dict</a>, <a class="el" href="fairseq_8py_source.html#l00396">parlai.agents.fairseq.fairseq.FairseqAgent.dict</a>, <a class="el" href="language__model_8py_source.html#l00030">parlai.agents.language_model.language_model.LanguageModelAgent.dictionary_class()</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00063">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.dictionary_class()</a>, <a class="el" href="both__encoder__ranker_8py_source.html#l00079">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.dictionary_class()</a>, <a class="el" href="drqa_8py_source.html#l00107">parlai.agents.drqa.drqa.DrqaAgent.dictionary_class()</a>, <a class="el" href="bert__classifier_8py_source.html#l00112">parlai.agents.bert_classifier.bert_classifier.BertClassifierAgent.dictionary_class()</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00116">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.dictionary_class()</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00126">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.dictionary_class()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00140">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.dictionary_class()</a>, <a class="el" href="fairseq_8py_source.html#l00319">parlai.agents.fairseq.fairseq.FairseqAgent.dictionary_class()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00317">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.EMPTY</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00046">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.END_IDX</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00055">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.END_IDX</a>, <a class="el" href="both__encoder__ranker_8py_source.html#l00064">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.END_IDX</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00080">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.END_IDX</a>, <a class="el" href="language__model_8py_source.html#l00178">parlai.agents.language_model.language_model.LanguageModelAgent.END_IDX</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00320">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.END_IDX</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00377">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.END_IDX</a>, <a class="el" href="memnn__v0_8py_source.html#l00184">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.history</a>, <a class="el" href="ir__baseline_8py_source.html#l00247">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.history</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00328">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.history</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00357">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.history</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00326">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.histsz</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00031">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.id</a>, <a class="el" href="memnn__v0_8py_source.html#l00101">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.id</a>, <a class="el" href="drqa_8py_source.html#l00141">parlai.agents.drqa.drqa.DrqaAgent.id</a>, <a class="el" href="seq2seq__v1_8py_source.html#l00216">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent.id</a>, <a class="el" href="language__model_8py_source.html#l00221">parlai.agents.language_model.language_model.LanguageModelAgent.id</a>, <a class="el" href="ir__baseline_8py_source.html#l00243">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.id</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00316">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.id</a>, <a class="el" href="fairseq_8py_source.html#l00344">parlai.agents.fairseq.fairseq.FairseqAgent.id</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00412">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.id</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00045">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.NULL_IDX</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00053">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.NULL_IDX</a>, <a class="el" href="both__encoder__ranker_8py_source.html#l00062">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.NULL_IDX</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00078">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.NULL_IDX</a>, <a class="el" href="modules__v1_8py_source.html#l00078">parlai.agents.legacy_agents.seq2seq.modules_v1.Seq2seq.NULL_IDX</a>, <a class="el" href="memnn__v0_8py_source.html#l00140">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.NULL_IDX</a>, <a class="el" href="language__model_8py_source.html#l00177">parlai.agents.language_model.language_model.LanguageModelAgent.NULL_IDX</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00318">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.NULL_IDX</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00378">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.NULL_IDX</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00556">parlai.agents.legacy_agents.seq2seq.modules_v0.Ranker.NULL_IDX</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00017">parlai.agents.legacy_agents.memnn.modules_v0.MemNN.opt</a>, <a class="el" href="parlai_2agents_2language__model_2modules_8py_source.html#l00018">parlai.agents.language_model.modules.RNNModel.opt</a>, <a class="el" href="rnn__reader_8py_source.html#l00019">parlai.agents.drqa.rnn_reader.RnnDocReader.opt</a>, <a class="el" href="model_8py_source.html#l00024">parlai.agents.drqa.model.DocReaderModel.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00033">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.opt</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00040">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.opt</a>, <a class="el" href="memnn__v0_8py_source.html#l00135">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.opt</a>, <a class="el" href="language__model_8py_source.html#l00169">parlai.agents.language_model.language_model.LanguageModelAgent.opt</a>, <a class="el" href="dict__v0_8py_source.html#l00196">parlai.agents.legacy_agents.seq2seq.dict_v0.DictionaryAgent.opt</a>, <a class="el" href="dict__v1_8py_source.html#l00206">parlai.agents.legacy_agents.seq2seq.dict_v1.DictionaryAgent.opt</a>, <a class="el" href="ir__baseline_8py_source.html#l00246">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.opt</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00295">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.opt</a>, <a class="el" href="fairseq_8py_source.html#l00338">parlai.agents.fairseq.fairseq.FairseqAgent.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00373">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.opt</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00136">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.P1_TOKEN</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00137">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.P2_TOKEN</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00322">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.random</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00331">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.rank_candidates</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00288">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.replies</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00054">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.START_IDX</a>, <a class="el" href="both__encoder__ranker_8py_source.html#l00063">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.START_IDX</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00079">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.START_IDX</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00319">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.START_IDX</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00376">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.START_IDX</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00330">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.truncate</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00350">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.truncate</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00048">parlai.agents.legacy_agents.memnn.modules_v0.MemNN.use_cuda</a>, <a class="el" href="memnn__v0_8py_source.html#l00096">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.use_cuda</a>, <a class="el" href="language__model_8py_source.html#l00162">parlai.agents.language_model.language_model.LanguageModelAgent.use_cuda</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00303">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.use_cuda</a>, and <a class="el" href="seq2seq__v0_8py_source.html#l00367">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.use_cuda</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a1c4eb91757ee23e75edfa957d05db338_cgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a1c4eb91757ee23e75edfa957d05db338_cgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a1c4eb91757ee23e75edfa957d05db338_cgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a1c4eb91757ee23e75edfa957d05db338_cgraph">
<area shape="rect" title=" " alt="" coords="5,305,163,375"/>
<area shape="rect" href="classparlai_1_1agents_1_1language__model_1_1language__model_1_1LanguageModelAgent.html#a80bdd18c28f4a2ab19c463dd123165e7" title=" " alt="" coords="263,5,485,61"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1bi__encoder__ranker_1_1BiEncoderRankerAgent.html#a7920edd41a6bdbd18e9a0c50a1953f9d" title=" " alt="" coords="246,85,502,141"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html#a4fd71b73fc926491aedc3da5921f62ca" title=" " alt="" coords="215,165,533,221"/>
<area shape="rect" href="classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent.html#a1d925f46a6b35d1f10cb033a1184841d" title=" " alt="" coords="283,246,465,287"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__classifier_1_1bert__classifier_1_1BertClassifierAgent.html#af568b5ebe0ada0e2823e9e2be2d70e9f" title=" " alt="" coords="257,312,491,368"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v0_1_1Seq2seqAgent.html#a05552a2714cd8d15d754a62258727c98" title=" " alt="" coords="259,392,489,448"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1cross__encoder__ranker_1_1CrossEncoderRankerAgent.html#a0518d01be6a05fc2bc117f2c55cb6328" title=" " alt="" coords="211,472,537,528"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#abc77ad96264e7597c46bc001a9a6af90" title=" " alt="" coords="249,552,499,608"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#a3dc59646a2e97d015dfdddb65021429b" title=" " alt="" coords="275,633,473,674"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a07964fbca57736f639fe4e9dd9d1459a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07964fbca57736f639fe4e9dd9d1459a">&#9670;&nbsp;</a></span>_check_truncate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._check_truncate </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>truncate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Check that vector is truncated correctly.</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent__v1_8py_source.html#l00549">549</a> of file <a class="el" href="torch__agent__v1_8py_source.html">torch_agent_v1.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__agent__v1_8py_source.html#l00617">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._set_label_cands_vec()</a>, <a class="el" href="torch__agent_8py_source.html#l01335">parlai.core.torch_agent.TorchAgent._set_label_cands_vec()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00586">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._set_label_vec()</a>, <a class="el" href="torch__agent_8py_source.html#l01304">parlai.core.torch_agent.TorchAgent._set_label_vec()</a>, <a class="el" href="projects_2wizard__of__wikipedia_2generator_2agents_8py_source.html#l00072">generator.agents.TwoStageAgent._set_text_vec()</a>, <a class="el" href="memnn_8py_source.html#l00165">parlai.agents.memnn.memnn.MemnnAgent._set_text_vec()</a>, <a class="el" href="self__feeding__agent_8py_source.html#l00392">self_feeding.self_feeding_agent.SelfFeedingAgent._set_text_vec()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00558">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._set_text_vec()</a>, <a class="el" href="torch__agent_8py_source.html#l01276">parlai.core.torch_agent.TorchAgent._set_text_vec()</a>, and <a class="el" href="torch__agent_8py_source.html#l01237">parlai.core.torch_agent.TorchAgent._vectorize_text()</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a07964fbca57736f639fe4e9dd9d1459a_icgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a07964fbca57736f639fe4e9dd9d1459a_icgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a07964fbca57736f639fe4e9dd9d1459a_icgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a07964fbca57736f639fe4e9dd9d1459a_icgraph">
<area shape="rect" title=" " alt="" coords="1305,358,1463,429"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#af7d66c2a4d9370532df8654048742a6c" title=" " alt="" coords="1087,7,1245,78"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a4d28fb5efada28c0ed88e50f32d13d6a" title=" " alt="" coords="832,379,991,435"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a062901964b89a83cfce76560e23e627a" title=" " alt="" coords="1087,102,1245,173"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#ae4cd508e77aa5828217b6955f77f3a2d" title=" " alt="" coords="821,459,1001,501"/>
<area shape="rect" href="classgenerator_1_1agents_1_1TwoStageAgent.html#ad40111b6d2fb8b260a045dec0299c3af" title=" " alt="" coords="1075,577,1257,618"/>
<area shape="rect" href="classparlai_1_1agents_1_1memnn_1_1memnn_1_1MemnnAgent.html#a3bd2d78f6cbe46afb8b37ab5160bda83" title=" " alt="" coords="814,262,1009,303"/>
<area shape="rect" href="classself__feeding_1_1self__feeding__agent_1_1SelfFeedingAgent.html#addb19af0828512dfd866ff91f558ca65" title=" " alt="" coords="1080,643,1252,699"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a85106541b03e5c9dad245b002da7431c" title=" " alt="" coords="1087,197,1245,267"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a70f9a0937c1bfba2892b65bce8493df7" title=" " alt="" coords="1079,343,1253,385"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a024c4a0801e7dddf54bf3222dc77eaf6" title=" " alt="" coords="1075,511,1257,553"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a866838e1c81063a3ec18c5609e029f90" title=" " alt="" coords="806,29,1017,85"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a48bb9b153353a0565ab7253dc1daef99" title=" " alt="" coords="557,250,716,291"/>
<area shape="rect" href="classself__feeding_1_1self__feeding__agent_1_1SelfFeedingAgent.html#a7e76b6e8f11577a56a9c000cb360a44e" title=" " alt="" coords="259,86,477,127"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a0eb23a78aea413ae4f90ce0628179920" title=" " alt="" coords="267,5,469,61"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a87b18f0d6ab11be3c49375af072d0d33" title=" " alt="" coords="289,151,447,193"/>
<area shape="rect" href="classparlai_1_1agents_1_1starspace_1_1starspace_1_1StarspaceAgent.html#a87253cca09c8b22848ff0bea7195e32d" title=" " alt="" coords="525,119,748,161"/>
<area shape="rect" href="classparlai_1_1tasks_1_1talkthewalk_1_1worlds_1_1SimulateWorld.html#a6bd5a8a8e194dd4aa76aeecdf429bc7f" title=" " alt="" coords="5,133,211,174"/>
<area shape="rect" href="classparlai_1_1core_1_1worlds_1_1ExecutableWorld.html#a6555592d2b7c316e72febc1fccf43bdb" title=" " alt="" coords="11,31,205,73"/>
<area shape="rect" href="classwizard__transformer__ranker_1_1wizard__transformer__ranker_1_1WizardTransformerRankerAgent.html#a2f0754d9a85e72c3ffcae9f2cc51b639" title=" " alt="" coords="800,525,1023,595"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1bi__encoder__ranker_1_1BiEncoderRankerAgent.html#acdfa23a21c8364e7205093a5af51264f" title=" " alt="" coords="547,773,727,843"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1bi__encoder__ranker_1_1BiEncoderRankerAgent.html#a3062adbae2449553b4a6e12c5973116d" title=" " alt="" coords="804,619,1019,690"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#af2e2d618f056bb68089c7252fa07d07b" title=" " alt="" coords="796,715,1027,771"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#acde404a79bf3678bb52d3e6c3ee5244a" title=" " alt="" coords="19,735,197,791"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#aeceb8a86a165dd9f97b9f8270462a828" title=" " alt="" coords="547,692,726,748"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#a9039757596f98b45b6676b16589883a3" title=" " alt="" coords="270,697,466,753"/>
</map>
</div>

</div>
</div>
<a id="a26c3912e7fb445f3e4d9d61fa4b28cd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26c3912e7fb445f3e4d9d61fa4b28cd9">&#9670;&nbsp;</a></span>_copy_embeddings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._copy_embeddings </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>weight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>emb_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>log</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Copy embeddings from the pretrained embeddings to the lookuptable.

:param weight:   weights of lookup table (nn.Embedding/nn.EmbeddingBag)
:param emb_type: pretrained embedding type
</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent__v1_8py_source.html#l00471">471</a> of file <a class="el" href="torch__agent__v1_8py_source.html">torch_agent_v1.py</a>.</p>

<p class="reference">References <a class="el" href="torch__agent__v1_8py_source.html#l00394">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._get_embtype()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00439">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._project_vec()</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00092">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.dict</a>, <a class="el" href="memnn__v0_8py_source.html#l00102">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.dict</a>, <a class="el" href="language__model_8py_source.html#l00171">parlai.agents.language_model.language_model.LanguageModelAgent.dict</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00198">parlai.agents.legacy_agents.memnn.modules_v0.Decoder.dict</a>, <a class="el" href="fairseq_8py_source.html#l00208">parlai.agents.fairseq.fairseq._ParlaiTask.dict</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00289">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.dict</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00375">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.dict</a>, and <a class="el" href="fairseq_8py_source.html#l00396">parlai.agents.fairseq.fairseq.FairseqAgent.dict</a>.</p>

<p class="reference">Referenced by <a class="el" href="seq2seq__v1_8py_source.html#l00275">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent._init_model()</a>, <a class="el" href="agents_2seq2seq_2seq2seq_8py_source.html#l00156">parlai.agents.seq2seq.seq2seq.Seq2seqAgent.build_model()</a>, <a class="el" href="transformer_8py_source.html#l00197">parlai.agents.transformer.transformer.TransformerRankerAgent.build_model()</a>, <a class="el" href="transformer_8py_source.html#l00284">parlai.agents.transformer.transformer.TransformerGeneratorAgent.build_model()</a>, <a class="el" href="self__feeding__agent_8py_source.html#l00294">self_feeding.self_feeding_agent.SelfFeedingAgent.build_model()</a>, <a class="el" href="projects_2wizard__of__wikipedia_2generator_2agents_8py_source.html#l00321">generator.agents.EndToEndAgent.build_model()</a>, <a class="el" href="controllable__seq2seq_8py_source.html#l00394">controllable_seq2seq.controllable_seq2seq.ControllableSeq2seqAgent.build_model()</a>, and <a class="el" href="fairseq_8py_source.html#l00414">parlai.agents.fairseq.fairseq.FairseqAgent.build_model()</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a26c3912e7fb445f3e4d9d61fa4b28cd9_cgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a26c3912e7fb445f3e4d9d61fa4b28cd9_cgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a26c3912e7fb445f3e4d9d61fa4b28cd9_cgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a26c3912e7fb445f3e4d9d61fa4b28cd9_cgraph">
<area shape="rect" title=" " alt="" coords="5,53,163,124"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#aacd33f0ba4e08159e567229b16999548" title=" " alt="" coords="211,5,368,76"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#af0fce532d1e9e2a17e8303290d47e8d5" title=" " alt="" coords="211,100,368,171"/>
</map>
</div>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a26c3912e7fb445f3e4d9d61fa4b28cd9_icgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a26c3912e7fb445f3e4d9d61fa4b28cd9_icgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a26c3912e7fb445f3e4d9d61fa4b28cd9_icgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a26c3912e7fb445f3e4d9d61fa4b28cd9_icgraph">
<area shape="rect" title=" " alt="" coords="696,378,853,449"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#af5b82b66a77d0211c7ed956b207dc0e2" title=" " alt="" coords="392,89,595,145"/>
<area shape="rect" href="classparlai_1_1agents_1_1seq2seq_1_1seq2seq_1_1Seq2seqAgent.html#a43422bdf284bfc06a9bd2db434a7167c" title=" " alt="" coords="390,294,597,335"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1transformer_1_1TransformerRankerAgent.html#a3336fdab2d667e6e631135ec70e8558f" title=" " alt="" coords="373,359,614,401"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1transformer_1_1TransformerGeneratorAgent.html#a473f2a19d6bce412c4c9163c7beb9b09" title=" " alt="" coords="365,425,621,466"/>
<area shape="rect" href="classself__feeding_1_1self__feeding__agent_1_1SelfFeedingAgent.html#ae8934c79f3d7079b09dadb1fc78d59b5" title=" " alt="" coords="373,490,614,531"/>
<area shape="rect" href="classgenerator_1_1agents_1_1EndToEndAgent.html#a4350bfc0d04bf47814db2d14b95ac3bb" title=" " alt="" coords="401,555,585,597"/>
<area shape="rect" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a7341b7dedc7150c4dfa27254188360c1" title=" " alt="" coords="339,621,648,662"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#a275a60cb93929725725d103fc76905ba" title=" " alt="" coords="400,229,587,270"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#aea5753e8b1090fc88e657ada44492556" title=" " alt="" coords="57,5,239,61"/>
<area shape="rect" href="classparlai_1_1agents_1_1test__agents_1_1dummy__torch__agent_1_1MockTorchAgent.html#af14024f59e4ea3dea5c7ff38caff89ad" title=" " alt="" coords="64,151,232,222"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__classifier__agent_1_1TorchClassifierAgent.html#af9f194b4566a43f0840286a39ee0032a" title=" " alt="" coords="53,473,243,529"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#acde404a79bf3678bb52d3e6c3ee5244a" title=" " alt="" coords="59,247,237,303"/>
<area shape="rect" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a2cbe8ed3b2b6b82be90db6b45331800b" title=" " alt="" coords="5,327,291,369"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__generator__agent_1_1TorchGeneratorAgent.html#a60f9613d8d2761569c8862b690b24bce" title=" " alt="" coords="51,393,245,449"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#ac203ba228e9e3dd20568b986ef600a62" title=" " alt="" coords="55,86,241,127"/>
</map>
</div>

</div>
</div>
<a id="af0fce532d1e9e2a17e8303290d47e8d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0fce532d1e9e2a17e8303290d47e8d5">&#9670;&nbsp;</a></span>_project_vec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._project_vec </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>target_dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>method</em> = <code>'random'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">If needed, project vector to target dimensionality.

Projection methods implemented are the following:

random - random gaussian matrix multiplication of input vector

:param vec:        one-dimensional vector
:param target_dim: dimension of returned vector
:param method:     projection method. will be used even if the dim is
           not changing if method ends in "-force".
</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent__v1_8py_source.html#l00439">439</a> of file <a class="el" href="torch__agent__v1_8py_source.html">torch_agent_v1.py</a>.</p>

<p class="reference">References <a class="el" href="torch__agent__v1_8py_source.html#l00456">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.proj_rp</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__agent__v1_8py_source.html#l00471">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._copy_embeddings()</a>, and <a class="el" href="torch__agent_8py_source.html#l01164">parlai.core.torch_agent.TorchAgent._copy_embeddings()</a>.</p>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_af0fce532d1e9e2a17e8303290d47e8d5_icgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_af0fce532d1e9e2a17e8303290d47e8d5_icgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_af0fce532d1e9e2a17e8303290d47e8d5_icgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_af0fce532d1e9e2a17e8303290d47e8d5_icgraph">
<area shape="rect" title=" " alt="" coords="949,265,1107,335"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a26c3912e7fb445f3e4d9d61fa4b28cd9" title=" " alt="" coords="720,225,877,295"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a3bfcd11debf76eff078d90c4b0f37a47" title=" " alt="" coords="696,319,901,361"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#af5b82b66a77d0211c7ed956b207dc0e2" title=" " alt="" coords="392,13,595,69"/>
<area shape="rect" href="classparlai_1_1agents_1_1seq2seq_1_1seq2seq_1_1Seq2seqAgent.html#a43422bdf284bfc06a9bd2db434a7167c" title=" " alt="" coords="390,305,597,346"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1transformer_1_1TransformerRankerAgent.html#a3336fdab2d667e6e631135ec70e8558f" title=" " alt="" coords="373,370,614,411"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1transformer_1_1TransformerGeneratorAgent.html#a473f2a19d6bce412c4c9163c7beb9b09" title=" " alt="" coords="365,435,621,477"/>
<area shape="rect" href="classself__feeding_1_1self__feeding__agent_1_1SelfFeedingAgent.html#ae8934c79f3d7079b09dadb1fc78d59b5" title=" " alt="" coords="373,501,614,542"/>
<area shape="rect" href="classgenerator_1_1agents_1_1EndToEndAgent.html#a4350bfc0d04bf47814db2d14b95ac3bb" title=" " alt="" coords="401,109,585,150"/>
<area shape="rect" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a7341b7dedc7150c4dfa27254188360c1" title=" " alt="" coords="339,174,648,215"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#a275a60cb93929725725d103fc76905ba" title=" " alt="" coords="400,239,587,281"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#aea5753e8b1090fc88e657ada44492556" title=" " alt="" coords="57,5,239,61"/>
<area shape="rect" href="classparlai_1_1agents_1_1test__agents_1_1dummy__torch__agent_1_1MockTorchAgent.html#af14024f59e4ea3dea5c7ff38caff89ad" title=" " alt="" coords="64,151,232,222"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__classifier__agent_1_1TorchClassifierAgent.html#af9f194b4566a43f0840286a39ee0032a" title=" " alt="" coords="53,392,243,448"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#acde404a79bf3678bb52d3e6c3ee5244a" title=" " alt="" coords="59,472,237,528"/>
<area shape="rect" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a2cbe8ed3b2b6b82be90db6b45331800b" title=" " alt="" coords="5,246,291,287"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__generator__agent_1_1TorchGeneratorAgent.html#a60f9613d8d2761569c8862b690b24bce" title=" " alt="" coords="51,312,245,368"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#ac203ba228e9e3dd20568b986ef600a62" title=" " alt="" coords="55,86,241,127"/>
</map>
</div>

</div>
</div>
<a id="abccc931006f7efe5262513416390ecb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abccc931006f7efe5262513416390ecb2">&#9670;&nbsp;</a></span>_save_history()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._save_history </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>observations</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>replies</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Save the model replies to the history.</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent__v1_8py_source.html#l00890">890</a> of file <a class="el" href="torch__agent__v1_8py_source.html">torch_agent_v1.py</a>.</p>

<p class="reference">References <a class="el" href="torch__agent__v1_8py_source.html#l00288">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.replies</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__agent__v1_8py_source.html#l00988">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.batch_act()</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_abccc931006f7efe5262513416390ecb2_icgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_abccc931006f7efe5262513416390ecb2_icgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_abccc931006f7efe5262513416390ecb2_icgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_abccc931006f7efe5262513416390ecb2_icgraph">
<area shape="rect" title=" " alt="" coords="800,216,957,287"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#af3929c1bedc50a48dcf8d1184321f4f5" title=" " alt="" coords="537,223,752,279"/>
<area shape="rect" href="classtransresnet_1_1transresnet_1_1TransresnetAgent.html#ad59fea461b2ea1f9731742901203bdd7" title=" " alt="" coords="290,5,450,47"/>
<area shape="rect" href="classmastering__the__dungeon_1_1agents_1_1graph__world2_1_1agents_1_1ModelAgentBase.html#a768f25fa424b2cd4d1de8e62bfed970a" title=" " alt="" coords="251,71,489,112"/>
<area shape="rect" href="classparlai_1_1agents_1_1starspace_1_1starspace_1_1StarspaceAgent.html#aff87fb1b28e798a9ca28a0dc3fbb2f22" title=" " alt="" coords="259,136,481,177"/>
<area shape="rect" href="classagent_1_1memnn__feedback_1_1MemnnFeedbackAgent.html#ab221141e0a956be465e718bb349e7554" title=" " alt="" coords="266,201,474,243"/>
<area shape="rect" href="classkvmemnn_1_1KvmemnnAgent.html#a6f57723b871277392a3f3fd627c717d8" title=" " alt="" coords="271,267,469,294"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a3ab251071823f34358a569c1c2a11bf9" title=" " alt="" coords="283,318,457,374"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a51174dfa508970e3392246b02d0d94b5" title=" " alt="" coords="291,399,449,440"/>
<area shape="rect" href="classparlai_1_1core_1_1worlds_1_1BatchWorld.html#a297ab42faba47581774cd9333c874905" title=" " alt="" coords="289,464,451,505"/>
<area shape="rect" href="classparlai_1_1messenger_1_1core_1_1agents_1_1MessengerAgent.html#a50d76f90d1926c160d96e621403b7598" title=" " alt="" coords="5,231,203,272"/>
</map>
</div>

</div>
</div>
<a id="af7d66c2a4d9370532df8654048742a6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7d66c2a4d9370532df8654048742a6c">&#9670;&nbsp;</a></span>_set_label_cands_vec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._set_label_cands_vec </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>add_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>add_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>truncate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Sets the 'label_candidates_vec' field in the observation.

Useful to override to change vectorization behavior</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent__v1_8py_source.html#l00617">617</a> of file <a class="el" href="torch__agent__v1_8py_source.html">torch_agent_v1.py</a>.</p>

<p class="reference">References <a class="el" href="torch__agent__v1_8py_source.html#l00549">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._check_truncate()</a>, <a class="el" href="projects_2wizard__of__wikipedia_2generator_2agents_8py_source.html#l00100">generator.agents.EndToEndAgent._vectorize_text</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00513">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._vectorize_text()</a>, and <a class="el" href="torch__agent__v1_8py_source.html#l00331">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.rank_candidates</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__agent__v1_8py_source.html#l00636">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.vectorize()</a>, and <a class="el" href="torch__agent_8py_source.html#l01355">parlai.core.torch_agent.TorchAgent.vectorize()</a>.</p>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_af7d66c2a4d9370532df8654048742a6c_cgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_af7d66c2a4d9370532df8654048742a6c_cgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_af7d66c2a4d9370532df8654048742a6c_cgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_af7d66c2a4d9370532df8654048742a6c_cgraph">
<area shape="rect" title=" " alt="" coords="5,53,163,124"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a07964fbca57736f639fe4e9dd9d1459a" title=" " alt="" coords="211,5,368,76"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#ac698ff0226e4d22f8498a9d9e667a34c" title=" " alt="" coords="211,100,368,171"/>
</map>
</div>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_af7d66c2a4d9370532df8654048742a6c_icgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_af7d66c2a4d9370532df8654048742a6c_icgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_af7d66c2a4d9370532df8654048742a6c_icgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_af7d66c2a4d9370532df8654048742a6c_icgraph">
<area shape="rect" title=" " alt="" coords="1055,100,1212,171"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a866838e1c81063a3ec18c5609e029f90" title=" " alt="" coords="796,139,1007,195"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a48bb9b153353a0565ab7253dc1daef99" title=" " alt="" coords="557,5,716,47"/>
<area shape="rect" href="classself__feeding_1_1self__feeding__agent_1_1SelfFeedingAgent.html#a7e76b6e8f11577a56a9c000cb360a44e" title=" " alt="" coords="259,165,477,207"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a0eb23a78aea413ae4f90ce0628179920" title=" " alt="" coords="267,231,469,287"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a87b18f0d6ab11be3c49375af072d0d33" title=" " alt="" coords="289,100,447,141"/>
<area shape="rect" href="classparlai_1_1agents_1_1starspace_1_1starspace_1_1StarspaceAgent.html#a87253cca09c8b22848ff0bea7195e32d" title=" " alt="" coords="525,147,748,188"/>
<area shape="rect" href="classparlai_1_1tasks_1_1talkthewalk_1_1worlds_1_1SimulateWorld.html#a6bd5a8a8e194dd4aa76aeecdf429bc7f" title=" " alt="" coords="5,119,211,160"/>
<area shape="rect" href="classparlai_1_1core_1_1worlds_1_1ExecutableWorld.html#a6555592d2b7c316e72febc1fccf43bdb" title=" " alt="" coords="11,203,205,244"/>
</map>
</div>

</div>
</div>
<a id="a062901964b89a83cfce76560e23e627a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a062901964b89a83cfce76560e23e627a">&#9670;&nbsp;</a></span>_set_label_vec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._set_label_vec </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>add_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>add_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>truncate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Sets the 'labels_vec' field in the observation.

Useful to override to change vectorization behavior</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent__v1_8py_source.html#l00586">586</a> of file <a class="el" href="torch__agent__v1_8py_source.html">torch_agent_v1.py</a>.</p>

<p class="reference">References <a class="el" href="torch__agent__v1_8py_source.html#l00549">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._check_truncate()</a>, <a class="el" href="projects_2wizard__of__wikipedia_2generator_2agents_8py_source.html#l00100">generator.agents.EndToEndAgent._vectorize_text</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00513">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._vectorize_text()</a>, and <a class="el" href="torch__agent__v1_8py_source.html#l00322">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.random</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__agent__v1_8py_source.html#l00636">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.vectorize()</a>, and <a class="el" href="torch__agent_8py_source.html#l01355">parlai.core.torch_agent.TorchAgent.vectorize()</a>.</p>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a062901964b89a83cfce76560e23e627a_cgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a062901964b89a83cfce76560e23e627a_cgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a062901964b89a83cfce76560e23e627a_cgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a062901964b89a83cfce76560e23e627a_cgraph">
<area shape="rect" title=" " alt="" coords="5,53,163,124"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a07964fbca57736f639fe4e9dd9d1459a" title=" " alt="" coords="211,5,368,76"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#ac698ff0226e4d22f8498a9d9e667a34c" title=" " alt="" coords="211,100,368,171"/>
</map>
</div>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a062901964b89a83cfce76560e23e627a_icgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a062901964b89a83cfce76560e23e627a_icgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a062901964b89a83cfce76560e23e627a_icgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a062901964b89a83cfce76560e23e627a_icgraph">
<area shape="rect" title=" " alt="" coords="1055,100,1212,171"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a866838e1c81063a3ec18c5609e029f90" title=" " alt="" coords="796,139,1007,195"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a48bb9b153353a0565ab7253dc1daef99" title=" " alt="" coords="557,5,716,47"/>
<area shape="rect" href="classself__feeding_1_1self__feeding__agent_1_1SelfFeedingAgent.html#a7e76b6e8f11577a56a9c000cb360a44e" title=" " alt="" coords="259,165,477,207"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a0eb23a78aea413ae4f90ce0628179920" title=" " alt="" coords="267,231,469,287"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a87b18f0d6ab11be3c49375af072d0d33" title=" " alt="" coords="289,100,447,141"/>
<area shape="rect" href="classparlai_1_1agents_1_1starspace_1_1starspace_1_1StarspaceAgent.html#a87253cca09c8b22848ff0bea7195e32d" title=" " alt="" coords="525,147,748,188"/>
<area shape="rect" href="classparlai_1_1tasks_1_1talkthewalk_1_1worlds_1_1SimulateWorld.html#a6bd5a8a8e194dd4aa76aeecdf429bc7f" title=" " alt="" coords="5,119,211,160"/>
<area shape="rect" href="classparlai_1_1core_1_1worlds_1_1ExecutableWorld.html#a6555592d2b7c316e72febc1fccf43bdb" title=" " alt="" coords="11,203,205,244"/>
</map>
</div>

</div>
</div>
<a id="a85106541b03e5c9dad245b002da7431c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85106541b03e5c9dad245b002da7431c">&#9670;&nbsp;</a></span>_set_text_vec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._set_text_vec </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>truncate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>split_lines</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Sets the 'text_vec' field in the observation.

Useful to override to change vectorization behavior</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent__v1_8py_source.html#l00558">558</a> of file <a class="el" href="torch__agent__v1_8py_source.html">torch_agent_v1.py</a>.</p>

<p class="reference">References <a class="el" href="torch__agent__v1_8py_source.html#l00549">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._check_truncate()</a>, <a class="el" href="projects_2wizard__of__wikipedia_2generator_2agents_8py_source.html#l00100">generator.agents.EndToEndAgent._vectorize_text</a>, and <a class="el" href="torch__agent__v1_8py_source.html#l00513">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._vectorize_text()</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__agent__v1_8py_source.html#l00636">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.vectorize()</a>, and <a class="el" href="torch__agent_8py_source.html#l01355">parlai.core.torch_agent.TorchAgent.vectorize()</a>.</p>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a85106541b03e5c9dad245b002da7431c_cgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a85106541b03e5c9dad245b002da7431c_cgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a85106541b03e5c9dad245b002da7431c_cgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a85106541b03e5c9dad245b002da7431c_cgraph">
<area shape="rect" title=" " alt="" coords="5,53,163,124"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a07964fbca57736f639fe4e9dd9d1459a" title=" " alt="" coords="211,5,368,76"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#ac698ff0226e4d22f8498a9d9e667a34c" title=" " alt="" coords="211,100,368,171"/>
</map>
</div>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a85106541b03e5c9dad245b002da7431c_icgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a85106541b03e5c9dad245b002da7431c_icgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a85106541b03e5c9dad245b002da7431c_icgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a85106541b03e5c9dad245b002da7431c_icgraph">
<area shape="rect" title=" " alt="" coords="1055,100,1212,171"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a866838e1c81063a3ec18c5609e029f90" title=" " alt="" coords="796,139,1007,195"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a48bb9b153353a0565ab7253dc1daef99" title=" " alt="" coords="557,5,716,47"/>
<area shape="rect" href="classself__feeding_1_1self__feeding__agent_1_1SelfFeedingAgent.html#a7e76b6e8f11577a56a9c000cb360a44e" title=" " alt="" coords="259,165,477,207"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a0eb23a78aea413ae4f90ce0628179920" title=" " alt="" coords="267,231,469,287"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a87b18f0d6ab11be3c49375af072d0d33" title=" " alt="" coords="289,100,447,141"/>
<area shape="rect" href="classparlai_1_1agents_1_1starspace_1_1starspace_1_1StarspaceAgent.html#a87253cca09c8b22848ff0bea7195e32d" title=" " alt="" coords="525,147,748,188"/>
<area shape="rect" href="classparlai_1_1tasks_1_1talkthewalk_1_1worlds_1_1SimulateWorld.html#a6bd5a8a8e194dd4aa76aeecdf429bc7f" title=" " alt="" coords="5,119,211,160"/>
<area shape="rect" href="classparlai_1_1core_1_1worlds_1_1ExecutableWorld.html#a6555592d2b7c316e72febc1fccf43bdb" title=" " alt="" coords="11,203,205,244"/>
</map>
</div>

</div>
</div>
<a id="abe1fbeb5c08873917bc34e6ba5350ec5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe1fbeb5c08873917bc34e6ba5350ec5">&#9670;&nbsp;</a></span>_v2t()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._v2t </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Convert token indices to string of tokens.</pre> 
<p>Reimplemented in <a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#ad9708bd066d65d8ba66fd8697e6f6e4c">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent__v1_8py_source.html#l00502">502</a> of file <a class="el" href="torch__agent__v1_8py_source.html">torch_agent_v1.py</a>.</p>

<p class="reference">References <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00092">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.dict</a>, <a class="el" href="memnn__v0_8py_source.html#l00102">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.dict</a>, <a class="el" href="language__model_8py_source.html#l00171">parlai.agents.language_model.language_model.LanguageModelAgent.dict</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00198">parlai.agents.legacy_agents.memnn.modules_v0.Decoder.dict</a>, <a class="el" href="fairseq_8py_source.html#l00208">parlai.agents.fairseq.fairseq._ParlaiTask.dict</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00289">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.dict</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00375">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.dict</a>, <a class="el" href="fairseq_8py_source.html#l00396">parlai.agents.fairseq.fairseq.FairseqAgent.dict</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00046">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.END_IDX</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00055">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.END_IDX</a>, <a class="el" href="both__encoder__ranker_8py_source.html#l00064">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.END_IDX</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00080">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.END_IDX</a>, <a class="el" href="language__model_8py_source.html#l00178">parlai.agents.language_model.language_model.LanguageModelAgent.END_IDX</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00320">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.END_IDX</a>, and <a class="el" href="seq2seq__v0_8py_source.html#l00377">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.END_IDX</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__generator__agent_8py_source.html#l00551">parlai.core.torch_generator_agent.TorchGeneratorAgent.eval_step()</a>, and <a class="el" href="controllable__seq2seq_8py_source.html#l01045">controllable_seq2seq.controllable_seq2seq.ControllableSeq2seqAgent.eval_step()</a>.</p>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_abe1fbeb5c08873917bc34e6ba5350ec5_icgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_abe1fbeb5c08873917bc34e6ba5350ec5_icgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_abe1fbeb5c08873917bc34e6ba5350ec5_icgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_abe1fbeb5c08873917bc34e6ba5350ec5_icgraph">
<area shape="rect" title=" " alt="" coords="1007,65,1189,121"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__generator__agent_1_1TorchGeneratorAgent.html#ac584268dd08c6fcb0045aa968cad8561" title=" " alt="" coords="686,39,935,80"/>
<area shape="rect" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a600aa2aca5941966727a8e02bb0430a3" title=" " alt="" coords="663,104,959,145"/>
<area shape="rect" href="classtransresnet__multimodal_1_1transresnet__multimodal_1_1TransresnetMultimodalAgent.html#a057eb1109f5c2ea467539083e2f7e7f6" title=" " alt="" coords="292,104,615,145"/>
<area shape="rect" href="classtransresnet_1_1transresnet_1_1TransresnetAgent.html#a5eadf6ccc4b1d15a520a70d111bff493" title=" " alt="" coords="360,39,547,80"/>
<area shape="rect" href="classtransresnet_1_1transresnet_1_1TransresnetAgent.html#ad59fea461b2ea1f9731742901203bdd7" title=" " alt="" coords="45,5,205,47"/>
<area shape="rect" href="classmastering__the__dungeon_1_1agents_1_1graph__world2_1_1agents_1_1ModelAgentBase.html#a768f25fa424b2cd4d1de8e62bfed970a" title=" " alt="" coords="5,71,244,112"/>
<area shape="rect" href="classagent_1_1memnn__feedback_1_1MemnnFeedbackAgent.html#ab221141e0a956be465e718bb349e7554" title=" " alt="" coords="21,136,229,177"/>
<area shape="rect" href="classkvmemnn_1_1KvmemnnAgent.html#a6f57723b871277392a3f3fd627c717d8" title=" " alt="" coords="25,202,224,229"/>
</map>
</div>

</div>
</div>
<a id="ac698ff0226e4d22f8498a9d9e667a34c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac698ff0226e4d22f8498a9d9e667a34c">&#9670;&nbsp;</a></span>_vectorize_text()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._vectorize_text </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>add_start</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>add_end</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>truncate</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>truncate_left</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Return vector from text.

:param text:          String to vectorize.
:param add_start:     Add the start token to the front of the tensor.
:param add_end:       Add the end token to the end of the tensor.
:param truncate:      Truncate to this many tokens &gt;= 0, or None.
:param truncate_left: Truncate from the left side (keep the rightmost
              tokens). You probably want this True for inputs,
              False for targets.
</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent__v1_8py_source.html#l00513">513</a> of file <a class="el" href="torch__agent__v1_8py_source.html">torch_agent_v1.py</a>.</p>

<p class="reference">References <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00092">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.dict</a>, <a class="el" href="memnn__v0_8py_source.html#l00102">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.dict</a>, <a class="el" href="language__model_8py_source.html#l00171">parlai.agents.language_model.language_model.LanguageModelAgent.dict</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00198">parlai.agents.legacy_agents.memnn.modules_v0.Decoder.dict</a>, <a class="el" href="fairseq_8py_source.html#l00208">parlai.agents.fairseq.fairseq._ParlaiTask.dict</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00289">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.dict</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00375">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.dict</a>, <a class="el" href="fairseq_8py_source.html#l00396">parlai.agents.fairseq.fairseq.FairseqAgent.dict</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00046">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.END_IDX</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00055">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.END_IDX</a>, <a class="el" href="both__encoder__ranker_8py_source.html#l00064">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.END_IDX</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00080">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.END_IDX</a>, <a class="el" href="language__model_8py_source.html#l00178">parlai.agents.language_model.language_model.LanguageModelAgent.END_IDX</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00320">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.END_IDX</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00377">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.END_IDX</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00054">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.START_IDX</a>, <a class="el" href="both__encoder__ranker_8py_source.html#l00063">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.START_IDX</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00079">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.START_IDX</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00319">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.START_IDX</a>, and <a class="el" href="seq2seq__v0_8py_source.html#l00376">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.START_IDX</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__agent__v1_8py_source.html#l00617">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._set_label_cands_vec()</a>, <a class="el" href="torch__agent_8py_source.html#l01335">parlai.core.torch_agent.TorchAgent._set_label_cands_vec()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00586">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._set_label_vec()</a>, <a class="el" href="torch__agent_8py_source.html#l01304">parlai.core.torch_agent.TorchAgent._set_label_vec()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00558">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._set_text_vec()</a>, <a class="el" href="wizard__transformer__ranker_8py_source.html#l00086">wizard_transformer_ranker.wizard_transformer_ranker.WizardTransformerRankerAgent._vectorize_memories()</a>, <a class="el" href="seq2seq__v1_8py_source.html#l00846">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.PerplexityEvaluatorAgent.next_word_probability()</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00074">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.set_vocab_candidates()</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00135">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.vectorize_fixed_candidates()</a>, and <a class="el" href="torch__ranker__agent_8py_source.html#l00930">parlai.core.torch_ranker_agent.TorchRankerAgent.vectorize_fixed_candidates()</a>.</p>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_ac698ff0226e4d22f8498a9d9e667a34c_icgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_ac698ff0226e4d22f8498a9d9e667a34c_icgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_ac698ff0226e4d22f8498a9d9e667a34c_icgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_ac698ff0226e4d22f8498a9d9e667a34c_icgraph">
<area shape="rect" title=" " alt="" coords="1333,389,1491,459"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#af7d66c2a4d9370532df8654048742a6c" title=" " alt="" coords="1091,246,1249,317"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a4d28fb5efada28c0ed88e50f32d13d6a" title=" " alt="" coords="1091,5,1249,61"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a062901964b89a83cfce76560e23e627a" title=" " alt="" coords="1091,341,1249,411"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#ae4cd508e77aa5828217b6955f77f3a2d" title=" " alt="" coords="1080,86,1260,127"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a85106541b03e5c9dad245b002da7431c" title=" " alt="" coords="1091,151,1249,222"/>
<area shape="rect" href="classwizard__transformer__ranker_1_1wizard__transformer__ranker_1_1WizardTransformerRankerAgent.html#a2f0754d9a85e72c3ffcae9f2cc51b639" title=" " alt="" coords="1059,435,1281,506"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1PerplexityEvaluatorAgent.html#a577da407eed3f8757efeab3522f2717b" title=" " alt="" coords="1059,530,1281,601"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1bi__encoder__ranker_1_1BiEncoderRankerAgent.html#acdfa23a21c8364e7205093a5af51264f" title=" " alt="" coords="547,779,727,850"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1bi__encoder__ranker_1_1BiEncoderRankerAgent.html#a3062adbae2449553b4a6e12c5973116d" title=" " alt="" coords="1063,706,1277,777"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#af2e2d618f056bb68089c7252fa07d07b" title=" " alt="" coords="1055,625,1285,681"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a866838e1c81063a3ec18c5609e029f90" title=" " alt="" coords="796,264,1007,320"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a48bb9b153353a0565ab7253dc1daef99" title=" " alt="" coords="822,157,981,198"/>
<area shape="rect" href="classself__feeding_1_1self__feeding__agent_1_1SelfFeedingAgent.html#a7e76b6e8f11577a56a9c000cb360a44e" title=" " alt="" coords="259,290,477,331"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a0eb23a78aea413ae4f90ce0628179920" title=" " alt="" coords="267,356,469,412"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a87b18f0d6ab11be3c49375af072d0d33" title=" " alt="" coords="289,225,447,266"/>
<area shape="rect" href="classparlai_1_1agents_1_1starspace_1_1starspace_1_1StarspaceAgent.html#a87253cca09c8b22848ff0bea7195e32d" title=" " alt="" coords="525,271,748,313"/>
<area shape="rect" href="classparlai_1_1tasks_1_1talkthewalk_1_1worlds_1_1SimulateWorld.html#a6bd5a8a8e194dd4aa76aeecdf429bc7f" title=" " alt="" coords="5,243,211,285"/>
<area shape="rect" href="classparlai_1_1core_1_1worlds_1_1ExecutableWorld.html#a6555592d2b7c316e72febc1fccf43bdb" title=" " alt="" coords="11,327,205,369"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#acde404a79bf3678bb52d3e6c3ee5244a" title=" " alt="" coords="279,743,457,799"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#aeceb8a86a165dd9f97b9f8270462a828" title=" " alt="" coords="812,699,991,755"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#a9039757596f98b45b6676b16589883a3" title=" " alt="" coords="539,699,735,755"/>
</map>
</div>

</div>
</div>
<a id="a3ab251071823f34358a569c1c2a11bf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ab251071823f34358a569c1c2a11bf9">&#9670;&nbsp;</a></span>act()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.act </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Call batch_act with the singleton batch.</pre> 
<p>Reimplemented from <a class="el" href="classparlai_1_1core_1_1agents_1_1Agent.html#a6a8abe0a98dd59bc39c9f12b163072db">parlai.core.agents.Agent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent__v1_8py_source.html#l00984">984</a> of file <a class="el" href="torch__agent__v1_8py_source.html">torch_agent_v1.py</a>.</p>

<p class="reference">References <a class="el" href="drqa_8py_source.html#l00209">parlai.agents.drqa.drqa.DrqaAgent.batch_act()</a>, <a class="el" href="memnn__v0_8py_source.html#l00418">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.batch_act()</a>, <a class="el" href="language__model_8py_source.html#l00610">parlai.agents.language_model.language_model.LanguageModelAgent.batch_act()</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00835">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.batch_act()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00988">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.batch_act()</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00034">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.observation</a>, <a class="el" href="drqa_8py_source.html#l00181">parlai.agents.drqa.drqa.DrqaAgent.observation</a>, <a class="el" href="memnn__v0_8py_source.html#l00218">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.observation</a>, <a class="el" href="ir__baseline_8py_source.html#l00255">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.observation</a>, <a class="el" href="language__model_8py_source.html#l00330">parlai.agents.language_model.language_model.LanguageModelAgent.observation</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00620">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.observation</a>, and <a class="el" href="torch__agent__v1_8py_source.html#l00933">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.observation</a>.</p>

<p class="reference">Referenced by <a class="el" href="parlai_2messenger_2core_2agents_8py_source.html#l00162">parlai.messenger.core.agents.MessengerAgent.act_blocking()</a>.</p>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a3ab251071823f34358a569c1c2a11bf9_cgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a3ab251071823f34358a569c1c2a11bf9_cgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a3ab251071823f34358a569c1c2a11bf9_cgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a3ab251071823f34358a569c1c2a11bf9_cgraph">
<area shape="rect" title=" " alt="" coords="5,782,180,838"/>
<area shape="rect" href="classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent.html#a5c2f02e9c1ddce46df0d216947227395" title=" " alt="" coords="264,121,423,163"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1memnn_1_1memnn__v0_1_1MemnnAgent.html#ad73ed6e730b608491c2d8ef3ad25e32a" title=" " alt="" coords="228,782,459,838"/>
<area shape="rect" href="classparlai_1_1agents_1_1language__model_1_1language__model_1_1LanguageModelAgent.html#a91a1386cee7fa786aa817a58646cda5e" title=" " alt="" coords="232,862,455,918"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v0_1_1Seq2seqAgent.html#a4ae534e440fd57603bc9b6e7c08b1c57" title=" " alt="" coords="247,942,440,998"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#af3929c1bedc50a48dcf8d1184321f4f5" title=" " alt="" coords="236,702,451,758"/>
<area shape="rect" href="classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent.html#ae32bf3b36eb5f04a965ac0d6ef776b79" title=" " alt="" coords="568,37,727,79"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v0_1_1Agent.html#a8bddd5b89230c9a2810e7ca15914997e" title=" " alt="" coords="864,191,1039,247"/>
<area shape="rect" href="classparlai_1_1core_1_1agents_1_1Agent.html#a29e1cdd729ac4236f8bae90b2e66fa04" title=" " alt="" coords="548,154,747,181"/>
<area shape="rect" href="classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent.html#a2ee48b5b7886e50c3a2d527b9510ad99" title=" " alt="" coords="872,5,1031,47"/>
<area shape="rect" href="classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent.html#a3e2eb4421862adea12492bb93926baf5" title=" " alt="" coords="858,71,1045,112"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#abccc931006f7efe5262513416390ecb2" title=" " alt="" coords="569,571,726,641"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1memnn_1_1memnn__v0_1_1MemnnAgent.html#afaa379fa31bcc83bd467d15e2976d0a3" title=" " alt="" coords="532,490,763,546"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#ae5dc403e172c9cb8ecd48525175af56d" title=" " alt="" coords="858,659,1045,700"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#a3e19c6091fbdbcad5b3f541cc5f81b97" title=" " alt="" coords="556,767,739,823"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#ab8b2fa26aabfd9d7e7abb0abbcfe8044" title=" " alt="" coords="546,847,749,903"/>
<area shape="rect" href="classparrot_1_1ParrotAgent.html#a210ad5eb90ce7add4a2b2cb641c4de3c" title=" " alt="" coords="553,927,741,954"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html#a6d189366af4a1264770d59e4b114967a" title=" " alt="" coords="507,978,787,1034"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#aa635ffc4c0a0649c66b9b1cbb4dd5367" title=" " alt="" coords="554,1059,741,1100"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#ad06de7c94ee40c403f792e7b48e0b137" title=" " alt="" coords="551,1214,743,1270"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a801f2b9a359201fd0a395ab61fd61806" title=" " alt="" coords="541,1294,754,1350"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#acac419cfad0fc5988e7e796c244f3a9f" title=" " alt="" coords="531,1374,763,1430"/>
<area shape="rect" href="classparrot_1_1ParrotAgent.html#a85446c6c7698b050d80a2324495c9321" title=" " alt="" coords="553,205,742,231"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html#a49ef7547db36c1570b8c10d0c8bee42e" title=" " alt="" coords="507,255,788,311"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#a59a524e15577396e60a1e5f8b6bfe9a7" title=" " alt="" coords="855,731,1048,787"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#a57902d8fdb473ce9d791df532db41eee" title=" " alt="" coords="554,1124,741,1165"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#aff9cc5c105bbf154075aa83e288582ca" title=" " alt="" coords="540,335,755,391"/>
<area shape="rect" href="classparlai_1_1agents_1_1language__model_1_1language__model_1_1LanguageModelAgent.html#ad67bbe760648032c08da9400bb2e3da1" title=" " alt="" coords="840,498,1063,554"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1memnn_1_1memnn__v0_1_1MemnnAgent.html#a5e9b6393cb251b6030bb9a0db51b8026" title=" " alt="" coords="836,578,1067,634"/>
<area shape="rect" href="classparlai_1_1agents_1_1drqa_1_1model_1_1DocReaderModel.html#a798f609dcd78b3e66e00a81f26f12603" title=" " alt="" coords="867,272,1035,313"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1memnn_1_1memnn__v0_1_1MemnnAgent.html#a4e850d51ca01adc45754cc509c8b096a" title=" " alt="" coords="836,338,1067,394"/>
<area shape="rect" href="classparlai_1_1agents_1_1language__model_1_1language__model_1_1LanguageModelAgent.html#a1ff4e6849d50eb9d58a2f97a91d715ce" title=" " alt="" coords="840,418,1063,474"/>
<area shape="rect" href="classparlai_1_1agents_1_1language__model_1_1language__model_1_1LanguageModelAgent.html#aa3de87163cd61e4195afc0ccf801699b" title=" " alt="" coords="1116,335,1339,391"/>
<area shape="rect" href="classparlai_1_1agents_1_1language__model_1_1language__model_1_1LanguageModelAgent.html#af474c46339e2e0c881f8b8b81f5f9b7f" title=" " alt="" coords="1116,415,1339,471"/>
<area shape="rect" href="classparlai_1_1agents_1_1language__model_1_1language__model_1_1LanguageModelAgent.html#ad7b6363acdfb3d009cd9a3bcc6206faf" title=" " alt="" coords="1116,495,1339,551"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#acfaca66bf4dd1d86e2d3a9d4a26a1717" title=" " alt="" coords="858,960,1045,1001"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#a5074ffa21fb6d970195ebd61a5d1777e" title=" " alt="" coords="856,1025,1047,1067"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#ad544aa89e71cb430cb044039c5a6edc3" title=" " alt="" coords="852,1091,1051,1132"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#ae51602118fab27e1616733319763cf95" title=" " alt="" coords="847,1397,1056,1453"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#ad9708bd066d65d8ba66fd8697e6f6e4c" title=" " alt="" coords="864,1477,1039,1533"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#aa1e972eb8a41c98486a50baa14700345" title=" " alt="" coords="846,1157,1057,1213"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#a6afc143cc0ec59803be416416ce1ec97" title=" " alt="" coords="841,1237,1062,1293"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#a4567d7a200e20bd09235d4833424bdad" title=" " alt="" coords="838,1317,1065,1373"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#a15d473070cfc77894bf6d053e9dda68b" title=" " alt="" coords="1121,815,1333,871"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#aae948e0e7b30343af84c3aa9356b9bef" title=" " alt="" coords="1140,896,1315,967"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#ae4496420685c3cd273920f89b4e82625" title=" " alt="" coords="1118,991,1337,1047"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#a3fabaacec11534b452a1786d3dd5a6c8" title=" " alt="" coords="1115,1071,1340,1127"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v0_1_1Seq2seqAgent.html#a3933d4fdc5e603b1a168d92e7da77151" title=" " alt="" coords="1115,575,1340,631"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#af2e9c4d06f55802308dbfedfea69d0cd" title=" " alt="" coords="1131,655,1324,711"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v0_1_1Seq2seqAgent.html#a0be9f1e378a403284d8afac5648fbf4d" title=" " alt="" coords="1131,735,1324,791"/>
</map>
</div>
<div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a3ab251071823f34358a569c1c2a11bf9_icgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a3ab251071823f34358a569c1c2a11bf9_icgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a3ab251071823f34358a569c1c2a11bf9_icgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a3ab251071823f34358a569c1c2a11bf9_icgraph">
<area shape="rect" title=" " alt="" coords="251,5,425,61"/>
<area shape="rect" href="classparlai_1_1messenger_1_1core_1_1agents_1_1MessengerAgent.html#a50d76f90d1926c160d96e621403b7598" title=" " alt="" coords="5,13,203,54"/>
</map>
</div>

</div>
</div>
<a id="a00701a40d62943dbd887525bf8e8002d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00701a40d62943dbd887525bf8e8002d">&#9670;&nbsp;</a></span>add_cmdline_args()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.add_cmdline_args </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>argparser</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Add the default commandline args we expect most agents to want.</pre> 
<p>Reimplemented in <a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#a2f5c66732d78976428b26b96f14b311b">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent__v1_8py_source.html#l00148">148</a> of file <a class="el" href="torch__agent__v1_8py_source.html">torch_agent_v1.py</a>.</p>

<p class="reference">References <a class="el" href="language__model_8py_source.html#l00030">parlai.agents.language_model.language_model.LanguageModelAgent.dictionary_class()</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00063">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.dictionary_class()</a>, <a class="el" href="both__encoder__ranker_8py_source.html#l00079">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.dictionary_class()</a>, <a class="el" href="drqa_8py_source.html#l00107">parlai.agents.drqa.drqa.DrqaAgent.dictionary_class()</a>, <a class="el" href="bert__classifier_8py_source.html#l00112">parlai.agents.bert_classifier.bert_classifier.BertClassifierAgent.dictionary_class()</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00116">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.dictionary_class()</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00126">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.dictionary_class()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00140">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.dictionary_class()</a>, <a class="el" href="fairseq_8py_source.html#l00319">parlai.agents.fairseq.fairseq.FairseqAgent.dictionary_class()</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00103">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.OPTIM_OPTS</a>, and <a class="el" href="torch__agent__v1_8py_source.html#l00130">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.OPTIM_OPTS</a>.</p>
<div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a00701a40d62943dbd887525bf8e8002d_cgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a00701a40d62943dbd887525bf8e8002d_cgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a00701a40d62943dbd887525bf8e8002d_cgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a00701a40d62943dbd887525bf8e8002d_cgraph">
<area shape="rect" title=" " alt="" coords="5,305,184,375"/>
<area shape="rect" href="classparlai_1_1agents_1_1language__model_1_1language__model_1_1LanguageModelAgent.html#a80bdd18c28f4a2ab19c463dd123165e7" title=" " alt="" coords="284,5,507,61"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1bi__encoder__ranker_1_1BiEncoderRankerAgent.html#a7920edd41a6bdbd18e9a0c50a1953f9d" title=" " alt="" coords="267,85,523,141"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html#a4fd71b73fc926491aedc3da5921f62ca" title=" " alt="" coords="236,165,555,221"/>
<area shape="rect" href="classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent.html#a1d925f46a6b35d1f10cb033a1184841d" title=" " alt="" coords="304,246,487,287"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__classifier_1_1bert__classifier_1_1BertClassifierAgent.html#af568b5ebe0ada0e2823e9e2be2d70e9f" title=" " alt="" coords="279,312,512,368"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v0_1_1Seq2seqAgent.html#a05552a2714cd8d15d754a62258727c98" title=" " alt="" coords="280,392,511,448"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1cross__encoder__ranker_1_1CrossEncoderRankerAgent.html#a0518d01be6a05fc2bc117f2c55cb6328" title=" " alt="" coords="232,472,559,528"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#abc77ad96264e7597c46bc001a9a6af90" title=" " alt="" coords="270,552,521,608"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#a3dc59646a2e97d015dfdddb65021429b" title=" " alt="" coords="297,633,494,674"/>
</map>
</div>

</div>
</div>
<a id="af3929c1bedc50a48dcf8d1184321f4f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3929c1bedc50a48dcf8d1184321f4f5">&#9670;&nbsp;</a></span>batch_act()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.batch_act </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>observations</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Process a batch of observations (batchsize list of message dicts).

These observations have been preprocessed by the observe method.

Subclasses can override this for special functionality, but if the
default behaviors are fine then just override the ``train_step`` and
``eval_step`` methods instead. The former is called when labels are
present in the observations batch; otherwise, the latter is called.
</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent__v1_8py_source.html#l00988">988</a> of file <a class="el" href="torch__agent__v1_8py_source.html">torch_agent_v1.py</a>.</p>

<p class="reference">References <a class="el" href="torch__agent__v1_8py_source.html#l00890">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._save_history()</a>, <a class="el" href="memnn__v0_8py_source.html#l00362">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.batchify()</a>, <a class="el" href="seq2seq__v1_8py_source.html#l00400">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent.batchify()</a>, <a class="el" href="fairseq_8py_source.html#l00483">parlai.agents.fairseq.fairseq.FairseqAgent.batchify()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00665">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.batchify()</a>, <a class="el" href="parrot_8py_source.html#l00014">parrot.ParrotAgent.eval_step()</a>, <a class="el" href="both__encoder__ranker_8py_source.html#l00098">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.eval_step()</a>, <a class="el" href="fairseq_8py_source.html#l00529">parlai.agents.fairseq.fairseq.FairseqAgent.eval_step()</a>, <a class="el" href="seq2seq__v1_8py_source.html#l00691">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent.eval_step()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l01027">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.eval_step()</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00053">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.getID()</a>, <a class="el" href="parlai_2core_2agents_8py_source.html#l00080">parlai.core.agents.Agent.getID()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00765">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.match_batch()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00288">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.replies</a>, <a class="el" href="parrot_8py_source.html#l00010">parrot.ParrotAgent.train_step()</a>, <a class="el" href="both__encoder__ranker_8py_source.html#l00082">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.train_step()</a>, <a class="el" href="seq2seq__v1_8py_source.html#l00427">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent.train_step()</a>, <a class="el" href="fairseq_8py_source.html#l00515">parlai.agents.fairseq.fairseq.FairseqAgent.train_step()</a>, and <a class="el" href="torch__agent__v1_8py_source.html#l01023">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.train_step()</a>.</p>

<p class="reference">Referenced by <a class="el" href="projects_2personality__captions_2transresnet_2transresnet_8py_source.html#l00195">transresnet.transresnet.TransresnetAgent.act()</a>, <a class="el" href="projects_2mastering__the__dungeon_2agents_2graph__world2_2agents_8py_source.html#l00537">mastering_the_dungeon.agents.graph_world2.agents.ModelAgentBase.act()</a>, <a class="el" href="starspace_8py_source.html#l00554">parlai.agents.starspace.starspace.StarspaceAgent.act()</a>, <a class="el" href="memnn__feedback_8py_source.html#l00590">agent.memnn_feedback.MemnnFeedbackAgent.act()</a>, <a class="el" href="projects_2personachat_2kvmemnn_2kvmemnn_8py_source.html#l00879">kvmemnn.KvmemnnAgent.act()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00984">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.act()</a>, <a class="el" href="torch__agent_8py_source.html#l01716">parlai.core.torch_agent.TorchAgent.act()</a>, and <a class="el" href="parlai_2core_2worlds_8py_source.html#l00736">parlai.core.worlds.BatchWorld.parley()</a>.</p>
<div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_af3929c1bedc50a48dcf8d1184321f4f5_cgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_af3929c1bedc50a48dcf8d1184321f4f5_cgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_af3929c1bedc50a48dcf8d1184321f4f5_cgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_af3929c1bedc50a48dcf8d1184321f4f5_cgraph">
<area shape="rect" title=" " alt="" coords="5,659,220,715"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#abccc931006f7efe5262513416390ecb2" title=" " alt="" coords="330,60,487,131"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1memnn_1_1memnn__v0_1_1MemnnAgent.html#afaa379fa31bcc83bd467d15e2976d0a3" title=" " alt="" coords="293,281,524,337"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#ae5dc403e172c9cb8ecd48525175af56d" title=" " alt="" coords="619,5,806,47"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v0_1_1Agent.html#a8bddd5b89230c9a2810e7ca15914997e" title=" " alt="" coords="625,71,800,127"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#a3e19c6091fbdbcad5b3f541cc5f81b97" title=" " alt="" coords="317,411,500,467"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#ab8b2fa26aabfd9d7e7abb0abbcfe8044" title=" " alt="" coords="307,491,510,547"/>
<area shape="rect" href="classparrot_1_1ParrotAgent.html#a210ad5eb90ce7add4a2b2cb641c4de3c" title=" " alt="" coords="315,571,503,598"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html#a6d189366af4a1264770d59e4b114967a" title=" " alt="" coords="269,622,549,678"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#aa635ffc4c0a0649c66b9b1cbb4dd5367" title=" " alt="" coords="315,703,502,744"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#ad06de7c94ee40c403f792e7b48e0b137" title=" " alt="" coords="313,834,505,890"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a801f2b9a359201fd0a395ab61fd61806" title=" " alt="" coords="302,914,515,970"/>
<area shape="rect" href="classparlai_1_1core_1_1agents_1_1Agent.html#a29e1cdd729ac4236f8bae90b2e66fa04" title=" " alt="" coords="309,994,508,1021"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#acac419cfad0fc5988e7e796c244f3a9f" title=" " alt="" coords="293,1045,525,1101"/>
<area shape="rect" href="classparrot_1_1ParrotAgent.html#a85446c6c7698b050d80a2324495c9321" title=" " alt="" coords="314,1125,503,1151"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html#a49ef7547db36c1570b8c10d0c8bee42e" title=" " alt="" coords="268,1175,549,1231"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#a59a524e15577396e60a1e5f8b6bfe9a7" title=" " alt="" coords="616,538,809,594"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#a57902d8fdb473ce9d791df532db41eee" title=" " alt="" coords="315,768,502,809"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#aff9cc5c105bbf154075aa83e288582ca" title=" " alt="" coords="301,1255,516,1311"/>
<area shape="rect" href="classparlai_1_1agents_1_1language__model_1_1language__model_1_1LanguageModelAgent.html#ad67bbe760648032c08da9400bb2e3da1" title=" " alt="" coords="601,378,824,434"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1memnn_1_1memnn__v0_1_1MemnnAgent.html#a5e9b6393cb251b6030bb9a0db51b8026" title=" " alt="" coords="597,458,828,514"/>
<area shape="rect" href="classparlai_1_1agents_1_1drqa_1_1model_1_1DocReaderModel.html#a798f609dcd78b3e66e00a81f26f12603" title=" " alt="" coords="629,152,797,193"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1memnn_1_1memnn__v0_1_1MemnnAgent.html#a4e850d51ca01adc45754cc509c8b096a" title=" " alt="" coords="597,218,828,274"/>
<area shape="rect" href="classparlai_1_1agents_1_1language__model_1_1language__model_1_1LanguageModelAgent.html#a1ff4e6849d50eb9d58a2f97a91d715ce" title=" " alt="" coords="601,298,824,354"/>
<area shape="rect" href="classparlai_1_1agents_1_1language__model_1_1language__model_1_1LanguageModelAgent.html#aa3de87163cd61e4195afc0ccf801699b" title=" " alt="" coords="877,58,1100,114"/>
<area shape="rect" href="classparlai_1_1agents_1_1language__model_1_1language__model_1_1LanguageModelAgent.html#aeb1136a4ae2a2a1e8c0d5a7b75d9898f" title=" " alt="" coords="877,138,1100,194"/>
<area shape="rect" href="classparlai_1_1agents_1_1language__model_1_1language__model_1_1LanguageModelAgent.html#af474c46339e2e0c881f8b8b81f5f9b7f" title=" " alt="" coords="877,298,1100,354"/>
<area shape="rect" href="classparlai_1_1agents_1_1language__model_1_1language__model_1_1LanguageModelAgent.html#ad7b6363acdfb3d009cd9a3bcc6206faf" title=" " alt="" coords="877,218,1100,274"/>
<area shape="rect" href="classparlai_1_1agents_1_1language__model_1_1language__model_1_1LanguageModelAgent.html#aa54ff09a8edc6ae51ac8be33aeb4acc8" title=" " alt="" coords="1149,98,1372,154"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#acfaca66bf4dd1d86e2d3a9d4a26a1717" title=" " alt="" coords="619,637,806,679"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#a5074ffa21fb6d970195ebd61a5d1777e" title=" " alt="" coords="617,703,808,744"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#ad544aa89e71cb430cb044039c5a6edc3" title=" " alt="" coords="613,768,812,809"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#ac221841fbf251bf1e89c9c08b0ce3239" title=" " alt="" coords="887,1020,1090,1061"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#aaabc57b4b15f6dc34996c72cf3210510" title=" " alt="" coords="895,955,1082,996"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#ae51602118fab27e1616733319763cf95" title=" " alt="" coords="608,1074,817,1130"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#ad9708bd066d65d8ba66fd8697e6f6e4c" title=" " alt="" coords="625,1154,800,1210"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#aa1e972eb8a41c98486a50baa14700345" title=" " alt="" coords="607,834,818,890"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#a6afc143cc0ec59803be416416ce1ec97" title=" " alt="" coords="602,914,823,970"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#a4567d7a200e20bd09235d4833424bdad" title=" " alt="" coords="599,994,826,1050"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#a15d473070cfc77894bf6d053e9dda68b" title=" " alt="" coords="883,698,1095,754"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#aae948e0e7b30343af84c3aa9356b9bef" title=" " alt="" coords="901,779,1076,849"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#ae4496420685c3cd273920f89b4e82625" title=" " alt="" coords="879,874,1098,930"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#a3fabaacec11534b452a1786d3dd5a6c8" title=" " alt="" coords="876,378,1101,434"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v0_1_1Seq2seqAgent.html#a3933d4fdc5e603b1a168d92e7da77151" title=" " alt="" coords="876,458,1101,514"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#af2e9c4d06f55802308dbfedfea69d0cd" title=" " alt="" coords="892,538,1085,594"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v0_1_1Seq2seqAgent.html#a0be9f1e378a403284d8afac5648fbf4d" title=" " alt="" coords="892,618,1085,674"/>
</map>
</div>
<div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_af3929c1bedc50a48dcf8d1184321f4f5_icgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_af3929c1bedc50a48dcf8d1184321f4f5_icgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_af3929c1bedc50a48dcf8d1184321f4f5_icgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_af3929c1bedc50a48dcf8d1184321f4f5_icgraph">
<area shape="rect" title=" " alt="" coords="537,223,752,279"/>
<area shape="rect" href="classtransresnet_1_1transresnet_1_1TransresnetAgent.html#ad59fea461b2ea1f9731742901203bdd7" title=" " alt="" coords="290,5,450,47"/>
<area shape="rect" href="classmastering__the__dungeon_1_1agents_1_1graph__world2_1_1agents_1_1ModelAgentBase.html#a768f25fa424b2cd4d1de8e62bfed970a" title=" " alt="" coords="251,71,489,112"/>
<area shape="rect" href="classparlai_1_1agents_1_1starspace_1_1starspace_1_1StarspaceAgent.html#aff87fb1b28e798a9ca28a0dc3fbb2f22" title=" " alt="" coords="259,136,481,177"/>
<area shape="rect" href="classagent_1_1memnn__feedback_1_1MemnnFeedbackAgent.html#ab221141e0a956be465e718bb349e7554" title=" " alt="" coords="266,201,474,243"/>
<area shape="rect" href="classkvmemnn_1_1KvmemnnAgent.html#a6f57723b871277392a3f3fd627c717d8" title=" " alt="" coords="271,267,469,294"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a3ab251071823f34358a569c1c2a11bf9" title=" " alt="" coords="283,318,457,374"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a51174dfa508970e3392246b02d0d94b5" title=" " alt="" coords="291,399,449,440"/>
<area shape="rect" href="classparlai_1_1core_1_1worlds_1_1BatchWorld.html#a297ab42faba47581774cd9333c874905" title=" " alt="" coords="289,464,451,505"/>
<area shape="rect" href="classparlai_1_1messenger_1_1core_1_1agents_1_1MessengerAgent.html#a50d76f90d1926c160d96e621403b7598" title=" " alt="" coords="5,231,203,272"/>
</map>
</div>

</div>
</div>
<a id="ab8b2fa26aabfd9d7e7abb0abbcfe8044"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8b2fa26aabfd9d7e7abb0abbcfe8044">&#9670;&nbsp;</a></span>batchify()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.batchify </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obs_batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>sort</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>is_valid</em> = <code>lambda&#160;obs:&#160;'text_vec'&#160;in&#160;obs&#160;or&#160;'image'&#160;in&#160;obs</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Create a batch of valid observations from an unchecked batch.

A valid observation is one that passes the lambda provided to the
function, which defaults to checking if the preprocessed 'text_vec'
field is present which would have been set by this agent's 'vectorize'
function.

Returns a namedtuple Batch. See original definition above for in-depth
explanation of each field.

If you want to include additonal fields in the batch, you can subclass
this function and return your own "Batch" namedtuple: copy the Batch
namedtuple at the top of this class, and then add whatever additional
fields that you want to be able to access. You can then call
super().batchify(...) to set up the original fields and then set up the
additional fields in your subclass and return that batch instead.

:param obs_batch: List of vectorized observations
:param sort:      Default False, orders the observations by length of
          vectors. Set to true when using
          torch.nn.utils.rnn.pack_padded_sequence.
          Uses the text vectors if available, otherwise uses
          the label vectors if available.
:param is_valid:  Function that checks if 'text_vec' is in the
          observation, determines if an observation is valid
</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent__v1_8py_source.html#l00665">665</a> of file <a class="el" href="torch__agent__v1_8py_source.html">torch_agent_v1.py</a>.</p>

<p class="reference">References <a class="el" href="torch__agent__v1_8py_source.html#l00317">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.EMPTY</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00045">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.NULL_IDX</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00053">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.NULL_IDX</a>, <a class="el" href="both__encoder__ranker_8py_source.html#l00062">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.NULL_IDX</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00078">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.NULL_IDX</a>, <a class="el" href="modules__v1_8py_source.html#l00078">parlai.agents.legacy_agents.seq2seq.modules_v1.Seq2seq.NULL_IDX</a>, <a class="el" href="memnn__v0_8py_source.html#l00140">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.NULL_IDX</a>, <a class="el" href="language__model_8py_source.html#l00177">parlai.agents.language_model.language_model.LanguageModelAgent.NULL_IDX</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00318">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.NULL_IDX</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00378">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.NULL_IDX</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00556">parlai.agents.legacy_agents.seq2seq.modules_v0.Ranker.NULL_IDX</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00048">parlai.agents.legacy_agents.memnn.modules_v0.MemNN.use_cuda</a>, <a class="el" href="memnn__v0_8py_source.html#l00096">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.use_cuda</a>, <a class="el" href="language__model_8py_source.html#l00162">parlai.agents.language_model.language_model.LanguageModelAgent.use_cuda</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00303">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.use_cuda</a>, and <a class="el" href="seq2seq__v0_8py_source.html#l00367">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.use_cuda</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__agent__v1_8py_source.html#l00988">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.batch_act()</a>, <a class="el" href="torch__agent_8py_source.html#l01725">parlai.core.torch_agent.TorchAgent.batch_act()</a>, <a class="el" href="memnn__feedback_8py_source.html#l00488">agent.memnn_feedback.MemnnFeedbackAgent.batchify()</a>, and <a class="el" href="projects_2personachat_2kvmemnn_2kvmemnn_8py_source.html#l00780">kvmemnn.KvmemnnAgent.batchify()</a>.</p>
<div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_ab8b2fa26aabfd9d7e7abb0abbcfe8044_icgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_ab8b2fa26aabfd9d7e7abb0abbcfe8044_icgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_ab8b2fa26aabfd9d7e7abb0abbcfe8044_icgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_ab8b2fa26aabfd9d7e7abb0abbcfe8044_icgraph">
<area shape="rect" title=" " alt="" coords="800,317,1003,373"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#af3929c1bedc50a48dcf8d1184321f4f5" title=" " alt="" coords="537,249,752,305"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a7754a74d6c87590f46e71ec486c285a8" title=" " alt="" coords="565,183,724,225"/>
<area shape="rect" href="classagent_1_1memnn__feedback_1_1MemnnFeedbackAgent.html#a901865f6607e3b5509831785bc1e29d0" title=" " alt="" coords="541,507,749,549"/>
<area shape="rect" href="classkvmemnn_1_1KvmemnnAgent.html#ac7dba84c37dab7ef33f52d263fbdbdc7" title=" " alt="" coords="257,553,483,580"/>
<area shape="rect" href="classtransresnet_1_1transresnet_1_1TransresnetAgent.html#ad59fea461b2ea1f9731742901203bdd7" title=" " alt="" coords="290,187,450,229"/>
<area shape="rect" href="classmastering__the__dungeon_1_1agents_1_1graph__world2_1_1agents_1_1ModelAgentBase.html#a768f25fa424b2cd4d1de8e62bfed970a" title=" " alt="" coords="251,253,489,294"/>
<area shape="rect" href="classparlai_1_1agents_1_1starspace_1_1starspace_1_1StarspaceAgent.html#aff87fb1b28e798a9ca28a0dc3fbb2f22" title=" " alt="" coords="259,383,481,425"/>
<area shape="rect" href="classagent_1_1memnn__feedback_1_1MemnnFeedbackAgent.html#ab221141e0a956be465e718bb349e7554" title=" " alt="" coords="266,318,474,359"/>
<area shape="rect" href="classkvmemnn_1_1KvmemnnAgent.html#a6f57723b871277392a3f3fd627c717d8" title=" " alt="" coords="271,5,469,32"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a3ab251071823f34358a569c1c2a11bf9" title=" " alt="" coords="283,449,457,505"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a51174dfa508970e3392246b02d0d94b5" title=" " alt="" coords="291,57,449,98"/>
<area shape="rect" href="classparlai_1_1core_1_1worlds_1_1BatchWorld.html#a297ab42faba47581774cd9333c874905" title=" " alt="" coords="289,122,451,163"/>
<area shape="rect" href="classparlai_1_1messenger_1_1core_1_1agents_1_1MessengerAgent.html#a50d76f90d1926c160d96e621403b7598" title=" " alt="" coords="5,421,203,462"/>
</map>
</div>

</div>
</div>
<a id="abc77ad96264e7597c46bc001a9a6af90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc77ad96264e7597c46bc001a9a6af90">&#9670;&nbsp;</a></span>dictionary_class()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.dictionary_class </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Return the dictionary class that this agent expects to use.

Can be overriden if a more complex dictionary is required.
</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent__v1_8py_source.html#l00140">140</a> of file <a class="el" href="torch__agent__v1_8py_source.html">torch_agent_v1.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="unigram_8py_source.html#l00043">parlai.agents.unigram.unigram.UnigramAgent.__init__()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00281">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.__init__()</a>, <a class="el" href="unigram_8py_source.html#l00027">parlai.agents.unigram.unigram.UnigramAgent.add_cmdline_args()</a>, <a class="el" href="transformer_8py_source.html#l00118">parlai.agents.transformer.transformer.TransformerRankerAgent.add_cmdline_args()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00148">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.add_cmdline_args()</a>, <a class="el" href="transformer_8py_source.html#l00275">parlai.agents.transformer.transformer.TransformerGeneratorAgent.add_cmdline_args()</a>, <a class="el" href="torch__agent_8py_source.html#l00393">parlai.core.torch_agent.TorchAgent.add_cmdline_args()</a>, and <a class="el" href="torch__agent_8py_source.html#l00749">parlai.core.torch_agent.TorchAgent.build_dictionary()</a>.</p>
<div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_abc77ad96264e7597c46bc001a9a6af90_icgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_abc77ad96264e7597c46bc001a9a6af90_icgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_abc77ad96264e7597c46bc001a9a6af90_icgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_abc77ad96264e7597c46bc001a9a6af90_icgraph">
<area shape="rect" title=" " alt="" coords="537,263,788,319"/>
<area shape="rect" href="classparlai_1_1agents_1_1unigram_1_1unigram_1_1UnigramAgent.html#a8e406a0b849d5f823b66329c5285c29c" title=" " alt="" coords="251,5,451,47"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a1c4eb91757ee23e75edfa957d05db338" title=" " alt="" coords="272,71,429,141"/>
<area shape="rect" href="classparlai_1_1agents_1_1unigram_1_1unigram_1_1UnigramAgent.html#a975b292cb31540e198a220d3c9bd7ea5" title=" " alt="" coords="243,165,458,207"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1transformer_1_1TransformerRankerAgent.html#a6836668a4c2394d7217631fed533a7ac" title=" " alt="" coords="212,231,489,272"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a00701a40d62943dbd887525bf8e8002d" title=" " alt="" coords="261,296,440,367"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1transformer_1_1TransformerGeneratorAgent.html#a496b5ccc5efe17f290c37dc094ff74e8" title=" " alt="" coords="231,391,471,447"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a4a72bdd07d2cb5ce402d0058140cad0d" title=" " alt="" coords="251,472,450,513"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a233316f9ec2805dd6a08fbf07f3a078a" title=" " alt="" coords="259,537,442,579"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#ad0a00ada1fcd5b7ceec27b1a6cbdc281" title=" " alt="" coords="5,537,164,579"/>
</map>
</div>

</div>
</div>
<a id="a801f2b9a359201fd0a395ab61fd61806"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a801f2b9a359201fd0a395ab61fd61806">&#9670;&nbsp;</a></span>eval_step()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.eval_step </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>batch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Process one batch but do not train on it.</pre> 
<p>Reimplemented in <a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#ad06de7c94ee40c403f792e7b48e0b137">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent__v1_8py_source.html#l01027">1027</a> of file <a class="el" href="torch__agent__v1_8py_source.html">torch_agent_v1.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="projects_2image__chat_2transresnet__multimodal_2transresnet__multimodal_8py_source.html#l00243">transresnet_multimodal.transresnet_multimodal.TransresnetMultimodalAgent.batch_act()</a>, <a class="el" href="projects_2personality__captions_2transresnet_2transresnet_8py_source.html#l00288">transresnet.transresnet.TransresnetAgent.batch_act()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00988">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.batch_act()</a>, and <a class="el" href="torch__agent_8py_source.html#l01725">parlai.core.torch_agent.TorchAgent.batch_act()</a>.</p>
<div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a801f2b9a359201fd0a395ab61fd61806_icgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a801f2b9a359201fd0a395ab61fd61806_icgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a801f2b9a359201fd0a395ab61fd61806_icgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a801f2b9a359201fd0a395ab61fd61806_icgraph">
<area shape="rect" title=" " alt="" coords="908,119,1121,175"/>
<area shape="rect" href="classtransresnet__multimodal_1_1transresnet__multimodal_1_1TransresnetMultimodalAgent.html#a057eb1109f5c2ea467539083e2f7e7f6" title=" " alt="" coords="537,93,860,135"/>
<area shape="rect" href="classtransresnet_1_1transresnet_1_1TransresnetAgent.html#a5eadf6ccc4b1d15a520a70d111bff493" title=" " alt="" coords="605,28,792,69"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#af3929c1bedc50a48dcf8d1184321f4f5" title=" " alt="" coords="591,225,806,281"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a7754a74d6c87590f46e71ec486c285a8" title=" " alt="" coords="619,159,778,200"/>
<area shape="rect" href="classtransresnet_1_1transresnet_1_1TransresnetAgent.html#ad59fea461b2ea1f9731742901203bdd7" title=" " alt="" coords="290,5,450,47"/>
<area shape="rect" href="classmastering__the__dungeon_1_1agents_1_1graph__world2_1_1agents_1_1ModelAgentBase.html#a768f25fa424b2cd4d1de8e62bfed970a" title=" " alt="" coords="251,71,489,112"/>
<area shape="rect" href="classagent_1_1memnn__feedback_1_1MemnnFeedbackAgent.html#ab221141e0a956be465e718bb349e7554" title=" " alt="" coords="266,136,474,177"/>
<area shape="rect" href="classkvmemnn_1_1KvmemnnAgent.html#a6f57723b871277392a3f3fd627c717d8" title=" " alt="" coords="271,202,469,229"/>
<area shape="rect" href="classparlai_1_1agents_1_1starspace_1_1starspace_1_1StarspaceAgent.html#aff87fb1b28e798a9ca28a0dc3fbb2f22" title=" " alt="" coords="259,384,481,425"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a3ab251071823f34358a569c1c2a11bf9" title=" " alt="" coords="283,450,457,506"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a51174dfa508970e3392246b02d0d94b5" title=" " alt="" coords="291,253,449,295"/>
<area shape="rect" href="classparlai_1_1core_1_1worlds_1_1BatchWorld.html#a297ab42faba47581774cd9333c874905" title=" " alt="" coords="289,319,451,360"/>
<area shape="rect" href="classparlai_1_1messenger_1_1core_1_1agents_1_1MessengerAgent.html#a50d76f90d1926c160d96e621403b7598" title=" " alt="" coords="5,421,203,463"/>
</map>
</div>

</div>
</div>
<a id="a8984452b8b4e6194625530aeae49b243"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8984452b8b4e6194625530aeae49b243">&#9670;&nbsp;</a></span>get_dialog_history()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.get_dialog_history </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>observation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>reply</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>add_person_tokens</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>add_p1_after_newln</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Retrieve dialog history and add current observations to it.

:param observation:        current observation
:param reply:              past utterance from the model to add to the
                   history, such as the past label or response
                   generated by the model.
:param add_person_tokens:  add tokens identifying each speaking before
                   utterances in the text &amp; history.
:param add_p1_after_newln: add the other speaker token before the last
                   newline in the input instead of at the
                   beginning of the input. this is useful for
                   tasks that include some kind of context
                   before the actual utterance (e.g. squad,
                   babi, personachat).

:return: observation with text replaced with full dialog
</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent__v1_8py_source.html#l00810">810</a> of file <a class="el" href="torch__agent__v1_8py_source.html">torch_agent_v1.py</a>.</p>

<p class="reference">References <a class="el" href="torch__agent__v1_8py_source.html#l00802">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._add_person_tokens()</a>, <a class="el" href="memnn__v0_8py_source.html#l00184">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.history</a>, <a class="el" href="ir__baseline_8py_source.html#l00247">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.history</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00328">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.history</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00357">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.history</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00136">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.P1_TOKEN</a>, and <a class="el" href="torch__agent__v1_8py_source.html#l00137">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.P2_TOKEN</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__agent__v1_8py_source.html#l00925">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.observe()</a>.</p>
<div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a8984452b8b4e6194625530aeae49b243_cgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a8984452b8b4e6194625530aeae49b243_cgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a8984452b8b4e6194625530aeae49b243_cgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a8984452b8b4e6194625530aeae49b243_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,180,76"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a69a72e46d8385ce508bf2df1290db6b8" title=" " alt="" coords="228,5,385,76"/>
</map>
</div>
<div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a8984452b8b4e6194625530aeae49b243_icgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a8984452b8b4e6194625530aeae49b243_icgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a8984452b8b4e6194625530aeae49b243_icgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a8984452b8b4e6194625530aeae49b243_icgraph">
<area shape="rect" title=" " alt="" coords="509,24,684,95"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a0eb23a78aea413ae4f90ce0628179920" title=" " alt="" coords="259,31,461,87"/>
<area shape="rect" href="classparlai_1_1tasks_1_1talkthewalk_1_1worlds_1_1SimulateWorld.html#a6bd5a8a8e194dd4aa76aeecdf429bc7f" title=" " alt="" coords="5,5,211,47"/>
<area shape="rect" href="classparlai_1_1core_1_1worlds_1_1ExecutableWorld.html#a6555592d2b7c316e72febc1fccf43bdb" title=" " alt="" coords="11,71,205,112"/>
</map>
</div>

</div>
</div>
<a id="a1727b17db185dcc7237d893018c7b76c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1727b17db185dcc7237d893018c7b76c">&#9670;&nbsp;</a></span>init_optim()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.init_optim </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>optim_states</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>saved_optim_type</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Initialize optimizer with model parameters.

:param params:       parameters from the model, for example:
             [p for p in model.parameters() if p.requires_grad]
:param optim_states: optional argument providing states of optimizer
             to load
:saved_optim_type:   type of optimizer being loaded, if changed will
             skip loading optimizer states
</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent__v1_8py_source.html#l00334">334</a> of file <a class="el" href="torch__agent__v1_8py_source.html">torch_agent_v1.py</a>.</p>

<p class="reference">References <a class="el" href="bi__encoder__ranker_8py_source.html#l00044">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.clip</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00077">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.clip</a>, <a class="el" href="language__model_8py_source.html#l00246">parlai.agents.language_model.language_model.LanguageModelAgent.clip</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00346">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.clip</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00508">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.clip</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00017">parlai.agents.legacy_agents.memnn.modules_v0.MemNN.opt</a>, <a class="el" href="parlai_2agents_2language__model_2modules_8py_source.html#l00018">parlai.agents.language_model.modules.RNNModel.opt</a>, <a class="el" href="rnn__reader_8py_source.html#l00019">parlai.agents.drqa.rnn_reader.RnnDocReader.opt</a>, <a class="el" href="model_8py_source.html#l00024">parlai.agents.drqa.model.DocReaderModel.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00033">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.opt</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00040">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.opt</a>, <a class="el" href="memnn__v0_8py_source.html#l00135">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.opt</a>, <a class="el" href="language__model_8py_source.html#l00169">parlai.agents.language_model.language_model.LanguageModelAgent.opt</a>, <a class="el" href="dict__v0_8py_source.html#l00196">parlai.agents.legacy_agents.seq2seq.dict_v0.DictionaryAgent.opt</a>, <a class="el" href="dict__v1_8py_source.html#l00206">parlai.agents.legacy_agents.seq2seq.dict_v1.DictionaryAgent.opt</a>, <a class="el" href="ir__baseline_8py_source.html#l00246">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.opt</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00295">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.opt</a>, <a class="el" href="fairseq_8py_source.html#l00338">parlai.agents.fairseq.fairseq.FairseqAgent.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00373">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00103">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.OPTIM_OPTS</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00130">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.OPTIM_OPTS</a>, <a class="el" href="model_8py_source.html#l00042">parlai.agents.drqa.model.DocReaderModel.optimizer</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00067">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.optimizer</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00092">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.optimizer</a>, <a class="el" href="bert__classifier_8py_source.html#l00136">parlai.agents.bert_classifier.bert_classifier.BertClassifierAgent.optimizer</a>, <a class="el" href="language__model_8py_source.html#l00262">parlai.agents.language_model.language_model.LanguageModelAgent.optimizer</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00361">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.optimizer</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00528">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.optimizer</a>, <a class="el" href="language__model_8py_source.html#l00268">parlai.agents.language_model.language_model.LanguageModelAgent.scheduler</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00379">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.scheduler</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00549">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.scheduler</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00048">parlai.agents.legacy_agents.memnn.modules_v0.MemNN.use_cuda</a>, <a class="el" href="memnn__v0_8py_source.html#l00096">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.use_cuda</a>, <a class="el" href="language__model_8py_source.html#l00162">parlai.agents.language_model.language_model.LanguageModelAgent.use_cuda</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00303">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.use_cuda</a>, and <a class="el" href="seq2seq__v0_8py_source.html#l00367">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.use_cuda</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__classifier__agent_8py_source.html#l00085">parlai.core.torch_classifier_agent.TorchClassifierAgent.__init__()</a>, <a class="el" href="torch__ranker__agent_8py_source.html#l00129">parlai.core.torch_ranker_agent.TorchRankerAgent.__init__()</a>, <a class="el" href="seq2seq__v1_8py_source.html#l00196">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent.__init__()</a>, <a class="el" href="controllable__seq2seq_8py_source.html#l00271">controllable_seq2seq.controllable_seq2seq.ControllableSeq2seqAgent.__init__()</a>, and <a class="el" href="torch__generator__agent_8py_source.html#l00296">parlai.core.torch_generator_agent.TorchGeneratorAgent.__init__()</a>.</p>
<div id="dynsection-26" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a1727b17db185dcc7237d893018c7b76c_icgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a1727b17db185dcc7237d893018c7b76c_icgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a1727b17db185dcc7237d893018c7b76c_icgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a1727b17db185dcc7237d893018c7b76c_icgraph">
<area shape="rect" title=" " alt="" coords="339,165,552,221"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__classifier__agent_1_1TorchClassifierAgent.html#af9f194b4566a43f0840286a39ee0032a" title=" " alt="" coords="53,5,243,61"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#acde404a79bf3678bb52d3e6c3ee5244a" title=" " alt="" coords="59,85,237,141"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#aea5753e8b1090fc88e657ada44492556" title=" " alt="" coords="57,165,239,221"/>
<area shape="rect" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a2cbe8ed3b2b6b82be90db6b45331800b" title=" " alt="" coords="5,246,291,287"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__generator__agent_1_1TorchGeneratorAgent.html#a60f9613d8d2761569c8862b690b24bce" title=" " alt="" coords="51,312,245,368"/>
</map>
</div>

</div>
</div>
<a id="abf7a50ea0eb319737123d2e46fde4c0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf7a50ea0eb319737123d2e46fde4c0f">&#9670;&nbsp;</a></span>last_reply()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.last_reply </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>use_label</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Retrieve the last reply from the model.

If available, we use the true label instead of the model's prediction.

By default, batch_act stores the batch of replies and this method
will extract the reply of the current instance from the batch.

:param use_label: default true, use the label when available instead of
          the model's generated response.
</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent__v1_8py_source.html#l00855">855</a> of file <a class="el" href="torch__agent__v1_8py_source.html">torch_agent_v1.py</a>.</p>

<p class="reference">References <a class="el" href="memnn__v0_8py_source.html#l00185">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.batch_idx</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00324">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.batch_idx</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00360">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.batch_idx</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00034">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.observation</a>, <a class="el" href="drqa_8py_source.html#l00181">parlai.agents.drqa.drqa.DrqaAgent.observation</a>, <a class="el" href="memnn__v0_8py_source.html#l00218">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.observation</a>, <a class="el" href="ir__baseline_8py_source.html#l00255">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.observation</a>, <a class="el" href="language__model_8py_source.html#l00330">parlai.agents.language_model.language_model.LanguageModelAgent.observation</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00620">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.observation</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00933">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.observation</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00322">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.random</a>, and <a class="el" href="torch__agent__v1_8py_source.html#l00288">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.replies</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__agent__v1_8py_source.html#l00925">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.observe()</a>, and <a class="el" href="torch__agent_8py_source.html#l01595">parlai.core.torch_agent.TorchAgent.observe()</a>.</p>
<div id="dynsection-27" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-27-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-27-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-27-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_abf7a50ea0eb319737123d2e46fde4c0f_icgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_abf7a50ea0eb319737123d2e46fde4c0f_icgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_abf7a50ea0eb319737123d2e46fde4c0f_icgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_abf7a50ea0eb319737123d2e46fde4c0f_icgraph">
<area shape="rect" title=" " alt="" coords="509,43,723,99"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a0eb23a78aea413ae4f90ce0628179920" title=" " alt="" coords="259,5,461,61"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a87b18f0d6ab11be3c49375af072d0d33" title=" " alt="" coords="281,86,439,127"/>
<area shape="rect" href="classparlai_1_1tasks_1_1talkthewalk_1_1worlds_1_1SimulateWorld.html#a6bd5a8a8e194dd4aa76aeecdf429bc7f" title=" " alt="" coords="5,15,211,57"/>
<area shape="rect" href="classparlai_1_1core_1_1worlds_1_1ExecutableWorld.html#a6555592d2b7c316e72febc1fccf43bdb" title=" " alt="" coords="11,82,205,123"/>
</map>
</div>

</div>
</div>
<a id="a6d71ad7997e048e4f4f7d957fae64ac5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d71ad7997e048e4f4f7d957fae64ac5">&#9670;&nbsp;</a></span>load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.load </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return opt and model states.

Override this method for more specific loading.
</pre> 
<p>Reimplemented in <a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#a3ee5ae38c0e37bcc1e4eb44bae8a3cce">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent__v1_8py_source.html#l00965">965</a> of file <a class="el" href="torch__agent__v1_8py_source.html">torch_agent_v1.py</a>.</p>

<p class="reference">References <a class="el" href="safety_8py_source.html#l00026">parlai.utils.safety.OffensiveLanguageClassifier.model</a>, <a class="el" href="crossencoder_8py_source.html#l00028">parlai.agents.transformer.crossencoder.CrossencoderAgent.model</a>, <a class="el" href="parlai_2messenger_2tasks_2chatbot_2worlds_8py_source.html#l00034">parlai.messenger.tasks.chatbot.worlds.MessengerBotChatTaskWorld.model</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00050">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.model</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00074">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.model</a>, <a class="el" href="dummy__torch__agent_8py_source.html#l00079">parlai.agents.test_agents.dummy_torch_agent.MockTorchAgent.model</a>, <a class="el" href="projects_2image__chat_2transresnet__multimodal_2transresnet__multimodal_8py_source.html#l00087">transresnet_multimodal.transresnet_multimodal.TransresnetMultimodalAgent.model</a>, <a class="el" href="polyencoder_8py_source.html#l00099">parlai.agents.transformer.polyencoder.PolyencoderAgent.model</a>, <a class="el" href="memnn__v0_8py_source.html#l00104">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.model</a>, <a class="el" href="projects_2personality__captions_2transresnet_2transresnet_8py_source.html#l00108">transresnet.transresnet.TransresnetAgent.model</a>, <a class="el" href="drqa_8py_source.html#l00123">parlai.agents.drqa.drqa.DrqaAgent.model</a>, <a class="el" href="torch__classifier__agent_8py_source.html#l00130">parlai.core.torch_classifier_agent.TorchClassifierAgent.model</a>, <a class="el" href="memnn__feedback_8py_source.html#l00146">agent.memnn_feedback.MemnnFeedbackAgent.model</a>, <a class="el" href="torch__ranker__agent_8py_source.html#l00148">parlai.core.torch_ranker_agent.TorchRankerAgent.model</a>, <a class="el" href="language__model_8py_source.html#l00173">parlai.agents.language_model.language_model.LanguageModelAgent.model</a>, <a class="el" href="transformer_8py_source.html#l00185">parlai.agents.transformer.transformer.TransformerRankerAgent.model</a>, <a class="el" href="starspace_8py_source.html#l00193">parlai.agents.starspace.starspace.StarspaceAgent.model</a>, <a class="el" href="seq2seq__v1_8py_source.html#l00230">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent.model</a>, <a class="el" href="self__feeding__agent_8py_source.html#l00295">self_feeding.self_feeding_agent.SelfFeedingAgent.model</a>, <a class="el" href="controllable__seq2seq_8py_source.html#l00310">controllable_seq2seq.controllable_seq2seq.ControllableSeq2seqAgent.model</a>, <a class="el" href="projects_2personachat_2kvmemnn_2kvmemnn_8py_source.html#l00311">kvmemnn.KvmemnnAgent.model</a>, <a class="el" href="torch__generator__agent_8py_source.html#l00322">parlai.core.torch_generator_agent.TorchGeneratorAgent.model</a>, <a class="el" href="projects_2wizard__of__wikipedia_2generator_2agents_8py_source.html#l00322">generator.agents.EndToEndAgent.model</a>, <a class="el" href="fairseq_8py_source.html#l00354">parlai.agents.fairseq.fairseq.FairseqAgent.model</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00381">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.model</a>, <a class="el" href="projects_2mastering__the__dungeon_2agents_2graph__world2_2agents_8py_source.html#l00506">mastering_the_dungeon.agents.graph_world2.agents.ModelAgentBase.model</a>, <a class="el" href="projects_2mastering__the__dungeon_2agents_2graph__world2_2agents_8py_source.html#l00544">mastering_the_dungeon.agents.graph_world2.agents.ObjectChecklistModelAgent.model</a>, <a class="el" href="projects_2mastering__the__dungeon_2agents_2graph__world2_2agents_8py_source.html#l00675">mastering_the_dungeon.agents.graph_world2.agents.Seq2SeqModelAgent.model</a>, <a class="el" href="torch__agent_8py_source.html#l00689">parlai.core.torch_agent.TorchAgent.model</a>, <a class="el" href="model_8py_source.html#l00042">parlai.agents.drqa.model.DocReaderModel.optimizer</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00067">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.optimizer</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00092">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.optimizer</a>, <a class="el" href="bert__classifier_8py_source.html#l00136">parlai.agents.bert_classifier.bert_classifier.BertClassifierAgent.optimizer</a>, <a class="el" href="language__model_8py_source.html#l00262">parlai.agents.language_model.language_model.LanguageModelAgent.optimizer</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00361">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.optimizer</a>, and <a class="el" href="seq2seq__v0_8py_source.html#l00528">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.optimizer</a>.</p>

<p class="reference">Referenced by <a class="el" href="wizard__dict_8py_source.html#l00018">wizard_transformer_ranker.wizard_dict.WizardDictAgent.__init__()</a>, <a class="el" href="torch__classifier__agent_8py_source.html#l00085">parlai.core.torch_classifier_agent.TorchClassifierAgent.__init__()</a>, <a class="el" href="torch__ranker__agent_8py_source.html#l00129">parlai.core.torch_ranker_agent.TorchRankerAgent.__init__()</a>, <a class="el" href="starspace_8py_source.html#l00176">parlai.agents.starspace.starspace.StarspaceAgent.__init__()</a>, <a class="el" href="dict_8py_source.html#l00219">parlai.core.dict.DictionaryAgent.__init__()</a>, <a class="el" href="controllable__seq2seq_8py_source.html#l00271">controllable_seq2seq.controllable_seq2seq.ControllableSeq2seqAgent.__init__()</a>, <a class="el" href="projects_2personachat_2kvmemnn_2kvmemnn_8py_source.html#l00282">kvmemnn.KvmemnnAgent.__init__()</a>, <a class="el" href="torch__generator__agent_8py_source.html#l00296">parlai.core.torch_generator_agent.TorchGeneratorAgent.__init__()</a>, <a class="el" href="projects_2image__chat_2transresnet__multimodal_2transresnet__multimodal_8py_source.html#l00039">transresnet_multimodal.transresnet_multimodal.TransresnetMultimodalAgent.add_cmdline_args()</a>, and <a class="el" href="projects_2personality__captions_2transresnet_2transresnet_8py_source.html#l00115">transresnet.transresnet.TransresnetAgent.share()</a>.</p>
<div id="dynsection-28" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-28-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-28-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-28-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a6d71ad7997e048e4f4f7d957fae64ac5_icgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a6d71ad7997e048e4f4f7d957fae64ac5_icgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a6d71ad7997e048e4f4f7d957fae64ac5_icgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a6d71ad7997e048e4f4f7d957fae64ac5_icgraph">
<area shape="rect" title=" " alt="" coords="340,337,521,393"/>
<area shape="rect" href="classwizard__transformer__ranker_1_1wizard__dict_1_1WizardDictAgent.html#adb8a1ecd2f5090bee76d334513dd7665" title=" " alt="" coords="59,5,239,61"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__classifier__agent_1_1TorchClassifierAgent.html#af9f194b4566a43f0840286a39ee0032a" title=" " alt="" coords="53,85,244,141"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#acde404a79bf3678bb52d3e6c3ee5244a" title=" " alt="" coords="59,165,238,221"/>
<area shape="rect" href="classparlai_1_1agents_1_1starspace_1_1starspace_1_1StarspaceAgent.html#a6bdc1142c021946ee6cb409d4f9dc3c9" title=" " alt="" coords="37,246,260,287"/>
<area shape="rect" href="classparlai_1_1core_1_1dict_1_1DictionaryAgent.html#a324531500b43e0039f2c0087081a8b3d" title=" " alt="" coords="63,311,234,353"/>
<area shape="rect" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a2cbe8ed3b2b6b82be90db6b45331800b" title=" " alt="" coords="6,377,291,418"/>
<area shape="rect" href="classkvmemnn_1_1KvmemnnAgent.html#a7a510bb5ac2444d5a30715c77bf55684" title=" " alt="" coords="59,442,239,483"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__generator__agent_1_1TorchGeneratorAgent.html#a60f9613d8d2761569c8862b690b24bce" title=" " alt="" coords="52,508,245,564"/>
<area shape="rect" href="classtransresnet__multimodal_1_1transresnet__multimodal_1_1TransresnetMultimodalAgent.html#ae30fd68376b12a3264e95c8e607df102" title="Initialization and argument parsers." alt="" coords="5,588,292,644"/>
<area shape="rect" href="classtransresnet_1_1transresnet_1_1TransresnetAgent.html#a1a1e5d359d0c7dadfb6eb67a5db686b5" title=" " alt="" coords="68,669,229,710"/>
</map>
</div>

</div>
</div>
<a id="acac419cfad0fc5988e7e796c244f3a9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acac419cfad0fc5988e7e796c244f3a9f">&#9670;&nbsp;</a></span>match_batch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.match_batch </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>batch_reply</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>valid_inds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>output</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Match sub-batch of predictions to the original batch indices.

Batches may be only partially filled (i.e when completing the remainder
at the end of the validation or test set), or we may want to sort by
e.g the length of the input sequences if using pack_padded_sequence.

This matches rows back with their original row in the batch for
calculating metrics like accuracy.

If output is None (model choosing not to provide any predictions), we
will just return the batch of replies.

Otherwise, output should be a parlai.core.torch_agent.Output object.
This is a namedtuple, which can provide text predictions and/or
text_candidates predictions. If you would like to map additional
fields into the batch_reply, you can override this method as well as
providing your own namedtuple with additional fields.

:param batch_reply: Full-batchsize list of message dictionaries to put
    responses into.
:param valid_inds: Original indices of the predictions.
:param output: Output namedtuple which contains sub-batchsize list of
    text outputs from model. May be None (default) if model chooses not
    to answer. This method will check for ``text`` and
    ``text_candidates`` fields.
</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent__v1_8py_source.html#l00765">765</a> of file <a class="el" href="torch__agent__v1_8py_source.html">torch_agent_v1.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__agent__v1_8py_source.html#l00988">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.batch_act()</a>, and <a class="el" href="torch__agent_8py_source.html#l01725">parlai.core.torch_agent.TorchAgent.batch_act()</a>.</p>
<div id="dynsection-29" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-29-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-29-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-29-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_acac419cfad0fc5988e7e796c244f3a9f_icgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_acac419cfad0fc5988e7e796c244f3a9f_icgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_acac419cfad0fc5988e7e796c244f3a9f_icgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_acac419cfad0fc5988e7e796c244f3a9f_icgraph">
<area shape="rect" title=" " alt="" coords="800,189,1032,245"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#af3929c1bedc50a48dcf8d1184321f4f5" title=" " alt="" coords="537,225,752,281"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a7754a74d6c87590f46e71ec486c285a8" title=" " alt="" coords="565,159,724,200"/>
<area shape="rect" href="classtransresnet_1_1transresnet_1_1TransresnetAgent.html#ad59fea461b2ea1f9731742901203bdd7" title=" " alt="" coords="290,5,450,47"/>
<area shape="rect" href="classmastering__the__dungeon_1_1agents_1_1graph__world2_1_1agents_1_1ModelAgentBase.html#a768f25fa424b2cd4d1de8e62bfed970a" title=" " alt="" coords="251,71,489,112"/>
<area shape="rect" href="classparlai_1_1agents_1_1starspace_1_1starspace_1_1StarspaceAgent.html#aff87fb1b28e798a9ca28a0dc3fbb2f22" title=" " alt="" coords="259,384,481,425"/>
<area shape="rect" href="classagent_1_1memnn__feedback_1_1MemnnFeedbackAgent.html#ab221141e0a956be465e718bb349e7554" title=" " alt="" coords="266,136,474,177"/>
<area shape="rect" href="classkvmemnn_1_1KvmemnnAgent.html#a6f57723b871277392a3f3fd627c717d8" title=" " alt="" coords="271,202,469,229"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a3ab251071823f34358a569c1c2a11bf9" title=" " alt="" coords="283,450,457,506"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a51174dfa508970e3392246b02d0d94b5" title=" " alt="" coords="291,253,449,295"/>
<area shape="rect" href="classparlai_1_1core_1_1worlds_1_1BatchWorld.html#a297ab42faba47581774cd9333c874905" title=" " alt="" coords="289,319,451,360"/>
<area shape="rect" href="classparlai_1_1messenger_1_1core_1_1agents_1_1MessengerAgent.html#a50d76f90d1926c160d96e621403b7598" title=" " alt="" coords="5,421,203,463"/>
</map>
</div>

</div>
</div>
<a id="a0eb23a78aea413ae4f90ce0628179920"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0eb23a78aea413ae4f90ce0628179920">&#9670;&nbsp;</a></span>observe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.observe </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>observation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Process incoming message in preparation for producing a response.

This includes remembering the past history of the conversation.
</pre> 
<p>Reimplemented from <a class="el" href="classparlai_1_1core_1_1agents_1_1Agent.html#a98041e2d186aa81bd5e1649a91f623bc">parlai.core.agents.Agent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent__v1_8py_source.html#l00925">925</a> of file <a class="el" href="torch__agent__v1_8py_source.html">torch_agent_v1.py</a>.</p>

<p class="reference">References <a class="el" href="torch__agent__v1_8py_source.html#l00332">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.add_person_tokens</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00810">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.get_dialog_history()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00855">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.last_reply()</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00034">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.observation</a>, <a class="el" href="drqa_8py_source.html#l00181">parlai.agents.drqa.drqa.DrqaAgent.observation</a>, <a class="el" href="memnn__v0_8py_source.html#l00218">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.observation</a>, <a class="el" href="ir__baseline_8py_source.html#l00255">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.observation</a>, <a class="el" href="language__model_8py_source.html#l00330">parlai.agents.language_model.language_model.LanguageModelAgent.observation</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00620">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.observation</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00933">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.observation</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00017">parlai.agents.legacy_agents.memnn.modules_v0.MemNN.opt</a>, <a class="el" href="parlai_2agents_2language__model_2modules_8py_source.html#l00018">parlai.agents.language_model.modules.RNNModel.opt</a>, <a class="el" href="rnn__reader_8py_source.html#l00019">parlai.agents.drqa.rnn_reader.RnnDocReader.opt</a>, <a class="el" href="model_8py_source.html#l00024">parlai.agents.drqa.model.DocReaderModel.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00033">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.opt</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00040">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.opt</a>, <a class="el" href="memnn__v0_8py_source.html#l00135">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.opt</a>, <a class="el" href="language__model_8py_source.html#l00169">parlai.agents.language_model.language_model.LanguageModelAgent.opt</a>, <a class="el" href="dict__v0_8py_source.html#l00196">parlai.agents.legacy_agents.seq2seq.dict_v0.DictionaryAgent.opt</a>, <a class="el" href="dict__v1_8py_source.html#l00206">parlai.agents.legacy_agents.seq2seq.dict_v1.DictionaryAgent.opt</a>, <a class="el" href="ir__baseline_8py_source.html#l00246">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.opt</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00295">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.opt</a>, <a class="el" href="fairseq_8py_source.html#l00338">parlai.agents.fairseq.fairseq.FairseqAgent.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00373">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.opt</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00330">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.truncate</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00350">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.truncate</a>, <a class="el" href="seq2seq__v1_8py_source.html#l00394">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent.vectorize()</a>, <a class="el" href="language__model_8py_source.html#l00558">parlai.agents.language_model.language_model.LanguageModelAgent.vectorize()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00636">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.vectorize()</a>, and <a class="el" href="seq2seq__v0_8py_source.html#l00765">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.vectorize()</a>.</p>

<p class="reference">Referenced by <a class="el" href="parlai_2tasks_2talkthewalk_2worlds_8py_source.html#l00162">parlai.tasks.talkthewalk.worlds.SimulateWorld.parley()</a>, and <a class="el" href="parlai_2core_2worlds_8py_source.html#l00454">parlai.core.worlds.ExecutableWorld.parley()</a>.</p>
<div id="dynsection-30" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-30-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-30-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-30-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a0eb23a78aea413ae4f90ce0628179920_cgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a0eb23a78aea413ae4f90ce0628179920_cgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a0eb23a78aea413ae4f90ce0628179920_cgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a0eb23a78aea413ae4f90ce0628179920_cgraph">
<area shape="rect" title=" " alt="" coords="5,214,208,270"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a8984452b8b4e6194625530aeae49b243" title=" " alt="" coords="275,5,450,76"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#abf7a50ea0eb319737123d2e46fde4c0f" title=" " alt="" coords="256,101,469,157"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#ad996f79cf60e2442f165c3f0dcd10613" title=" " alt="" coords="268,181,457,237"/>
<area shape="rect" href="classparlai_1_1agents_1_1language__model_1_1language__model_1_1LanguageModelAgent.html#aeddf3a4b207e0668644ce6dfd93f39ef" title=" " alt="" coords="522,219,745,275"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a866838e1c81063a3ec18c5609e029f90" title=" " alt="" coords="257,809,468,865"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v0_1_1Seq2seqAgent.html#a83e2433e00bff6162ebad3b818771b59" title=" " alt="" coords="268,335,457,391"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a69a72e46d8385ce508bf2df1290db6b8" title=" " alt="" coords="555,5,712,76"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v0_1_1Agent.html#a8bddd5b89230c9a2810e7ca15914997e" title=" " alt="" coords="821,103,996,159"/>
<area shape="rect" href="classparlai_1_1core_1_1agents_1_1Agent.html#a29e1cdd729ac4236f8bae90b2e66fa04" title=" " alt="" coords="809,234,1008,261"/>
<area shape="rect" href="classparlai_1_1agents_1_1drqa_1_1model_1_1DocReaderModel.html#a798f609dcd78b3e66e00a81f26f12603" title=" " alt="" coords="825,285,993,327"/>
<area shape="rect" href="classparlai_1_1agents_1_1language__model_1_1language__model_1_1LanguageModelAgent.html#a1ff4e6849d50eb9d58a2f97a91d715ce" title=" " alt="" coords="797,351,1020,407"/>
<area shape="rect" href="classparlai_1_1agents_1_1language__model_1_1language__model_1_1LanguageModelAgent.html#aa54ff09a8edc6ae51ac8be33aeb4acc8" title=" " alt="" coords="1341,234,1564,290"/>
<area shape="rect" href="classparlai_1_1agents_1_1language__model_1_1language__model_1_1LanguageModelAgent.html#aa3de87163cd61e4195afc0ccf801699b" title=" " alt="" coords="1069,234,1292,290"/>
<area shape="rect" href="classparlai_1_1agents_1_1language__model_1_1language__model_1_1LanguageModelAgent.html#aeb1136a4ae2a2a1e8c0d5a7b75d9898f" title=" " alt="" coords="1069,314,1292,370"/>
<area shape="rect" href="classparlai_1_1agents_1_1language__model_1_1language__model_1_1LanguageModelAgent.html#af474c46339e2e0c881f8b8b81f5f9b7f" title=" " alt="" coords="1069,394,1292,450"/>
<area shape="rect" href="classparlai_1_1agents_1_1language__model_1_1language__model_1_1LanguageModelAgent.html#ad7b6363acdfb3d009cd9a3bcc6206faf" title=" " alt="" coords="1069,474,1292,530"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#af7d66c2a4d9370532df8654048742a6c" title=" " alt="" coords="555,612,712,683"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a062901964b89a83cfce76560e23e627a" title=" " alt="" coords="555,707,712,777"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1cross__encoder__ranker_1_1CrossEncoderRankerAgent.html#a6ca6472fd7749ebf01c9a7f4216fcc6d" title=" " alt="" coords="517,896,749,967"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__classifier_1_1bert__classifier_1_1BertClassifierAgent.html#a48a3ad41d33733e9cff1042d22f8fa60" title=" " alt="" coords="548,991,719,1061"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1bi__encoder__ranker_1_1BiEncoderRankerAgent.html#a35e3fabc73b2180662cbb0928d8848d1" title=" " alt="" coords="540,1085,727,1156"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a85106541b03e5c9dad245b002da7431c" title=" " alt="" coords="555,801,712,872"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a07964fbca57736f639fe4e9dd9d1459a" title=" " alt="" coords="830,660,987,731"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#ac698ff0226e4d22f8498a9d9e667a34c" title=" " alt="" coords="830,755,987,825"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v0_1_1Seq2seqAgent.html#a9326d8ed88999a992b8ec73313c70a36" title=" " alt="" coords="519,451,747,507"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1memnn_1_1memnn__v0_1_1MemnnAgent.html#a4e850d51ca01adc45754cc509c8b096a" title=" " alt="" coords="518,531,749,587"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v0_1_1Seq2seqAgent.html#aadec879f7d8daa6451076e4fb358715b" title=" " alt="" coords="821,474,996,530"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v0_1_1Seq2seqAgent.html#a3933d4fdc5e603b1a168d92e7da77151" title=" " alt="" coords="1068,554,1293,610"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v0_1_1Seq2seqAgent.html#a0be9f1e378a403284d8afac5648fbf4d" title=" " alt="" coords="1084,634,1277,690"/>
</map>
</div>
<div id="dynsection-31" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-31-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-31-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-31-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a0eb23a78aea413ae4f90ce0628179920_icgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a0eb23a78aea413ae4f90ce0628179920_icgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a0eb23a78aea413ae4f90ce0628179920_icgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a0eb23a78aea413ae4f90ce0628179920_icgraph">
<area shape="rect" title=" " alt="" coords="259,31,461,87"/>
<area shape="rect" href="classparlai_1_1tasks_1_1talkthewalk_1_1worlds_1_1SimulateWorld.html#a6bd5a8a8e194dd4aa76aeecdf429bc7f" title=" " alt="" coords="5,5,211,47"/>
<area shape="rect" href="classparlai_1_1core_1_1worlds_1_1ExecutableWorld.html#a6555592d2b7c316e72febc1fccf43bdb" title=" " alt="" coords="11,71,205,112"/>
</map>
</div>

</div>
</div>
<a id="af97699a6b03a17969830db378f09cac4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af97699a6b03a17969830db378f09cac4">&#9670;&nbsp;</a></span>receive_metrics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.receive_metrics </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>metrics_dict</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Use the metrics to decide when to adjust LR schedule.

This uses the loss as the validation metric if present, if not this
function does nothing. Note that the model must be reporting loss for
this to work.
Override this to override the behavior.
</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent__v1_8py_source.html#l00383">383</a> of file <a class="el" href="torch__agent__v1_8py_source.html">torch_agent_v1.py</a>.</p>

<p class="reference">References <a class="el" href="memnn_2modules__v0_8py_source.html#l00017">parlai.agents.legacy_agents.memnn.modules_v0.MemNN.opt</a>, <a class="el" href="parlai_2agents_2language__model_2modules_8py_source.html#l00018">parlai.agents.language_model.modules.RNNModel.opt</a>, <a class="el" href="rnn__reader_8py_source.html#l00019">parlai.agents.drqa.rnn_reader.RnnDocReader.opt</a>, <a class="el" href="model_8py_source.html#l00024">parlai.agents.drqa.model.DocReaderModel.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00033">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.opt</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00040">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.opt</a>, <a class="el" href="memnn__v0_8py_source.html#l00135">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.opt</a>, <a class="el" href="language__model_8py_source.html#l00169">parlai.agents.language_model.language_model.LanguageModelAgent.opt</a>, <a class="el" href="dict__v0_8py_source.html#l00196">parlai.agents.legacy_agents.seq2seq.dict_v0.DictionaryAgent.opt</a>, <a class="el" href="dict__v1_8py_source.html#l00206">parlai.agents.legacy_agents.seq2seq.dict_v1.DictionaryAgent.opt</a>, <a class="el" href="ir__baseline_8py_source.html#l00246">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.opt</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00295">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.opt</a>, <a class="el" href="fairseq_8py_source.html#l00338">parlai.agents.fairseq.fairseq.FairseqAgent.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00373">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.opt</a>, <a class="el" href="language__model_8py_source.html#l00268">parlai.agents.language_model.language_model.LanguageModelAgent.scheduler</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00379">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.scheduler</a>, and <a class="el" href="seq2seq__v0_8py_source.html#l00549">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.scheduler</a>.</p>

</div>
</div>
<a id="ae4b2346c35e214a8028eb83d1fc5ffd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4b2346c35e214a8028eb83d1fc5ffd7">&#9670;&nbsp;</a></span>reply_history()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.reply_history </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get the model's predicted reply history within this episode.

:param batch: (default False) return the reply history for every
      row in the batch, otherwise will return just for this
      example.

:return: list of lists of strings, each of the past model replies in
 in the current episode. will be None wherever model did not
 reply.
</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent__v1_8py_source.html#l00910">910</a> of file <a class="el" href="torch__agent__v1_8py_source.html">torch_agent_v1.py</a>.</p>

<p class="reference">References <a class="el" href="torch__agent__v1_8py_source.html#l00288">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.replies</a>.</p>

</div>
</div>
<a id="a93e935c0d2d589d8990ff14d6e528c4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93e935c0d2d589d8990ff14d6e528c4d">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.reset </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Clear internal states.</pre> 
<p>Reimplemented from <a class="el" href="classparlai_1_1core_1_1agents_1_1Agent.html#a27cb8206372681605b00dc28b81a7c39">parlai.core.agents.Agent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent__v1_8py_source.html#l00977">977</a> of file <a class="el" href="torch__agent__v1_8py_source.html">torch_agent_v1.py</a>.</p>

<p class="reference">References <a class="el" href="memnn__v0_8py_source.html#l00184">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.history</a>, <a class="el" href="ir__baseline_8py_source.html#l00247">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.history</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00328">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.history</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00357">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.history</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00034">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.observation</a>, <a class="el" href="drqa_8py_source.html#l00181">parlai.agents.drqa.drqa.DrqaAgent.observation</a>, <a class="el" href="memnn__v0_8py_source.html#l00218">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.observation</a>, <a class="el" href="ir__baseline_8py_source.html#l00255">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.observation</a>, <a class="el" href="language__model_8py_source.html#l00330">parlai.agents.language_model.language_model.LanguageModelAgent.observation</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00620">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.observation</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00933">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.observation</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00288">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.replies</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00062">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.reset_metrics()</a>, <a class="el" href="parlai_2core_2agents_8py_source.html#l00100">parlai.core.agents.Agent.reset_metrics()</a>, <a class="el" href="language__model_8py_source.html#l00333">parlai.agents.language_model.language_model.LanguageModelAgent.reset_metrics()</a>, <a class="el" href="seq2seq__v1_8py_source.html#l00346">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent.reset_metrics()</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00626">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.reset_metrics()</a>, and <a class="el" href="fairseq_8py_source.html#l00646">parlai.agents.fairseq.fairseq.FairseqAgent.reset_metrics()</a>.</p>

<p class="reference">Referenced by <a class="el" href="starspace_8py_source.html#l00176">parlai.agents.starspace.starspace.StarspaceAgent.__init__()</a>, <a class="el" href="seq2seq__v1_8py_source.html#l00196">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent.__init__()</a>, <a class="el" href="self__feeding__agent_8py_source.html#l00223">self_feeding.self_feeding_agent.SelfFeedingAgent.__init__()</a>, <a class="el" href="controllable__seq2seq_8py_source.html#l00271">controllable_seq2seq.controllable_seq2seq.ControllableSeq2seqAgent.__init__()</a>, <a class="el" href="projects_2personachat_2kvmemnn_2kvmemnn_8py_source.html#l00282">kvmemnn.KvmemnnAgent.__init__()</a>, <a class="el" href="torch__generator__agent_8py_source.html#l00296">parlai.core.torch_generator_agent.TorchGeneratorAgent.__init__()</a>, <a class="el" href="teachers_8py_source.html#l00392">parlai.core.teachers.FixedDialogTeacher.act()</a>, <a class="el" href="coopgame__agent_8py_source.html#l00045">taskntalk.coopgame_agent.CooperativeGameAgent.add_cmdline_args()</a>, <a class="el" href="teachers_8py_source.html#l00359">parlai.core.teachers.FixedDialogTeacher.batch_act()</a>, <a class="el" href="starspace_8py_source.html#l00575">parlai.agents.starspace.starspace.StarspaceAgent.load()</a>, <a class="el" href="projects_2personachat_2kvmemnn_2kvmemnn_8py_source.html#l00900">kvmemnn.KvmemnnAgent.load()</a>, <a class="el" href="coopgame__agent_8py_source.html#l00138">taskntalk.coopgame_agent.CooperativeGameAgent.observe()</a>, <a class="el" href="teachers_8py_source.html#l00808">parlai.core.teachers.StreamDialogData.share()</a>, and <a class="el" href="torch__agent_8py_source.html#l00237">parlai.core.torch_agent.History.update_history()</a>.</p>
<div id="dynsection-32" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-32-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-32-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-32-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a93e935c0d2d589d8990ff14d6e528c4d_cgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a93e935c0d2d589d8990ff14d6e528c4d_cgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a93e935c0d2d589d8990ff14d6e528c4d_cgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a93e935c0d2d589d8990ff14d6e528c4d_cgraph">
<area shape="rect" title=" " alt="" coords="5,196,192,252"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v0_1_1Agent.html#acbe0accc588c66ea679806cd6450b293" title=" " alt="" coords="264,5,439,61"/>
<area shape="rect" href="classparlai_1_1core_1_1agents_1_1Agent.html#aaefcbd7c61d319b368b3ee13997c8c99" title=" " alt="" coords="253,86,449,127"/>
<area shape="rect" href="classparlai_1_1agents_1_1language__model_1_1language__model_1_1LanguageModelAgent.html#a62896fd9aa38b55c6ea1b8a8770e3261" title=" " alt="" coords="240,152,463,208"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#a521db011d2188e8e513976af5737c322" title=" " alt="" coords="264,233,439,303"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v0_1_1Seq2seqAgent.html#ae76435bf7acee9501188de47c0ba6991" title=" " alt="" coords="264,327,439,398"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#a029d7193a532d4cf75433e82817ab414" title=" " alt="" coords="258,422,445,463"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#acc5aa3887a6bf3ece28d60a9572fe50e" title=" " alt="" coords="511,422,697,463"/>
</map>
</div>
<div id="dynsection-33" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-33-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-33-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-33-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a93e935c0d2d589d8990ff14d6e528c4d_icgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a93e935c0d2d589d8990ff14d6e528c4d_icgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a93e935c0d2d589d8990ff14d6e528c4d_icgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a93e935c0d2d589d8990ff14d6e528c4d_icgraph">
<area shape="rect" title=" " alt="" coords="643,622,829,678"/>
<area shape="rect" href="classparlai_1_1agents_1_1starspace_1_1starspace_1_1StarspaceAgent.html#a6bdc1142c021946ee6cb409d4f9dc3c9" title=" " alt="" coords="37,384,260,425"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#aea5753e8b1090fc88e657ada44492556" title=" " alt="" coords="377,279,558,335"/>
<area shape="rect" href="classself__feeding_1_1self__feeding__agent_1_1SelfFeedingAgent.html#ac76dc7e656c40b4209513286a5b1b2d9" title=" " alt="" coords="381,359,553,415"/>
<area shape="rect" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a2cbe8ed3b2b6b82be90db6b45331800b" title=" " alt="" coords="6,449,291,491"/>
<area shape="rect" href="classkvmemnn_1_1KvmemnnAgent.html#a7a510bb5ac2444d5a30715c77bf55684" title=" " alt="" coords="59,1049,239,1091"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__generator__agent_1_1TorchGeneratorAgent.html#a60f9613d8d2761569c8862b690b24bce" title=" " alt="" coords="52,515,245,571"/>
<area shape="rect" href="classparlai_1_1core_1_1teachers_1_1FixedDialogTeacher.html#a759b2dcb341b657fda29c71a7a5354b4" title=" " alt="" coords="381,592,553,633"/>
<area shape="rect" href="classtaskntalk_1_1coopgame__agent_1_1CooperativeGameAgent.html#a12c44e2508ef71d25a937cb4de5c77ca" title=" " alt="" coords="353,658,582,714"/>
<area shape="rect" href="classparlai_1_1core_1_1teachers_1_1FixedDialogTeacher.html#afa75426a7578e8aad5b74964219345be" title=" " alt="" coords="381,195,553,236"/>
<area shape="rect" href="classparlai_1_1agents_1_1starspace_1_1starspace_1_1StarspaceAgent.html#a57f2fcd5e04246f3d8edf57ccdb99eab" title=" " alt="" coords="356,739,579,780"/>
<area shape="rect" href="classkvmemnn_1_1KvmemnnAgent.html#a4a7c16982a6d0364a6f7eca56734ee0b" title=" " alt="" coords="365,805,569,831"/>
<area shape="rect" href="classtaskntalk_1_1coopgame__agent_1_1CooperativeGameAgent.html#aa3bad16932f23c0f55370d01000474ee" title=" " alt="" coords="340,907,595,948"/>
<area shape="rect" href="classparlai_1_1core_1_1teachers_1_1StreamDialogData.html#a6bb0ef8ed4a3360184f715e8fab9b3aa" title=" " alt="" coords="376,972,559,1013"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1History.html#ac7bdfbe78c9f6aed1118161bd24a7c8e" title=" " alt="" coords="388,1037,547,1079"/>
<area shape="rect" href="classtransresnet_1_1transresnet_1_1TransresnetAgent.html#ad59fea461b2ea1f9731742901203bdd7" title=" " alt="" coords="69,5,229,47"/>
<area shape="rect" href="classmastering__the__dungeon_1_1agents_1_1graph__world2_1_1agents_1_1ModelAgentBase.html#a768f25fa424b2cd4d1de8e62bfed970a" title=" " alt="" coords="29,71,268,112"/>
<area shape="rect" href="classagent_1_1memnn__feedback_1_1MemnnFeedbackAgent.html#ab221141e0a956be465e718bb349e7554" title=" " alt="" coords="45,136,253,177"/>
<area shape="rect" href="classkvmemnn_1_1KvmemnnAgent.html#a6f57723b871277392a3f3fd627c717d8" title=" " alt="" coords="49,202,248,229"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a51174dfa508970e3392246b02d0d94b5" title=" " alt="" coords="69,253,228,295"/>
<area shape="rect" href="classparlai_1_1core_1_1worlds_1_1BatchWorld.html#a297ab42faba47581774cd9333c874905" title=" " alt="" coords="67,319,230,360"/>
<area shape="rect" href="classwizard__transformer__ranker_1_1wizard__dict_1_1WizardDictAgent.html#adb8a1ecd2f5090bee76d334513dd7665" title=" " alt="" coords="59,662,239,718"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__classifier__agent_1_1TorchClassifierAgent.html#af9f194b4566a43f0840286a39ee0032a" title=" " alt="" coords="53,742,244,798"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#acde404a79bf3678bb52d3e6c3ee5244a" title=" " alt="" coords="59,822,238,878"/>
<area shape="rect" href="classparlai_1_1core_1_1dict_1_1DictionaryAgent.html#a324531500b43e0039f2c0087081a8b3d" title=" " alt="" coords="63,596,234,637"/>
<area shape="rect" href="classtransresnet__multimodal_1_1transresnet__multimodal_1_1TransresnetMultimodalAgent.html#ae30fd68376b12a3264e95c8e607df102" title="Initialization and argument parsers." alt="" coords="5,969,292,1025"/>
<area shape="rect" href="classtransresnet_1_1transresnet_1_1TransresnetAgent.html#a1a1e5d359d0c7dadfb6eb67a5db686b5" title=" " alt="" coords="68,903,229,944"/>
</map>
</div>

</div>
</div>
<a id="a4a01defa1d669571f574fcfe021776a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a01defa1d669571f574fcfe021776a8">&#9670;&nbsp;</a></span>save()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.save </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>path</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Save model parameters to path (or default to model_file arg).

Override this method for more specific saving.
</pre> 
<p>Reimplemented from <a class="el" href="classparlai_1_1core_1_1agents_1_1Agent.html#a51e706e3e5389c9b48c7a1589d97ec99">parlai.core.agents.Agent</a>.</p>

<p>Reimplemented in <a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#a8aa6a1efae9091dc0b38af3ce4b49706">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent__v1_8py_source.html#l00941">941</a> of file <a class="el" href="torch__agent__v1_8py_source.html">torch_agent_v1.py</a>.</p>

<p class="reference">References <a class="el" href="safety_8py_source.html#l00026">parlai.utils.safety.OffensiveLanguageClassifier.model</a>, <a class="el" href="crossencoder_8py_source.html#l00028">parlai.agents.transformer.crossencoder.CrossencoderAgent.model</a>, <a class="el" href="parlai_2messenger_2tasks_2chatbot_2worlds_8py_source.html#l00034">parlai.messenger.tasks.chatbot.worlds.MessengerBotChatTaskWorld.model</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00050">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.model</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00074">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.model</a>, <a class="el" href="dummy__torch__agent_8py_source.html#l00079">parlai.agents.test_agents.dummy_torch_agent.MockTorchAgent.model</a>, <a class="el" href="projects_2image__chat_2transresnet__multimodal_2transresnet__multimodal_8py_source.html#l00087">transresnet_multimodal.transresnet_multimodal.TransresnetMultimodalAgent.model</a>, <a class="el" href="polyencoder_8py_source.html#l00099">parlai.agents.transformer.polyencoder.PolyencoderAgent.model</a>, <a class="el" href="memnn__v0_8py_source.html#l00104">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.model</a>, <a class="el" href="projects_2personality__captions_2transresnet_2transresnet_8py_source.html#l00108">transresnet.transresnet.TransresnetAgent.model</a>, <a class="el" href="drqa_8py_source.html#l00123">parlai.agents.drqa.drqa.DrqaAgent.model</a>, <a class="el" href="torch__classifier__agent_8py_source.html#l00130">parlai.core.torch_classifier_agent.TorchClassifierAgent.model</a>, <a class="el" href="memnn__feedback_8py_source.html#l00146">agent.memnn_feedback.MemnnFeedbackAgent.model</a>, <a class="el" href="torch__ranker__agent_8py_source.html#l00148">parlai.core.torch_ranker_agent.TorchRankerAgent.model</a>, <a class="el" href="language__model_8py_source.html#l00173">parlai.agents.language_model.language_model.LanguageModelAgent.model</a>, <a class="el" href="transformer_8py_source.html#l00185">parlai.agents.transformer.transformer.TransformerRankerAgent.model</a>, <a class="el" href="starspace_8py_source.html#l00193">parlai.agents.starspace.starspace.StarspaceAgent.model</a>, <a class="el" href="seq2seq__v1_8py_source.html#l00230">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent.model</a>, <a class="el" href="self__feeding__agent_8py_source.html#l00295">self_feeding.self_feeding_agent.SelfFeedingAgent.model</a>, <a class="el" href="controllable__seq2seq_8py_source.html#l00310">controllable_seq2seq.controllable_seq2seq.ControllableSeq2seqAgent.model</a>, <a class="el" href="projects_2personachat_2kvmemnn_2kvmemnn_8py_source.html#l00311">kvmemnn.KvmemnnAgent.model</a>, <a class="el" href="projects_2wizard__of__wikipedia_2generator_2agents_8py_source.html#l00322">generator.agents.EndToEndAgent.model</a>, <a class="el" href="torch__generator__agent_8py_source.html#l00322">parlai.core.torch_generator_agent.TorchGeneratorAgent.model</a>, <a class="el" href="fairseq_8py_source.html#l00354">parlai.agents.fairseq.fairseq.FairseqAgent.model</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00381">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.model</a>, <a class="el" href="projects_2mastering__the__dungeon_2agents_2graph__world2_2agents_8py_source.html#l00506">mastering_the_dungeon.agents.graph_world2.agents.ModelAgentBase.model</a>, <a class="el" href="projects_2mastering__the__dungeon_2agents_2graph__world2_2agents_8py_source.html#l00544">mastering_the_dungeon.agents.graph_world2.agents.ObjectChecklistModelAgent.model</a>, <a class="el" href="projects_2mastering__the__dungeon_2agents_2graph__world2_2agents_8py_source.html#l00675">mastering_the_dungeon.agents.graph_world2.agents.Seq2SeqModelAgent.model</a>, <a class="el" href="torch__agent_8py_source.html#l00689">parlai.core.torch_agent.TorchAgent.model</a>, <a class="el" href="memnn_8py_source.html#l00068">parlai.agents.memnn.memnn.MemnnAgent.model_version()</a>, <a class="el" href="agents_2seq2seq_2seq2seq_8py_source.html#l00139">parlai.agents.seq2seq.seq2seq.Seq2seqAgent.model_version()</a>, <a class="el" href="seq2seq__v1_8py_source.html#l00186">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent.model_version()</a>, <a class="el" href="controllable__seq2seq_8py_source.html#l00261">controllable_seq2seq.controllable_seq2seq.ControllableSeq2seqAgent.model_version()</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00017">parlai.agents.legacy_agents.memnn.modules_v0.MemNN.opt</a>, <a class="el" href="parlai_2agents_2language__model_2modules_8py_source.html#l00018">parlai.agents.language_model.modules.RNNModel.opt</a>, <a class="el" href="rnn__reader_8py_source.html#l00019">parlai.agents.drqa.rnn_reader.RnnDocReader.opt</a>, <a class="el" href="model_8py_source.html#l00024">parlai.agents.drqa.model.DocReaderModel.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00033">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.opt</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00040">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.opt</a>, <a class="el" href="memnn__v0_8py_source.html#l00135">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.opt</a>, <a class="el" href="language__model_8py_source.html#l00169">parlai.agents.language_model.language_model.LanguageModelAgent.opt</a>, <a class="el" href="dict__v0_8py_source.html#l00196">parlai.agents.legacy_agents.seq2seq.dict_v0.DictionaryAgent.opt</a>, <a class="el" href="dict__v1_8py_source.html#l00206">parlai.agents.legacy_agents.seq2seq.dict_v1.DictionaryAgent.opt</a>, <a class="el" href="ir__baseline_8py_source.html#l00246">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.opt</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00295">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.opt</a>, <a class="el" href="fairseq_8py_source.html#l00338">parlai.agents.fairseq.fairseq.FairseqAgent.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00373">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.opt</a>, <a class="el" href="model_8py_source.html#l00042">parlai.agents.drqa.model.DocReaderModel.optimizer</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00067">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.optimizer</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00092">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.optimizer</a>, <a class="el" href="bert__classifier_8py_source.html#l00136">parlai.agents.bert_classifier.bert_classifier.BertClassifierAgent.optimizer</a>, <a class="el" href="language__model_8py_source.html#l00262">parlai.agents.language_model.language_model.LanguageModelAgent.optimizer</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00361">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.optimizer</a>, and <a class="el" href="seq2seq__v0_8py_source.html#l00528">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.optimizer</a>.</p>

<p class="reference">Referenced by <a class="el" href="controllable__seq2seq_8py_source.html#l00271">controllable_seq2seq.controllable_seq2seq.ControllableSeq2seqAgent.__init__()</a>, <a class="el" href="parlai_2tasks_2vqa__v1_2agents_8py_source.html#l00337">parlai.tasks.vqa_v1.agents.VqaDictionaryAgent.shutdown()</a>, and <a class="el" href="dict_8py_source.html#l00765">parlai.core.dict.DictionaryAgent.shutdown()</a>.</p>
<div id="dynsection-34" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-34-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-34-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-34-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a4a01defa1d669571f574fcfe021776a8_cgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a4a01defa1d669571f574fcfe021776a8_cgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a4a01defa1d669571f574fcfe021776a8_cgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a4a01defa1d669571f574fcfe021776a8_cgraph">
<area shape="rect" title=" " alt="" coords="5,103,191,159"/>
<area shape="rect" href="classparlai_1_1agents_1_1memnn_1_1memnn_1_1MemnnAgent.html#ae6e06364ccf919d70064d5966e5c1cf3" title=" " alt="" coords="303,5,498,47"/>
<area shape="rect" href="classparlai_1_1agents_1_1seq2seq_1_1seq2seq_1_1Seq2seqAgent.html#aba4b52b4f15795eeda202cb303525483" title=" " alt="" coords="297,71,504,112"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#a3838eb2d88b4e9f80c9c234e6742fa30" title=" " alt="" coords="313,136,488,207"/>
<area shape="rect" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a8995fe4b50a61a5b6c139d26dbb57ca2" title=" " alt="" coords="239,231,563,272"/>
</map>
</div>
<div id="dynsection-35" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-35-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-35-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-35-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a4a01defa1d669571f574fcfe021776a8_icgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a4a01defa1d669571f574fcfe021776a8_icgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a4a01defa1d669571f574fcfe021776a8_icgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a4a01defa1d669571f574fcfe021776a8_icgraph">
<area shape="rect" title=" " alt="" coords="561,63,747,119"/>
<area shape="rect" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a2cbe8ed3b2b6b82be90db6b45331800b" title=" " alt="" coords="228,5,513,47"/>
<area shape="rect" href="classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent.html#afcebdb70582204709f5e4365dde00bcb" title=" " alt="" coords="271,71,470,112"/>
<area shape="rect" href="classparlai_1_1core_1_1dict_1_1DictionaryAgent.html#aea9aca40dd1bb1976f4042565b172d88" title=" " alt="" coords="285,136,456,177"/>
<area shape="rect" href="classparlai_1_1core_1_1worlds_1_1World.html#ae2b8ea006564cbefbe8520f45fb71040" title=" " alt="" coords="9,71,176,112"/>
<area shape="rect" href="classparlai_1_1core_1_1worlds_1_1HogwildWorld.html#a1b7aed0a7b56712f22ee8b04c65d7c00" title=" " alt="" coords="5,136,180,177"/>
<area shape="rect" href="classparlai_1_1core_1_1worlds_1_1HogwildWorld.html#a0425099fbc33cb97d6fbe67dbd2e8a1f" title=" " alt="" coords="5,201,180,243"/>
</map>
</div>

</div>
</div>
<a id="a3d922c4a8452c9e44fa2478e6fecdfd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d922c4a8452c9e44fa2478e6fecdfd1">&#9670;&nbsp;</a></span>share()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.share </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Share fields from parent as well as useful objects in this class.

Subclasses will likely want to share their model as well.
</pre> 
<p>Reimplemented from <a class="el" href="classparlai_1_1core_1_1agents_1_1Agent.html#afbbb06bf0f46ff927c8b186726a68b47">parlai.core.agents.Agent</a>.</p>

<p>Reimplemented in <a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#afb99f50cbac1707480d1953163d91018">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent__v1_8py_source.html#l00491">491</a> of file <a class="el" href="torch__agent__v1_8py_source.html">torch_agent_v1.py</a>.</p>

<p class="reference">References <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00092">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.dict</a>, <a class="el" href="memnn__v0_8py_source.html#l00102">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.dict</a>, <a class="el" href="language__model_8py_source.html#l00171">parlai.agents.language_model.language_model.LanguageModelAgent.dict</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00198">parlai.agents.legacy_agents.memnn.modules_v0.Decoder.dict</a>, <a class="el" href="fairseq_8py_source.html#l00208">parlai.agents.fairseq.fairseq._ParlaiTask.dict</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00289">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.dict</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00375">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.dict</a>, <a class="el" href="fairseq_8py_source.html#l00396">parlai.agents.fairseq.fairseq.FairseqAgent.dict</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00017">parlai.agents.legacy_agents.memnn.modules_v0.MemNN.opt</a>, <a class="el" href="parlai_2agents_2language__model_2modules_8py_source.html#l00018">parlai.agents.language_model.modules.RNNModel.opt</a>, <a class="el" href="rnn__reader_8py_source.html#l00019">parlai.agents.drqa.rnn_reader.RnnDocReader.opt</a>, <a class="el" href="model_8py_source.html#l00024">parlai.agents.drqa.model.DocReaderModel.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00033">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.opt</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00040">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.opt</a>, <a class="el" href="memnn__v0_8py_source.html#l00135">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.opt</a>, <a class="el" href="language__model_8py_source.html#l00169">parlai.agents.language_model.language_model.LanguageModelAgent.opt</a>, <a class="el" href="dict__v0_8py_source.html#l00196">parlai.agents.legacy_agents.seq2seq.dict_v0.DictionaryAgent.opt</a>, <a class="el" href="dict__v1_8py_source.html#l00206">parlai.agents.legacy_agents.seq2seq.dict_v1.DictionaryAgent.opt</a>, <a class="el" href="ir__baseline_8py_source.html#l00246">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.opt</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00295">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.opt</a>, <a class="el" href="fairseq_8py_source.html#l00338">parlai.agents.fairseq.fairseq.FairseqAgent.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00373">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.opt</a>, and <a class="el" href="torch__agent__v1_8py_source.html#l00288">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.replies</a>.</p>

</div>
</div>
<a id="aff9cc5c105bbf154075aa83e288582ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff9cc5c105bbf154075aa83e288582ca">&#9670;&nbsp;</a></span>train_step()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.train_step </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>batch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Process one batch with training labels.</pre> 
<p>Reimplemented in <a class="el" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#a59a524e15577396e60a1e5f8b6bfe9a7">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent__v1_8py_source.html#l01023">1023</a> of file <a class="el" href="torch__agent__v1_8py_source.html">torch_agent_v1.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="projects_2image__chat_2transresnet__multimodal_2transresnet__multimodal_8py_source.html#l00243">transresnet_multimodal.transresnet_multimodal.TransresnetMultimodalAgent.batch_act()</a>, <a class="el" href="projects_2personality__captions_2transresnet_2transresnet_8py_source.html#l00288">transresnet.transresnet.TransresnetAgent.batch_act()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00988">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.batch_act()</a>, and <a class="el" href="torch__agent_8py_source.html#l01725">parlai.core.torch_agent.TorchAgent.batch_act()</a>.</p>
<div id="dynsection-36" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-36-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-36-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-36-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_aff9cc5c105bbf154075aa83e288582ca_icgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_aff9cc5c105bbf154075aa83e288582ca_icgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_aff9cc5c105bbf154075aa83e288582ca_icgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_aff9cc5c105bbf154075aa83e288582ca_icgraph">
<area shape="rect" title=" " alt="" coords="908,119,1123,175"/>
<area shape="rect" href="classtransresnet__multimodal_1_1transresnet__multimodal_1_1TransresnetMultimodalAgent.html#a057eb1109f5c2ea467539083e2f7e7f6" title=" " alt="" coords="537,93,860,135"/>
<area shape="rect" href="classtransresnet_1_1transresnet_1_1TransresnetAgent.html#a5eadf6ccc4b1d15a520a70d111bff493" title=" " alt="" coords="605,28,792,69"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#af3929c1bedc50a48dcf8d1184321f4f5" title=" " alt="" coords="591,225,806,281"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a7754a74d6c87590f46e71ec486c285a8" title=" " alt="" coords="619,159,778,200"/>
<area shape="rect" href="classtransresnet_1_1transresnet_1_1TransresnetAgent.html#ad59fea461b2ea1f9731742901203bdd7" title=" " alt="" coords="290,5,450,47"/>
<area shape="rect" href="classmastering__the__dungeon_1_1agents_1_1graph__world2_1_1agents_1_1ModelAgentBase.html#a768f25fa424b2cd4d1de8e62bfed970a" title=" " alt="" coords="251,71,489,112"/>
<area shape="rect" href="classagent_1_1memnn__feedback_1_1MemnnFeedbackAgent.html#ab221141e0a956be465e718bb349e7554" title=" " alt="" coords="266,136,474,177"/>
<area shape="rect" href="classkvmemnn_1_1KvmemnnAgent.html#a6f57723b871277392a3f3fd627c717d8" title=" " alt="" coords="271,202,469,229"/>
<area shape="rect" href="classparlai_1_1agents_1_1starspace_1_1starspace_1_1StarspaceAgent.html#aff87fb1b28e798a9ca28a0dc3fbb2f22" title=" " alt="" coords="259,384,481,425"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a3ab251071823f34358a569c1c2a11bf9" title=" " alt="" coords="283,450,457,506"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a51174dfa508970e3392246b02d0d94b5" title=" " alt="" coords="291,253,449,295"/>
<area shape="rect" href="classparlai_1_1core_1_1worlds_1_1BatchWorld.html#a297ab42faba47581774cd9333c874905" title=" " alt="" coords="289,319,451,360"/>
<area shape="rect" href="classparlai_1_1messenger_1_1core_1_1agents_1_1MessengerAgent.html#a50d76f90d1926c160d96e621403b7598" title=" " alt="" coords="5,421,203,463"/>
</map>
</div>

</div>
</div>
<a id="a866838e1c81063a3ec18c5609e029f90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a866838e1c81063a3ec18c5609e029f90">&#9670;&nbsp;</a></span>vectorize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.vectorize </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>add_start</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>add_end</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>truncate</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>split_lines</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Make vectors out of observation fields and store in the observation.

In particular, the 'text' and 'labels'/'eval_labels' fields are
processed and a new field is added to the observation with the suffix
'_vec'.

If you want to use additional fields on your subclass, you can override
this function, call super().vectorize(...) to process the text and
labels, and then process the other fields in your subclass.

:param obs:         Single observation from observe function.
:param add_start:   default True, adds the start token to each label.
:param add_end:     default True, adds the end token to each label.
:param truncate:    default None, if set truncates all vectors to the
            specified length. Note that this truncates to the
            rightmost for inputs and the leftmost for labels
            and, when applicable, candidates.
:param split_lines: If set, returns list of vectors instead of a single
            vector for input text, one for each substring after
            splitting on newlines.
</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent__v1_8py_source.html#l00636">636</a> of file <a class="el" href="torch__agent__v1_8py_source.html">torch_agent_v1.py</a>.</p>

<p class="reference">References <a class="el" href="torch__agent__v1_8py_source.html#l00617">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._set_label_cands_vec()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00586">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._set_label_vec()</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00129">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent._set_text_vec()</a>, <a class="el" href="bert__classifier_8py_source.html#l00140">parlai.agents.bert_classifier.bert_classifier.BertClassifierAgent._set_text_vec()</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00155">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent._set_text_vec()</a>, and <a class="el" href="torch__agent__v1_8py_source.html#l00558">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._set_text_vec()</a>.</p>

<p class="reference">Referenced by <a class="el" href="self__feeding__agent_8py_source.html#l00358">self_feeding.self_feeding_agent.SelfFeedingAgent.observe()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00925">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.observe()</a>, <a class="el" href="torch__agent_8py_source.html#l01595">parlai.core.torch_agent.TorchAgent.observe()</a>, and <a class="el" href="starspace_8py_source.html#l00465">parlai.agents.starspace.starspace.StarspaceAgent.vectorize()</a>.</p>
<div id="dynsection-37" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-37-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-37-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-37-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a866838e1c81063a3ec18c5609e029f90_cgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a866838e1c81063a3ec18c5609e029f90_cgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a866838e1c81063a3ec18c5609e029f90_cgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a866838e1c81063a3ec18c5609e029f90_cgraph">
<area shape="rect" title=" " alt="" coords="5,250,216,306"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#af7d66c2a4d9370532df8654048742a6c" title=" " alt="" coords="301,5,459,76"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a062901964b89a83cfce76560e23e627a" title=" " alt="" coords="301,100,459,171"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1cross__encoder__ranker_1_1CrossEncoderRankerAgent.html#a6ca6472fd7749ebf01c9a7f4216fcc6d" title=" " alt="" coords="264,289,496,360"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__classifier_1_1bert__classifier_1_1BertClassifierAgent.html#a48a3ad41d33733e9cff1042d22f8fa60" title=" " alt="" coords="295,384,465,455"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1bi__encoder__ranker_1_1BiEncoderRankerAgent.html#a35e3fabc73b2180662cbb0928d8848d1" title=" " alt="" coords="287,479,473,549"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a85106541b03e5c9dad245b002da7431c" title=" " alt="" coords="301,195,459,265"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a07964fbca57736f639fe4e9dd9d1459a" title=" " alt="" coords="544,53,701,124"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#ac698ff0226e4d22f8498a9d9e667a34c" title=" " alt="" coords="544,148,701,219"/>
</map>
</div>
<div id="dynsection-38" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-38-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-38-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-38-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a866838e1c81063a3ec18c5609e029f90_icgraph.png" border="0" usemap="#classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a866838e1c81063a3ec18c5609e029f90_icgraph" alt=""/></div>
<map name="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a866838e1c81063a3ec18c5609e029f90_icgraph" id="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent_a866838e1c81063a3ec18c5609e029f90_icgraph">
<area shape="rect" title=" " alt="" coords="796,97,1007,153"/>
<area shape="rect" href="classself__feeding_1_1self__feeding__agent_1_1SelfFeedingAgent.html#a7e76b6e8f11577a56a9c000cb360a44e" title=" " alt="" coords="259,86,477,127"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a0eb23a78aea413ae4f90ce0628179920" title=" " alt="" coords="267,5,469,61"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a87b18f0d6ab11be3c49375af072d0d33" title=" " alt="" coords="289,151,447,193"/>
<area shape="rect" href="classparlai_1_1agents_1_1starspace_1_1starspace_1_1StarspaceAgent.html#a87253cca09c8b22848ff0bea7195e32d" title=" " alt="" coords="525,146,748,187"/>
<area shape="rect" href="classparlai_1_1tasks_1_1talkthewalk_1_1worlds_1_1SimulateWorld.html#a6bd5a8a8e194dd4aa76aeecdf429bc7f" title=" " alt="" coords="5,31,211,73"/>
<area shape="rect" href="classparlai_1_1core_1_1worlds_1_1ExecutableWorld.html#a6555592d2b7c316e72febc1fccf43bdb" title=" " alt="" coords="11,115,205,157"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ae574bf3e21ff941060ae0f3dcb284d8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae574bf3e21ff941060ae0f3dcb284d8d">&#9670;&nbsp;</a></span>OPTIM_OPTS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dictionary parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.OPTIM_OPTS</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=  {</div>
<div class="line">        k.lower(): v</div>
<div class="line">        <span class="keywordflow">for</span> k, v <span class="keywordflow">in</span> optim.__dict__.items()</div>
<div class="line">        <span class="keywordflow">if</span> <span class="keywordflow">not</span> k.startswith(<span class="stringliteral">&#39;__&#39;</span>) <span class="keywordflow">and</span> k[0].isupper()</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="torch__agent__v1_8py_source.html#l00130">130</a> of file <a class="el" href="torch__agent__v1_8py_source.html">torch_agent_v1.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__agent__v1_8py_source.html#l00148">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.add_cmdline_args()</a>, and <a class="el" href="torch__agent__v1_8py_source.html#l00334">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.init_optim()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>ParlAI/parlai/agents/legacy_agents/seq2seq/<a class="el" href="torch__agent__v1_8py_source.html">torch_agent_v1.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
