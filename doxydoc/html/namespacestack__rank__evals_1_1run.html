<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ParlAI: stack_rank_evals.run Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ParlAI
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacestack__rank__evals.html">stack_rank_evals</a></li><li class="navelem"><a class="el" href="namespacestack__rank__evals_1_1run.html">run</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">stack_rank_evals.run Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5e968ebe737f4f8e703b5be5bec893bf"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacestack__rank__evals_1_1run.html#a5e968ebe737f4f8e703b5be5bec893bf">main</a> ()</td></tr>
<tr class="separator:a5e968ebe737f4f8e703b5be5bec893bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aa9e7faafd240a56b1961d5f2d8ecdf6d"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacestack__rank__evals_1_1run.html#aa9e7faafd240a56b1961d5f2d8ecdf6d">round_choices</a> = ['first_response', 'second_response']</td></tr>
<tr class="separator:aa9e7faafd240a56b1961d5f2d8ecdf6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a5e968ebe737f4f8e703b5be5bec893bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e968ebe737f4f8e703b5be5bec893bf">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def stack_rank_evals.run.main </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Human Evaluation of various responses to comments on images.

    A turker is shown an image and some dialog history. Then, the
    turker is asked to choose which response they think is more engaging.

    If no `--eval-data-path` is given, the data from the original
    Image-Chat dataset is used.

    To use your own data, please specify `--eval-data-path`, a path to an
    appropriate json file with a list of examples, where each example
    has the following structure:
        {
            'image_hash': &lt;hash of image&gt;,
            'dialog': [(personality, text), ...] - list of personality, text tuples
            'personality': &lt;personality of responses to compare&gt;
            '&lt;compare_key_1&gt;': &lt;first response to compare&gt;,
            '&lt;compare_key_2&gt;': &lt;second option to compare&gt;,
            .
            .
            .
        }
    Note that compare_key_1 and compare_key_2 can be any field, as long as they
    map to a string response.

    Example Scenario:
        Suppose you have the original Image-Chat dataset, and
        you would like to compare the outputs of your model called `model`.

        Your data may look like the following:
        [{
            'image_hash': hashforimageofcat,
            'dialog': [
                ('Sweet', 'What a cute cat!'),
                ('Neutral', 'Just looks like a plain cat to me')
            ]
            'personality': 'Sweet',
            'comment': 'It really is adorable if you look!', # Human Comment
            'model_comment': 'You'll love it if you pet it!' # Model Comment
        }, ...]

        Thus, you would specify `-ck1 comment -ck2 model_comment` to evaluate
        the outputs of the model vs. the human comments from Personality-Captions</pre><pre class="fragment">    Human Evaluation of various image captions/comments.

    A turker is shown an image and two possible comments/captions, and
    optionally the personality used to create these captions. Then, the
    turker is asked to choose which caption they think is more engaging.

    In this example, we will just be comparing the original comment twice
    (this is just to demonstrate the task for future use).

    To use your own data, please specify `--eval-data-path` to an
    appropriate json file with a list of examples, where each example
    has the following structure:
        {
            'image_hash': &lt;hash of image&gt;,
            'personality': &lt;personality, if applicable&gt;,
            '&lt;compare_key_1&gt;': &lt;first option to compare&gt;,
            '&lt;compare_key_2&gt;': &lt;second option to compare&gt;,
            .
            .
            .
        }
    Note that compare_key_1 and compare_key_2 can be any field, as long as they
    map to a string comment/caption.

    Example Scenario:
        Suppose you have the original Personality-Captions dataset, and
        you would like to compare the outputs of your model called `model`.

        Your data may look like the following:
        [{
            'image_hash': hashforimageofcat,
            'personality': 'Sweet',
            'comment': 'Look at the cute cat!', # Human Comment
            'model_comment': 'That's a weird looking dog' # Model Comment
        }, ...]

        Thus, you would specify `-ck1 comment -ck2 model_comment` to evaluate
        the outputs of the model vs. the human comments from Personality-Captions
</pre> 
<p class="definition">Definition at line <a class="el" href="parlai_2mturk_2tasks_2image__chat_2stack__rank__evals_2run_8py_source.html#l00021">21</a> of file <a class="el" href="parlai_2mturk_2tasks_2image__chat_2stack__rank__evals_2run_8py_source.html">run.py</a>.</p>

<p class="reference">References <a class="el" href="messenger_2core_2shared__utils_8py_source.html#l00030">parlai.messenger.core.shared_utils.format</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aa9e7faafd240a56b1961d5f2d8ecdf6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9e7faafd240a56b1961d5f2d8ecdf6d">&#9670;&nbsp;</a></span>round_choices</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list stack_rank_evals.run.round_choices = ['first_response', 'second_response']</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="parlai_2mturk_2tasks_2image__chat_2stack__rank__evals_2run_8py_source.html#l00018">18</a> of file <a class="el" href="parlai_2mturk_2tasks_2image__chat_2stack__rank__evals_2run_8py_source.html">run.py</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
