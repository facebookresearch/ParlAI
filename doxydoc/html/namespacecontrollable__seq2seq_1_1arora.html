<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ParlAI: controllable_seq2seq.arora Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ParlAI
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecontrollable__seq2seq.html">controllable_seq2seq</a></li><li class="navelem"><a class="el" href="namespacecontrollable__seq2seq_1_1arora.html">arora</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">controllable_seq2seq.arora Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollable__seq2seq_1_1arora_1_1SentenceEmbedder.html">SentenceEmbedder</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8bbb1ed9f1b86ebe8378d07931f3040d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecontrollable__seq2seq_1_1arora.html#a8bbb1ed9f1b86ebe8378d07931f3040d">remove_first_sv</a> (emb, first_sv)</td></tr>
<tr class="separator:a8bbb1ed9f1b86ebe8378d07931f3040d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa75b304fb4087b1a9134d05f4bb6b3a7"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecontrollable__seq2seq_1_1arora.html#aa75b304fb4087b1a9134d05f4bb6b3a7">get_word_counts</a> (<a class="el" href="namespacecontrollable__seq2seq_1_1arora.html#a79ced5bd43a82ae17d7e9513e9291781">opt</a>, count_inputs)</td></tr>
<tr class="separator:aa75b304fb4087b1a9134d05f4bb6b3a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02fe047a44dcee074e6157300bd61001"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecontrollable__seq2seq_1_1arora.html#a02fe047a44dcee074e6157300bd61001">learn_arora</a> (<a class="el" href="namespacecontrollable__seq2seq_1_1arora.html#a79ced5bd43a82ae17d7e9513e9291781">opt</a>)</td></tr>
<tr class="separator:a02fe047a44dcee074e6157300bd61001"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a576d45e4f9888847ff61af471423f47d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecontrollable__seq2seq_1_1arora.html#a576d45e4f9888847ff61af471423f47d">load_arora</a> (<a class="el" href="namespacecontrollable__seq2seq_1_1arora.html#a79ced5bd43a82ae17d7e9513e9291781">opt</a>)</td></tr>
<tr class="separator:a576d45e4f9888847ff61af471423f47d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a4ef18f50c7c948c2084d4284ed62eb0a"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecontrollable__seq2seq_1_1arora.html#a4ef18f50c7c948c2084d4284ed62eb0a">CONTROLLABLE_DIR</a> = 'controllable_dialogue'</td></tr>
<tr class="separator:a4ef18f50c7c948c2084d4284ed62eb0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0940ac1dead7a4c7c7ad297f73305bc6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecontrollable__seq2seq_1_1arora.html#a0940ac1dead7a4c7c7ad297f73305bc6">parser</a> = <a class="el" href="classparlai_1_1core_1_1params_1_1ParlaiParser.html">ParlaiParser</a>()</td></tr>
<tr class="separator:a0940ac1dead7a4c7c7ad297f73305bc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79ced5bd43a82ae17d7e9513e9291781"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecontrollable__seq2seq_1_1arora.html#a79ced5bd43a82ae17d7e9513e9291781">opt</a> = parser.parse_args()</td></tr>
<tr class="separator:a79ced5bd43a82ae17d7e9513e9291781"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="aa75b304fb4087b1a9134d05f4bb6b3a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa75b304fb4087b1a9134d05f4bb6b3a7">&#9670;&nbsp;</a></span>get_word_counts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def controllable_seq2seq.arora.get_word_counts </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>opt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>count_inputs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Goes through the dataset specified in opt, returns word counts and all utterances

Inputs:
  count_inputs: If True, include both input and reply when counting words and
    utterances. Otherwise, only include reply text.

Returns:
  word_counter: a Counter mapping each word to the total number of times it appears
  total_count: int. total word count, i.e. the sum of the counts for each word
  all_utts: list of strings. all the utterances that were used for counting words
</pre> 
<p class="definition">Definition at line <a class="el" href="arora_8py_source.html#l00241">241</a> of file <a class="el" href="arora_8py_source.html">arora.py</a>.</p>

<p class="reference">References <a class="el" href="parlai_2core_2worlds_8py_source.html#l01176">parlai.core.worlds.create_task()</a>.</p>

<p class="reference">Referenced by <a class="el" href="arora_8py_source.html#l00294">controllable_seq2seq.arora.learn_arora()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacecontrollable__seq2seq_1_1arora_aa75b304fb4087b1a9134d05f4bb6b3a7_cgraph.png" border="0" usemap="#namespacecontrollable__seq2seq_1_1arora_aa75b304fb4087b1a9134d05f4bb6b3a7_cgraph" alt=""/></div>
<map name="namespacecontrollable__seq2seq_1_1arora_aa75b304fb4087b1a9134d05f4bb6b3a7_cgraph" id="namespacecontrollable__seq2seq_1_1arora_aa75b304fb4087b1a9134d05f4bb6b3a7_cgraph">
<area shape="rect" id="node2" href="namespaceparlai_1_1core_1_1worlds.html#a11923c10b545c7ecc1b08fe2242d9c2c" title="parlai.core.worlds.create_task" alt="" coords="252,46,448,73"/>
<area shape="rect" id="node3" href="namespaceparlai_1_1tasks_1_1tasks.html#ad536d1295ca5ba2ecf3a48635b482087" title="parlai.tasks.tasks.ids\l_to_tasks" alt="" coords="505,5,651,47"/>
<area shape="rect" id="node4" href="namespaceparlai_1_1core_1_1worlds.html#a055ee493c9ed03ecff4832f52b408f8c" title="parlai.core.worlds.create\l_task_world" alt="" coords="496,71,660,112"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacecontrollable__seq2seq_1_1arora_aa75b304fb4087b1a9134d05f4bb6b3a7_icgraph.png" border="0" usemap="#namespacecontrollable__seq2seq_1_1arora_aa75b304fb4087b1a9134d05f4bb6b3a7_icgraph" alt=""/></div>
<map name="namespacecontrollable__seq2seq_1_1arora_aa75b304fb4087b1a9134d05f4bb6b3a7_icgraph" id="namespacecontrollable__seq2seq_1_1arora_aa75b304fb4087b1a9134d05f4bb6b3a7_icgraph">
<area shape="rect" id="node2" href="namespacecontrollable__seq2seq_1_1arora.html#a02fe047a44dcee074e6157300bd61001" title="controllable_seq2seq.arora.learn\l_arora" alt="" coords="252,5,461,47"/>
</map>
</div>

</div>
</div>
<a id="a02fe047a44dcee074e6157300bd61001"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02fe047a44dcee074e6157300bd61001">&#9670;&nbsp;</a></span>learn_arora()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def controllable_seq2seq.arora.learn_arora </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>opt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Go through ConvAI2 data and collect word counts, thus compute the unigram
probability distribution. Use those probs to compute weighted sentence embeddings
for all utterances, thus compute first principal component.

Save all info to arora.pkl file.
</pre> 
<p class="definition">Definition at line <a class="el" href="arora_8py_source.html#l00294">294</a> of file <a class="el" href="arora_8py_source.html">arora.py</a>.</p>

<p class="reference">References <a class="el" href="arora_8py_source.html#l00241">controllable_seq2seq.arora.get_word_counts()</a>, <a class="el" href="utils__v0_8py_source.html#l00728">parlai.agents.legacy_agents.seq2seq.utils_v0.modelzoo_path()</a>, and <a class="el" href="arora_8py_source.html#l00224">controllable_seq2seq.arora.remove_first_sv()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacecontrollable__seq2seq_1_1arora_a02fe047a44dcee074e6157300bd61001_cgraph.png" border="0" usemap="#namespacecontrollable__seq2seq_1_1arora_a02fe047a44dcee074e6157300bd61001_cgraph" alt=""/></div>
<map name="namespacecontrollable__seq2seq_1_1arora_a02fe047a44dcee074e6157300bd61001_cgraph" id="namespacecontrollable__seq2seq_1_1arora_a02fe047a44dcee074e6157300bd61001_cgraph">
<area shape="rect" id="node2" href="namespacecontrollable__seq2seq_1_1arora.html#aa75b304fb4087b1a9134d05f4bb6b3a7" title="controllable_seq2seq.arora.get\l_word_counts" alt="" coords="275,64,474,105"/>
<area shape="rect" id="node6" href="namespaceparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1utils__v0.html#a5fbd3301b67f00d6d146fb01c7cd7626" title="parlai.agents.legacy\l_agents.seq2seq.utils\l_v0.modelzoo_path" alt="" coords="300,130,449,186"/>
<area shape="rect" id="node9" href="namespacecontrollable__seq2seq_1_1arora.html#a8bbb1ed9f1b86ebe8378d07931f3040d" title="controllable_seq2seq.arora.remove\l_first_sv" alt="" coords="263,211,487,252"/>
<area shape="rect" id="node3" href="namespaceparlai_1_1core_1_1worlds.html#a11923c10b545c7ecc1b08fe2242d9c2c" title="parlai.core.worlds.create_task" alt="" coords="539,71,735,98"/>
<area shape="rect" id="node4" href="namespaceparlai_1_1tasks_1_1tasks.html#ad536d1295ca5ba2ecf3a48635b482087" title="parlai.tasks.tasks.ids\l_to_tasks" alt="" coords="804,5,951,47"/>
<area shape="rect" id="node5" href="namespaceparlai_1_1core_1_1worlds.html#a055ee493c9ed03ecff4832f52b408f8c" title="parlai.core.worlds.create\l_task_world" alt="" coords="795,71,959,112"/>
<area shape="rect" id="node7" href="namespaceparlai_1_1core_1_1build__data.html#ab74f0e428f05e5d91fa93c8afb367622" title="parlai.core.build_data.download" alt="" coords="535,145,739,171"/>
<area shape="rect" id="node8" href="namespaceparlai_1_1core_1_1build__data.html#a1678b8a042eeb9d9c8e9de08f52e496b" title="parlai.core.build_data.move" alt="" coords="787,145,968,171"/>
</map>
</div>

</div>
</div>
<a id="a576d45e4f9888847ff61af471423f47d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a576d45e4f9888847ff61af471423f47d">&#9670;&nbsp;</a></span>load_arora()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def controllable_seq2seq.arora.load_arora </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>opt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Load the data in the arora.pkl file in data/controllable_dialogue.
</pre> 
<p class="definition">Definition at line <a class="el" href="arora_8py_source.html#l00400">400</a> of file <a class="el" href="arora_8py_source.html">arora.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="controls_8py_source.html#l00079">controllable_seq2seq.controls.initialize_control_information()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacecontrollable__seq2seq_1_1arora_a576d45e4f9888847ff61af471423f47d_icgraph.png" border="0" usemap="#namespacecontrollable__seq2seq_1_1arora_a576d45e4f9888847ff61af471423f47d_icgraph" alt=""/></div>
<map name="namespacecontrollable__seq2seq_1_1arora_a576d45e4f9888847ff61af471423f47d_icgraph" id="namespacecontrollable__seq2seq_1_1arora_a576d45e4f9888847ff61af471423f47d_icgraph">
<area shape="rect" id="node2" href="namespacecontrollable__seq2seq_1_1controls.html#a7c6540f026d763dbf534f1a3e60500a3" title="controllable_seq2seq.controls.initialize\l_control_information" alt="" coords="259,71,504,112"/>
<area shape="rect" id="node3" href="namespaceeval__wordstat.html#aeb6ae646e7e2bede292baff78ca1bd83" title="eval_wordstat.eval\l_wordstat" alt="" coords="629,5,760,47"/>
<area shape="rect" id="node4" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a2cbe8ed3b2b6b82be90db6b45331800b" title="controllable_seq2seq.controllable\l_seq2seq.ControllableSeq2seqAgent.__init__" alt="" coords="552,71,837,112"/>
<area shape="rect" id="node5" href="namespacemake__control__dataset.html#ab015bf05433a8280052368fd2b16ec1b" title="make_control_dataset.make\l_dataset" alt="" coords="601,136,788,177"/>
</map>
</div>

</div>
</div>
<a id="a8bbb1ed9f1b86ebe8378d07931f3040d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bbb1ed9f1b86ebe8378d07931f3040d">&#9670;&nbsp;</a></span>remove_first_sv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def controllable_seq2seq.arora.remove_first_sv </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>emb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>first_sv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Projects out the first singular value (first_sv) from the embedding (emb).

Inputs:
  emb: torch Tensor shape (glove_dim)
  first_sv: torch Tensor shape (glove_dim)

Returns:
  new emb: torch Tensor shape (glove_dim)
</pre> 
<p class="definition">Definition at line <a class="el" href="arora_8py_source.html#l00224">224</a> of file <a class="el" href="arora_8py_source.html">arora.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="arora_8py_source.html#l00165">controllable_seq2seq.arora.SentenceEmbedder.embed_sent()</a>, and <a class="el" href="arora_8py_source.html#l00294">controllable_seq2seq.arora.learn_arora()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacecontrollable__seq2seq_1_1arora_a8bbb1ed9f1b86ebe8378d07931f3040d_icgraph.png" border="0" usemap="#namespacecontrollable__seq2seq_1_1arora_a8bbb1ed9f1b86ebe8378d07931f3040d_icgraph" alt=""/></div>
<map name="namespacecontrollable__seq2seq_1_1arora_a8bbb1ed9f1b86ebe8378d07931f3040d_icgraph" id="namespacecontrollable__seq2seq_1_1arora_a8bbb1ed9f1b86ebe8378d07931f3040d_icgraph">
<area shape="rect" id="node2" href="classcontrollable__seq2seq_1_1arora_1_1SentenceEmbedder.html#a1a24583e505d601696f51d5e5a0a3182" title="controllable_seq2seq.arora.\lSentenceEmbedder.embed_sent" alt="" coords="277,5,488,47"/>
<area shape="rect" id="node3" href="namespacecontrollable__seq2seq_1_1arora.html#a02fe047a44dcee074e6157300bd61001" title="controllable_seq2seq.arora.learn\l_arora" alt="" coords="278,71,487,112"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a4ef18f50c7c948c2084d4284ed62eb0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ef18f50c7c948c2084d4284ed62eb0a">&#9670;&nbsp;</a></span>CONTROLLABLE_DIR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string controllable_seq2seq.arora.CONTROLLABLE_DIR = 'controllable_dialogue'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="arora_8py_source.html#l00024">24</a> of file <a class="el" href="arora_8py_source.html">arora.py</a>.</p>

</div>
</div>
<a id="a79ced5bd43a82ae17d7e9513e9291781"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79ced5bd43a82ae17d7e9513e9291781">&#9670;&nbsp;</a></span>opt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">controllable_seq2seq.arora.opt = parser.parse_args()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="arora_8py_source.html#l00414">414</a> of file <a class="el" href="arora_8py_source.html">arora.py</a>.</p>

</div>
</div>
<a id="a0940ac1dead7a4c7c7ad297f73305bc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0940ac1dead7a4c7c7ad297f73305bc6">&#9670;&nbsp;</a></span>parser</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">controllable_seq2seq.arora.parser = <a class="el" href="classparlai_1_1core_1_1params_1_1ParlaiParser.html">ParlaiParser</a>()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="arora_8py_source.html#l00413">413</a> of file <a class="el" href="arora_8py_source.html">arora.py</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
