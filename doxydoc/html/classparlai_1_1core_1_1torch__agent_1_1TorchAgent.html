<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ParlAI: parlai.core.torch_agent.TorchAgent Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ParlAI
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>parlai</b></li><li class="navelem"><b>core</b></li><li class="navelem"><b>torch_agent</b></li><li class="navelem"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html">TorchAgent</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">parlai.core.torch_agent.TorchAgent Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for parlai.core.torch_agent.TorchAgent:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent__inherit__graph.png" border="0" usemap="#parlai_8core_8torch__agent_8TorchAgent_inherit__map" alt="Inheritance graph"/></div>
<map name="parlai_8core_8torch__agent_8TorchAgent_inherit__map" id="parlai_8core_8torch__agent_8TorchAgent_inherit__map">
<area shape="rect" title=" " alt="" coords="321,349,480,391"/>
<area shape="rect" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html" title=" " alt="" coords="531,5,767,47"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1bert__ranker_1_1BertRankerAgent.html" title=" " alt="" coords="547,71,751,127"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html" title=" " alt="" coords="539,151,759,207"/>
<area shape="rect" href="classparlai_1_1agents_1_1example__seq2seq_1_1example__seq2seq_1_1ExampleSeq2seqAgent.html" title=" " alt="" coords="528,231,771,287"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html" title=" " alt="" coords="556,312,743,353"/>
<area shape="rect" href="classparlai_1_1agents_1_1test__agents_1_1dummy__torch__agent_1_1MockTorchAgent.html" title=" " alt="" coords="567,378,731,434"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__classifier__agent_1_1TorchClassifierAgent.html" title=" " alt="" coords="556,459,743,500"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__generator__agent_1_1TorchGeneratorAgent.html" title=" " alt="" coords="555,524,744,565"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html" title=" " alt="" coords="562,780,737,821"/>
<area shape="rect" href="classparrot_1_1ParrotAgent.html" title=" " alt="" coords="585,846,713,873"/>
<area shape="rect" title=" " alt="" coords="167,331,217,358"/>
<area shape="rect" href="classparlai_1_1core_1_1agents_1_1Agent.html" title=" " alt="" coords="111,382,273,409"/>
<area shape="rect" title=" " alt="" coords="5,382,63,409"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__classifier_1_1bert__classifier_1_1BertClassifierAgent.html" title=" " alt="" coords="859,298,1030,354"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer__classifier_1_1transformer__classifier_1_1TransformerClassifierAgent.html" title=" " alt="" coords="823,378,1067,434"/>
<area shape="rect" href="classparlai_1_1agents_1_1seq2seq_1_1seq2seq_1_1Seq2seqAgent.html" title=" " alt="" coords="841,459,1048,500"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1transformer_1_1TransformerGeneratorAgent.html" title=" " alt="" coords="825,524,1065,565"/>
<area shape="rect" href="classtests_1_1test__ta__inheritence_1_1SubClassA.html" title=" " alt="" coords="860,589,1029,631"/>
<area shape="rect" href="classgenerator_1_1agents_1_1__GenericWizardAgent.html" title=" " alt="" coords="1159,524,1334,565"/>
<area shape="rect" href="classgenerator_1_1agents_1_1EndToEndAgent.html" title=" " alt="" coords="1423,492,1607,533"/>
<area shape="rect" href="classgenerator_1_1agents_1_1TwoStageAgent.html" title=" " alt="" coords="1423,557,1606,599"/>
<area shape="rect" href="classtests_1_1test__ta__inheritence_1_1SubClassB.html" title=" " alt="" coords="1162,589,1331,631"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1bi__encoder__ranker_1_1BiEncoderRankerAgent.html" title=" " alt="" coords="855,655,1034,711"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1cross__encoder__ranker_1_1CrossEncoderRankerAgent.html" title=" " alt="" coords="831,735,1059,791"/>
<area shape="rect" href="classparlai_1_1agents_1_1memnn_1_1memnn_1_1MemnnAgent.html" title=" " alt="" coords="847,816,1042,857"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1crossencoder_1_1CrossencoderAgent.html" title=" " alt="" coords="819,881,1071,923"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1polyencoder_1_1PolyencoderAgent.html" title=" " alt="" coords="823,947,1067,988"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1transformer_1_1TransformerRankerAgent.html" title=" " alt="" coords="825,1012,1065,1053"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1biencoder_1_1BiencoderAgent.html" title=" " alt="" coords="1131,947,1362,988"/>
<area shape="rect" href="classself__feeding_1_1self__feeding__agent_1_1SelfFeedingAgent.html" title=" " alt="" coords="1163,1012,1331,1053"/>
<area shape="rect" href="classwizard__transformer__ranker_1_1wizard__transformer__ranker_1_1WizardTransformerRankerAgent.html" title=" " alt="" coords="1119,1078,1375,1134"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for parlai.core.torch_agent.TorchAgent:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent__coll__graph.png" border="0" usemap="#parlai_8core_8torch__agent_8TorchAgent_coll__map" alt="Collaboration graph"/></div>
<map name="parlai_8core_8torch__agent_8TorchAgent_coll__map" id="parlai_8core_8torch__agent_8TorchAgent_coll__map">
<area shape="rect" title=" " alt="" coords="82,185,241,227"/>
<area shape="rect" title=" " alt="" coords="5,81,56,108"/>
<area shape="rect" href="classparlai_1_1core_1_1agents_1_1Agent.html" title=" " alt="" coords="80,81,243,108"/>
<area shape="rect" title=" " alt="" coords="133,5,190,32"/>
<area shape="rect" title=" " alt="" coords="267,81,322,108"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9c622b8ed5a811841f30fe98cc297cde"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a9c622b8ed5a811841f30fe98cc297cde">optim_opts</a> (self)</td></tr>
<tr class="separator:a9c622b8ed5a811841f30fe98cc297cde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bd9118252c602bb9d5a596ecae16717"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a0bd9118252c602bb9d5a596ecae16717">history_class</a> (cls)</td></tr>
<tr class="separator:a0bd9118252c602bb9d5a596ecae16717"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a72bdd07d2cb5ce402d0058140cad0d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a4a72bdd07d2cb5ce402d0058140cad0d">add_cmdline_args</a> (cls, argparser)</td></tr>
<tr class="separator:a4a72bdd07d2cb5ce402d0058140cad0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0a00ada1fcd5b7ceec27b1a6cbdc281"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#ad0a00ada1fcd5b7ceec27b1a6cbdc281">__init__</a> (self, opt, shared=None)</td></tr>
<tr class="separator:ad0a00ada1fcd5b7ceec27b1a6cbdc281"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab22f61f153b522f429210c61eed2d5af"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#ab22f61f153b522f429210c61eed2d5af">build_history</a> (self)</td></tr>
<tr class="separator:ab22f61f153b522f429210c61eed2d5af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a233316f9ec2805dd6a08fbf07f3a078a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a233316f9ec2805dd6a08fbf07f3a078a">build_dictionary</a> (self)</td></tr>
<tr class="separator:a233316f9ec2805dd6a08fbf07f3a078a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a21fa33fa5b2b928024fbc67826f233"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a9a21fa33fa5b2b928024fbc67826f233">build_model</a> (self)</td></tr>
<tr class="separator:a9a21fa33fa5b2b928024fbc67826f233"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3784f1ddaa6ffad009716910f3f36dd4"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a3784f1ddaa6ffad009716910f3f36dd4">init_optim</a> (self, params, optim_states=None, saved_optim_type=None)</td></tr>
<tr class="separator:a3784f1ddaa6ffad009716910f3f36dd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa51ac42dc34e3d2281a01cba78a96151"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#aa51ac42dc34e3d2281a01cba78a96151">build_lr_scheduler</a> (self, states=None, hard_reset=False)</td></tr>
<tr class="separator:aa51ac42dc34e3d2281a01cba78a96151"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac694770cd4022eb047bf6fbb8f46035c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#ac694770cd4022eb047bf6fbb8f46035c">report</a> (self)</td></tr>
<tr class="separator:ac694770cd4022eb047bf6fbb8f46035c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02beaaedfa30463f9d0a97ea590b516f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a02beaaedfa30463f9d0a97ea590b516f">receive_metrics</a> (self, metrics_dict)</td></tr>
<tr class="separator:a02beaaedfa30463f9d0a97ea590b516f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a373f0e276bf7c9d914a4e3363e9c2712"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a373f0e276bf7c9d914a4e3363e9c2712">share</a> (self)</td></tr>
<tr class="separator:a373f0e276bf7c9d914a4e3363e9c2712"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48bb9b153353a0565ab7253dc1daef99"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a48bb9b153353a0565ab7253dc1daef99">vectorize</a> (self, obs, history, add_start=True, add_end=True, text_truncate=None, label_truncate=None)</td></tr>
<tr class="separator:a48bb9b153353a0565ab7253dc1daef99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa491bf2384b017711ad722b5341b405"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#afa491bf2384b017711ad722b5341b405">is_valid</a> (self, obs)</td></tr>
<tr class="separator:afa491bf2384b017711ad722b5341b405"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c5824776df0c6cf995984a5e7a3f433"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a4c5824776df0c6cf995984a5e7a3f433">batchify</a> (self, obs_batch, sort=False)</td></tr>
<tr class="separator:a4c5824776df0c6cf995984a5e7a3f433"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba56b961d929e5c5b5da9cf8bd331502"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#aba56b961d929e5c5b5da9cf8bd331502">match_batch</a> (self, batch_reply, valid_inds, output=None)</td></tr>
<tr class="separator:aba56b961d929e5c5b5da9cf8bd331502"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32921aa09a682ee752d4822a5f5ebbb4"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a32921aa09a682ee752d4822a5f5ebbb4">last_reply</a> (self, use_reply='label')</td></tr>
<tr class="separator:a32921aa09a682ee752d4822a5f5ebbb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87b18f0d6ab11be3c49375af072d0d33"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a87b18f0d6ab11be3c49375af072d0d33">observe</a> (self, observation)</td></tr>
<tr class="separator:a87b18f0d6ab11be3c49375af072d0d33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f89e606931a4622a5c6a6f6b832235c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a9f89e606931a4622a5c6a6f6b832235c">state_dict</a> (self)</td></tr>
<tr class="separator:a9f89e606931a4622a5c6a6f6b832235c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adac7ee3db855786e8414e9f35fcb6e46"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#adac7ee3db855786e8414e9f35fcb6e46">save</a> (self, path=None)</td></tr>
<tr class="separator:adac7ee3db855786e8414e9f35fcb6e46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dcfca62a677f8de97f09ce993258f84"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a5dcfca62a677f8de97f09ce993258f84">load_state_dict</a> (self, <a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a9f89e606931a4622a5c6a6f6b832235c">state_dict</a>)</td></tr>
<tr class="separator:a5dcfca62a677f8de97f09ce993258f84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af626fc7d32fc9b0dfeec167a52353baf"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#af626fc7d32fc9b0dfeec167a52353baf">load</a> (self, path)</td></tr>
<tr class="separator:af626fc7d32fc9b0dfeec167a52353baf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f568650dd8e245a274671680ebb7587"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a6f568650dd8e245a274671680ebb7587">reset</a> (self)</td></tr>
<tr class="separator:a6f568650dd8e245a274671680ebb7587"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03e18955cfd44dd019d0847bc7a46893"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a03e18955cfd44dd019d0847bc7a46893">reset_metrics</a> (self)</td></tr>
<tr class="separator:a03e18955cfd44dd019d0847bc7a46893"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51174dfa508970e3392246b02d0d94b5"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a51174dfa508970e3392246b02d0d94b5">act</a> (self)</td></tr>
<tr class="separator:a51174dfa508970e3392246b02d0d94b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7754a74d6c87590f46e71ec486c285a8"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a7754a74d6c87590f46e71ec486c285a8">batch_act</a> (self, observations)</td></tr>
<tr class="separator:a7754a74d6c87590f46e71ec486c285a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ba9d535736c0af100d00c5e7b02b61b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a8ba9d535736c0af100d00c5e7b02b61b">train_step</a> (self, batch)</td></tr>
<tr class="separator:a8ba9d535736c0af100d00c5e7b02b61b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18de0a52aeec4ef721aedbdd6ac06cad"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a18de0a52aeec4ef721aedbdd6ac06cad">eval_step</a> (self, batch)</td></tr>
<tr class="separator:a18de0a52aeec4ef721aedbdd6ac06cad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a7aff29231816a0f3cade9c72409dfc"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a6a7aff29231816a0f3cade9c72409dfc">set_interactive_mode</a> (self, mode, shared)</td></tr>
<tr class="separator:a6a7aff29231816a0f3cade9c72409dfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8df662b1258ec67752b4fc0ad45733f9"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a8df662b1258ec67752b4fc0ad45733f9">backward</a> (self, loss)</td></tr>
<tr class="separator:a8df662b1258ec67752b4fc0ad45733f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e2c9e180887397daa6229a0f9700b1c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a7e2c9e180887397daa6229a0f9700b1c">update_params</a> (self)</td></tr>
<tr class="separator:a7e2c9e180887397daa6229a0f9700b1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91c163f3e2d39b380095b7083f673b6e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a91c163f3e2d39b380095b7083f673b6e">zero_grad</a> (self)</td></tr>
<tr class="separator:a91c163f3e2d39b380095b7083f673b6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classparlai_1_1core_1_1agents_1_1Agent')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classparlai_1_1core_1_1agents_1_1Agent.html">parlai.core.agents.Agent</a></td></tr>
<tr class="memitem:a29e1cdd729ac4236f8bae90b2e66fa04 inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1agents_1_1Agent.html#a29e1cdd729ac4236f8bae90b2e66fa04">getID</a> (self)</td></tr>
<tr class="separator:a29e1cdd729ac4236f8bae90b2e66fa04 inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40157e237ea85d75ebc3fd248c7a1a1b inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1agents_1_1Agent.html#a40157e237ea85d75ebc3fd248c7a1a1b">epoch_done</a> (self)</td></tr>
<tr class="separator:a40157e237ea85d75ebc3fd248c7a1a1b inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a801e5ca2a5e8e96a72f0c04549008e8f inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1agents_1_1Agent.html#a801e5ca2a5e8e96a72f0c04549008e8f">shutdown</a> (self)</td></tr>
<tr class="separator:a801e5ca2a5e8e96a72f0c04549008e8f inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a005f62f977e8a7ebf91b9646307153bc inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1agents_1_1Agent.html#a005f62f977e8a7ebf91b9646307153bc">upgrade_opt</a> (cls, opt_from_disk)</td></tr>
<tr class="separator:a005f62f977e8a7ebf91b9646307153bc inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aea8849fa69a3f5dbd3216c8b06f180ea"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#aea8849fa69a3f5dbd3216c8b06f180ea">dictionary_class</a> ()</td></tr>
<tr class="separator:aea8849fa69a3f5dbd3216c8b06f180ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a10b8d2605e619d5d3dc9f67777cb190a"><td class="memItemLeft" align="right" valign="top"><a id="a10b8d2605e619d5d3dc9f67777cb190a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>use_cuda</b></td></tr>
<tr class="separator:a10b8d2605e619d5d3dc9f67777cb190a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6f916e01d876679b529a893ad4f52f6"><td class="memItemLeft" align="right" valign="top"><a id="aa6f916e01d876679b529a893ad4f52f6"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>fp16</b></td></tr>
<tr class="separator:aa6f916e01d876679b529a893ad4f52f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dd17721e788aafd51cd5af7bf7fc967"><td class="memItemLeft" align="right" valign="top"><a id="a5dd17721e788aafd51cd5af7bf7fc967"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>replies</b></td></tr>
<tr class="separator:a5dd17721e788aafd51cd5af7bf7fc967"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abebf29c0bb956bbc5ccc02777d2af3dd"><td class="memItemLeft" align="right" valign="top"><a id="abebf29c0bb956bbc5ccc02777d2af3dd"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>dict</b></td></tr>
<tr class="separator:abebf29c0bb956bbc5ccc02777d2af3dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a392ed66573001dfa2846d5042e8fc5a5"><td class="memItemLeft" align="right" valign="top"><a id="a392ed66573001dfa2846d5042e8fc5a5"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>metrics</b></td></tr>
<tr class="separator:a392ed66573001dfa2846d5042e8fc5a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a785bb920cf8c8afc3e9bf6a8b77e335a"><td class="memItemLeft" align="right" valign="top"><a id="a785bb920cf8c8afc3e9bf6a8b77e335a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>opt</b></td></tr>
<tr class="separator:a785bb920cf8c8afc3e9bf6a8b77e335a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe40410d2e3b2565ecd27441266011fc"><td class="memItemLeft" align="right" valign="top"><a id="afe40410d2e3b2565ecd27441266011fc"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>model</b></td></tr>
<tr class="separator:afe40410d2e3b2565ecd27441266011fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13d46ae8aed6052679b62c3961a4de62"><td class="memItemLeft" align="right" valign="top"><a id="a13d46ae8aed6052679b62c3961a4de62"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>criterion</b></td></tr>
<tr class="separator:a13d46ae8aed6052679b62c3961a4de62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ac66a09c1c164ea08f4b257c61c38a0"><td class="memItemLeft" align="right" valign="top"><a id="a4ac66a09c1c164ea08f4b257c61c38a0"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>id</b></td></tr>
<tr class="separator:a4ac66a09c1c164ea08f4b257c61c38a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a80083f0e34d8abc15b50123efec884"><td class="memItemLeft" align="right" valign="top"><a id="a3a80083f0e34d8abc15b50123efec884"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>EMPTY</b></td></tr>
<tr class="separator:a3a80083f0e34d8abc15b50123efec884"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95cedd561757c9fc10dbf3a956e7f912"><td class="memItemLeft" align="right" valign="top"><a id="a95cedd561757c9fc10dbf3a956e7f912"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>NULL_IDX</b></td></tr>
<tr class="separator:a95cedd561757c9fc10dbf3a956e7f912"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2018afae9938937f80b61475314012cd"><td class="memItemLeft" align="right" valign="top"><a id="a2018afae9938937f80b61475314012cd"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>START_IDX</b></td></tr>
<tr class="separator:a2018afae9938937f80b61475314012cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31bb7c8bf380660ee4e3822756563599"><td class="memItemLeft" align="right" valign="top"><a id="a31bb7c8bf380660ee4e3822756563599"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>END_IDX</b></td></tr>
<tr class="separator:a31bb7c8bf380660ee4e3822756563599"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ca476189900643fab04d1ac0ebfc719"><td class="memItemLeft" align="right" valign="top"><a id="a1ca476189900643fab04d1ac0ebfc719"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>random</b></td></tr>
<tr class="separator:a1ca476189900643fab04d1ac0ebfc719"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae67e7dc97dff3c46522712945ca23f50"><td class="memItemLeft" align="right" valign="top"><a id="ae67e7dc97dff3c46522712945ca23f50"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>batch_idx</b></td></tr>
<tr class="separator:ae67e7dc97dff3c46522712945ca23f50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15cbb1f743c1d341d914ade47e49071b"><td class="memItemLeft" align="right" valign="top"><a id="a15cbb1f743c1d341d914ade47e49071b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>histsz</b></td></tr>
<tr class="separator:a15cbb1f743c1d341d914ade47e49071b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ae27e9fe68d255a960bcb5180f48a65"><td class="memItemLeft" align="right" valign="top"><a id="a3ae27e9fe68d255a960bcb5180f48a65"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>truncate</b></td></tr>
<tr class="separator:a3ae27e9fe68d255a960bcb5180f48a65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3a69ecb5f20ce4f8a09c05c5f6f4376"><td class="memItemLeft" align="right" valign="top"><a id="ae3a69ecb5f20ce4f8a09c05c5f6f4376"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>text_truncate</b></td></tr>
<tr class="separator:ae3a69ecb5f20ce4f8a09c05c5f6f4376"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbdd7cf2deb2c43d982c57852b83e685"><td class="memItemLeft" align="right" valign="top"><a id="adbdd7cf2deb2c43d982c57852b83e685"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>label_truncate</b></td></tr>
<tr class="separator:adbdd7cf2deb2c43d982c57852b83e685"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0484b0246f0a930adc575899cdef033c"><td class="memItemLeft" align="right" valign="top"><a id="a0484b0246f0a930adc575899cdef033c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>history</b></td></tr>
<tr class="separator:a0484b0246f0a930adc575899cdef033c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0bd6456c94dfd9afae73b86f05016cf"><td class="memItemLeft" align="right" valign="top"><a id="ab0bd6456c94dfd9afae73b86f05016cf"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>is_training</b></td></tr>
<tr class="separator:ab0bd6456c94dfd9afae73b86f05016cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6355b9b0c0ccb24ffe1b5e3d89903cc3"><td class="memItemLeft" align="right" valign="top"><a id="a6355b9b0c0ccb24ffe1b5e3d89903cc3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>rank_candidates</b></td></tr>
<tr class="separator:a6355b9b0c0ccb24ffe1b5e3d89903cc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63011fa9bd927de8acc9ffa676caa73a"><td class="memItemLeft" align="right" valign="top"><a id="a63011fa9bd927de8acc9ffa676caa73a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>add_person_tokens</b></td></tr>
<tr class="separator:a63011fa9bd927de8acc9ffa676caa73a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9533344de40049bf13209739bc92199d"><td class="memItemLeft" align="right" valign="top"><a id="a9533344de40049bf13209739bc92199d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>optimizer</b></td></tr>
<tr class="separator:a9533344de40049bf13209739bc92199d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54d8632c546ab621c93c34f13c964726"><td class="memItemLeft" align="right" valign="top"><a id="a54d8632c546ab621c93c34f13c964726"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>warmup_scheduler</b></td></tr>
<tr class="separator:a54d8632c546ab621c93c34f13c964726"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0affe6b199275c182a27c9aa07393347"><td class="memItemLeft" align="right" valign="top"><a id="a0affe6b199275c182a27c9aa07393347"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>scheduler</b></td></tr>
<tr class="separator:a0affe6b199275c182a27c9aa07393347"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a805a9e47552d54d56f5b232ab4d5121f"><td class="memItemLeft" align="right" valign="top"><a id="a805a9e47552d54d56f5b232ab4d5121f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>proj_rp</b></td></tr>
<tr class="separator:a805a9e47552d54d56f5b232ab4d5121f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bc525b20568822a042b3bbfa3da3a69"><td class="memItemLeft" align="right" valign="top"><a id="a4bc525b20568822a042b3bbfa3da3a69"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>observation</b></td></tr>
<tr class="separator:a4bc525b20568822a042b3bbfa3da3a69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_classparlai_1_1core_1_1agents_1_1Agent"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classparlai_1_1core_1_1agents_1_1Agent')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="classparlai_1_1core_1_1agents_1_1Agent.html">parlai.core.agents.Agent</a></td></tr>
<tr class="memitem:ac00c13f4c7dd1263bf9203fa96dd2366 inherit pub_attribs_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top"><a id="ac00c13f4c7dd1263bf9203fa96dd2366"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>id</b></td></tr>
<tr class="separator:ac00c13f4c7dd1263bf9203fa96dd2366 inherit pub_attribs_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3b45d2754244608c75d4068b90cd051 inherit pub_attribs_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top"><a id="ab3b45d2754244608c75d4068b90cd051"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>opt</b></td></tr>
<tr class="separator:ab3b45d2754244608c75d4068b90cd051 inherit pub_attribs_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedbecc4b4aa7af7413882a0429e0f1db inherit pub_attribs_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top"><a id="aedbecc4b4aa7af7413882a0429e0f1db"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>observation</b></td></tr>
<tr class="separator:aedbecc4b4aa7af7413882a0429e0f1db inherit pub_attribs_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:ac946030b54cc854162e8bc6b7aad7272"><td class="memItemLeft" align="right" valign="top"><a id="ac946030b54cc854162e8bc6b7aad7272"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>P1_TOKEN</b> = '__p1__'</td></tr>
<tr class="separator:ac946030b54cc854162e8bc6b7aad7272"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6e16e0532e71b06328e078cb3c9324c"><td class="memItemLeft" align="right" valign="top"><a id="af6e16e0532e71b06328e078cb3c9324c"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>P2_TOKEN</b> = '__p2__'</td></tr>
<tr class="separator:af6e16e0532e71b06328e078cb3c9324c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a81020ea27044882e6a790aabb8e3e6a0"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a81020ea27044882e6a790aabb8e3e6a0">_get_init_model</a> (self, opt, shared)</td></tr>
<tr class="separator:a81020ea27044882e6a790aabb8e3e6a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a151777a7e8d052ab4ce873d20a2b0c73"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a151777a7e8d052ab4ce873d20a2b0c73">_gpu_usage</a> (self)</td></tr>
<tr class="separator:a151777a7e8d052ab4ce873d20a2b0c73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ce58a7b3ce88ac87cc1b7f7316ae9c4"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a5ce58a7b3ce88ac87cc1b7f7316ae9c4">_is_lr_warming_up</a> (self)</td></tr>
<tr class="separator:a5ce58a7b3ce88ac87cc1b7f7316ae9c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0d7297eabf5d8d99548e95267ec1d1a"><td class="memItemLeft" align="right" valign="top"><a id="ab0d7297eabf5d8d99548e95267ec1d1a"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>_get_embtype</b> (self, emb_type)</td></tr>
<tr class="separator:ab0d7297eabf5d8d99548e95267ec1d1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e74bd0ca90d3fcbd1bee483d10170b1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a9e74bd0ca90d3fcbd1bee483d10170b1">_project_vec</a> (self, vec, target_dim, method='random')</td></tr>
<tr class="separator:a9e74bd0ca90d3fcbd1bee483d10170b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bfcd11debf76eff078d90c4b0f37a47"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a3bfcd11debf76eff078d90c4b0f37a47">_copy_embeddings</a> (self, weight, emb_type, log=True)</td></tr>
<tr class="separator:a3bfcd11debf76eff078d90c4b0f37a47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1689490829a70677359cf4f49ccd46bb"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a1689490829a70677359cf4f49ccd46bb">_add_start_end_tokens</a> (self, vec, add_start=False, add_end=False)</td></tr>
<tr class="separator:a1689490829a70677359cf4f49ccd46bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab158cf10bf42325f82fa878e75ef5d74"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#ab158cf10bf42325f82fa878e75ef5d74">_v2t</a> (self, vec)</td></tr>
<tr class="separator:ab158cf10bf42325f82fa878e75ef5d74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a024c4a0801e7dddf54bf3222dc77eaf6"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a024c4a0801e7dddf54bf3222dc77eaf6">_vectorize_text</a> (self, text, add_start=False, add_end=False, truncate=None, truncate_left=True)</td></tr>
<tr class="separator:a024c4a0801e7dddf54bf3222dc77eaf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb729d5d51ad91d4188fd1486a4a087f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#afb729d5d51ad91d4188fd1486a4a087f">_check_truncate</a> (self, vec, truncate, truncate_left=False)</td></tr>
<tr class="separator:afb729d5d51ad91d4188fd1486a4a087f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70f9a0937c1bfba2892b65bce8493df7"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a70f9a0937c1bfba2892b65bce8493df7">_set_text_vec</a> (self, obs, history, truncate)</td></tr>
<tr class="separator:a70f9a0937c1bfba2892b65bce8493df7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4cd508e77aa5828217b6955f77f3a2d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#ae4cd508e77aa5828217b6955f77f3a2d">_set_label_vec</a> (self, obs, add_start, add_end, truncate)</td></tr>
<tr class="separator:ae4cd508e77aa5828217b6955f77f3a2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d28fb5efada28c0ed88e50f32d13d6a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a4d28fb5efada28c0ed88e50f32d13d6a">_set_label_cands_vec</a> (self, obs, add_start, add_end, truncate)</td></tr>
<tr class="separator:a4d28fb5efada28c0ed88e50f32d13d6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07510066c7373fbe2f1a5b8367aa91a8"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a07510066c7373fbe2f1a5b8367aa91a8">_total_parameters</a> (self)</td></tr>
<tr class="separator:a07510066c7373fbe2f1a5b8367aa91a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eb6fbd0142040cfb7b817f002ea238a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a1eb6fbd0142040cfb7b817f002ea238a">_trainable_parameters</a> (self)</td></tr>
<tr class="separator:a1eb6fbd0142040cfb7b817f002ea238a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a8a8fce3f7bb5a8cdc33936eeaeee7a62"><td class="memItemLeft" align="right" valign="top"><a id="a8a8fce3f7bb5a8cdc33936eeaeee7a62"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_replies_are_shared</b></td></tr>
<tr class="separator:a8a8fce3f7bb5a8cdc33936eeaeee7a62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8b280e6685eb713cfd2f80ef9dde669"><td class="memItemLeft" align="right" valign="top"><a id="ac8b280e6685eb713cfd2f80ef9dde669"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_number_grad_accum</b></td></tr>
<tr class="separator:ac8b280e6685eb713cfd2f80ef9dde669"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30a6181cb264f1840c6846ba08b814fc"><td class="memItemLeft" align="right" valign="top"><a id="a30a6181cb264f1840c6846ba08b814fc"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_number_training_updates</b></td></tr>
<tr class="separator:a30a6181cb264f1840c6846ba08b814fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">A provided abstract base agent for any model that wants to use Torch.

Exists to make it easier to implement a new agent.
Not necessary, but reduces duplicated code.

Many methods are intended to be either used as is when the default is
acceptable, or to be overriden and called with super(), with the extra
functionality added to the initial result. See the method comment for
recommended behavior.

This agent serves as a common framework for all ParlAI models which want
to use PyTorch.
</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l00320">320</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad0a00ada1fcd5b7ceec27b1a6cbdc281"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0a00ada1fcd5b7ceec27b1a6cbdc281">&#9670;&nbsp;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>opt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>shared</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Initialize agent.</pre> 
<p>Reimplemented from <a class="el" href="classparlai_1_1core_1_1agents_1_1Agent.html">parlai.core.agents.Agent</a>.</p>

<p>Reimplemented in <a class="el" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#ac203ba228e9e3dd20568b986ef600a62">parlai.agents.fairseq.fairseq.FairseqAgent</a>, <a class="el" href="classparlai_1_1core_1_1torch__generator__agent_1_1TorchGeneratorAgent.html#a60f9613d8d2761569c8862b690b24bce">parlai.core.torch_generator_agent.TorchGeneratorAgent</a>, <a class="el" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a2cbe8ed3b2b6b82be90db6b45331800b">controllable_seq2seq.controllable_seq2seq.ControllableSeq2seqAgent</a>, <a class="el" href="classself__feeding_1_1self__feeding__agent_1_1SelfFeedingAgent.html#ac76dc7e656c40b4209513286a5b1b2d9">self_feeding.self_feeding_agent.SelfFeedingAgent</a>, <a class="el" href="classparlai_1_1agents_1_1transformer_1_1transformer_1_1TransformerRankerAgent.html#a677c14e106614404f5c5f8605b90ce3e">parlai.agents.transformer.transformer.TransformerRankerAgent</a>, <a class="el" href="classparlai_1_1agents_1_1seq2seq_1_1seq2seq_1_1Seq2seqAgent.html#a7d1af2d90ac02cd2c7401185c2d09c3e">parlai.agents.seq2seq.seq2seq.Seq2seqAgent</a>, <a class="el" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#acde404a79bf3678bb52d3e6c3ee5244a">parlai.core.torch_ranker_agent.TorchRankerAgent</a>, <a class="el" href="classparlai_1_1agents_1_1example__seq2seq_1_1example__seq2seq_1_1ExampleSeq2seqAgent.html#ac0488546a9611b19e6f1fbbbb4aa6939">parlai.agents.example_seq2seq.example_seq2seq.ExampleSeq2seqAgent</a>, <a class="el" href="classgenerator_1_1agents_1_1EndToEndAgent.html#ac507fb4579c82550b60656fe5ed055f3">generator.agents.EndToEndAgent</a>, <a class="el" href="classparlai_1_1agents_1_1transformer_1_1polyencoder_1_1PolyencoderAgent.html#a2e8f1aca19a3ba34386d7c69ed7e17bc">parlai.agents.transformer.polyencoder.PolyencoderAgent</a>, <a class="el" href="classparlai_1_1core_1_1torch__classifier__agent_1_1TorchClassifierAgent.html#af9f194b4566a43f0840286a39ee0032a">parlai.core.torch_classifier_agent.TorchClassifierAgent</a>, <a class="el" href="classparlai_1_1agents_1_1memnn_1_1memnn_1_1MemnnAgent.html#a256f911504285d19b006def388d0772f">parlai.agents.memnn.memnn.MemnnAgent</a>, <a class="el" href="classparlai_1_1agents_1_1test__agents_1_1dummy__torch__agent_1_1MockTorchAgent.html#af14024f59e4ea3dea5c7ff38caff89ad">parlai.agents.test_agents.dummy_torch_agent.MockTorchAgent</a>, <a class="el" href="classgenerator_1_1agents_1_1TwoStageAgent.html#ac7d1af4e6371e79f58eb0449b557d87d">generator.agents.TwoStageAgent</a>, <a class="el" href="classparlai_1_1agents_1_1bert__ranker_1_1cross__encoder__ranker_1_1CrossEncoderRankerAgent.html#ab7f5e55dec9f12dc4e4dccc48c682e63">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent</a>, <a class="el" href="classwizard__transformer__ranker_1_1wizard__transformer__ranker_1_1WizardTransformerRankerAgent.html#af70ab88a1dd902b8bd2578e8314f64f8">wizard_transformer_ranker.wizard_transformer_ranker.WizardTransformerRankerAgent</a>, <a class="el" href="classparlai_1_1agents_1_1bert__classifier_1_1bert__classifier_1_1BertClassifierAgent.html#ac05f1d52c400de5b60284121b4a49746">parlai.agents.bert_classifier.bert_classifier.BertClassifierAgent</a>, <a class="el" href="classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html#a96d864d610277625195f71a615c0f585">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent</a>, <a class="el" href="classparlai_1_1agents_1_1bert__ranker_1_1bi__encoder__ranker_1_1BiEncoderRankerAgent.html#a353144d4f4c3182774913c4ddba33de9">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent</a>, <a class="el" href="classparlai_1_1agents_1_1transformer_1_1crossencoder_1_1CrossencoderAgent.html#a22295a739ff290d96c45efd0bfd550bb">parlai.agents.transformer.crossencoder.CrossencoderAgent</a>, and <a class="el" href="classparlai_1_1agents_1_1bert__ranker_1_1bert__ranker_1_1BertRankerAgent.html#a1df3920ae23af044ca5abab9b0c46b10">parlai.agents.bert_ranker.bert_ranker.BertRankerAgent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l00648">648</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="torch__agent_8py_source.html#l00714">parlai.core.torch_agent.TorchAgent._number_grad_accum</a>, <a class="el" href="torch__agent_8py_source.html#l00716">parlai.core.torch_agent.TorchAgent._number_training_updates</a>, <a class="el" href="torch__agent_8py_source.html#l00666">parlai.core.torch_agent.TorchAgent._replies_are_shared</a>, <a class="el" href="torch__agent_8py_source.html#l00191">parlai.core.torch_agent.History.add_person_tokens</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00332">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.add_person_tokens</a>, <a class="el" href="torch__agent_8py_source.html#l00734">parlai.core.torch_agent.TorchAgent.add_person_tokens</a>, <a class="el" href="memnn__v0_8py_source.html#l00185">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.batch_idx</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00324">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.batch_idx</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00360">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.batch_idx</a>, <a class="el" href="pytorch__data__teacher_8py_source.html#l00701">parlai.core.pytorch_data_teacher.PytorchDataTeacher.batch_idx</a>, <a class="el" href="torch__agent_8py_source.html#l00720">parlai.core.torch_agent.TorchAgent.batch_idx</a>, <a class="el" href="memnn_8py_source.html#l00088">parlai.agents.memnn.memnn.MemnnAgent.build_dictionary()</a>, <a class="el" href="torch__agent_8py_source.html#l00749">parlai.core.torch_agent.TorchAgent.build_dictionary()</a>, <a class="el" href="torch__agent_8py_source.html#l00738">parlai.core.torch_agent.TorchAgent.build_history()</a>, <a class="el" href="dummy__torch__agent_8py_source.html#l00080">parlai.agents.test_agents.dummy_torch_agent.MockTorchAgent.criterion</a>, <a class="el" href="example__seq2seq_8py_source.html#l00161">parlai.agents.example_seq2seq.example_seq2seq.ExampleSeq2seqAgent.criterion</a>, <a class="el" href="starspace_8py_source.html#l00214">parlai.agents.starspace.starspace.StarspaceAgent.criterion</a>, <a class="el" href="language__model_8py_source.html#l00248">parlai.agents.language_model.language_model.LanguageModelAgent.criterion</a>, <a class="el" href="seq2seq__v1_8py_source.html#l00257">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent.criterion</a>, <a class="el" href="fairseq_8py_source.html#l00353">parlai.agents.fairseq.fairseq.FairseqAgent.criterion</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00496">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.criterion</a>, <a class="el" href="torch__agent_8py_source.html#l00690">parlai.core.torch_agent.TorchAgent.criterion</a>, <a class="el" href="unigram_8py_source.html#l00056">parlai.agents.unigram.unigram.UnigramAgent.dict</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00092">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.dict</a>, <a class="el" href="memnn__v0_8py_source.html#l00102">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.dict</a>, <a class="el" href="remote__agent_8py_source.html#l00165">parlai.agents.remote_agent.remote_agent.ParsedRemoteAgent.dict</a>, <a class="el" href="language__model_8py_source.html#l00171">parlai.agents.language_model.language_model.LanguageModelAgent.dict</a>, <a class="el" href="torch__agent_8py_source.html#l00174">parlai.core.torch_agent.History.dict</a>, <a class="el" href="starspace_8py_source.html#l00192">parlai.agents.starspace.starspace.StarspaceAgent.dict</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00198">parlai.agents.legacy_agents.memnn.modules_v0.Decoder.dict</a>, <a class="el" href="fairseq_8py_source.html#l00208">parlai.agents.fairseq.fairseq._ParlaiTask.dict</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00289">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.dict</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00375">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.dict</a>, <a class="el" href="fairseq_8py_source.html#l00396">parlai.agents.fairseq.fairseq.FairseqAgent.dict</a>, <a class="el" href="torch__agent_8py_source.html#l00667">parlai.core.torch_agent.TorchAgent.dict</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00317">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.EMPTY</a>, <a class="el" href="torch__agent_8py_source.html#l00708">parlai.core.torch_agent.TorchAgent.EMPTY</a>, <a class="el" href="dummy__torch__agent_8py_source.html#l00024">parlai.agents.test_agents.dummy_torch_agent.MockDict.END_IDX</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00046">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.END_IDX</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00055">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.END_IDX</a>, <a class="el" href="both__encoder__ranker_8py_source.html#l00064">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.END_IDX</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00080">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.END_IDX</a>, <a class="el" href="language__model_8py_source.html#l00178">parlai.agents.language_model.language_model.LanguageModelAgent.END_IDX</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00320">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.END_IDX</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00377">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.END_IDX</a>, <a class="el" href="torch__agent_8py_source.html#l00711">parlai.core.torch_agent.TorchAgent.END_IDX</a>, <a class="el" href="torch__agent_8py_source.html#l00661">parlai.core.torch_agent.TorchAgent.fp16</a>, <a class="el" href="memnn__v0_8py_source.html#l00184">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.history</a>, <a class="el" href="starspace_8py_source.html#l00187">parlai.agents.starspace.starspace.StarspaceAgent.history</a>, <a class="el" href="ir__baseline_8py_source.html#l00247">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.history</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00328">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.history</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00357">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.history</a>, <a class="el" href="torch__agent_8py_source.html#l00730">parlai.core.torch_agent.TorchAgent.history</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00326">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.histsz</a>, <a class="el" href="torch__agent_8py_source.html#l00722">parlai.core.torch_agent.TorchAgent.histsz</a>, <a class="el" href="repeat__query_8py_source.html#l00016">parlai.agents.repeat_query.repeat_query.RepeatQueryAgent.id</a>, <a class="el" href="retriever__reader_8py_source.html#l00019">parlai.agents.retriever_reader.retriever_reader.RetrieverReaderAgent.id</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00031">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.id</a>, <a class="el" href="random__candidate_8py_source.html#l00034">parlai.agents.random_candidate.random_candidate.RandomCandidateAgent.id</a>, <a class="el" href="local__human_8py_source.html#l00035">parlai.agents.local_human.local_human.LocalHumanAgent.id</a>, <a class="el" href="unigram_8py_source.html#l00050">parlai.agents.unigram.unigram.UnigramAgent.id</a>, <a class="el" href="repeat__label_8py_source.html#l00056">parlai.agents.repeat_label.repeat_label.RepeatLabelAgent.id</a>, <a class="el" href="parlai_2core_2agents_8py_source.html#l00058">parlai.core.agents.Agent.id</a>, <a class="el" href="memnn_8py_source.html#l00081">parlai.agents.memnn.memnn.MemnnAgent.id</a>, <a class="el" href="memnn__v0_8py_source.html#l00101">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.id</a>, <a class="el" href="agents_2tfidf__retriever_2tfidf__retriever_8py_source.html#l00134">parlai.agents.tfidf_retriever.tfidf_retriever.TfidfRetrieverAgent.id</a>, <a class="el" href="example__seq2seq_8py_source.html#l00136">parlai.agents.example_seq2seq.example_seq2seq.ExampleSeq2seqAgent.id</a>, <a class="el" href="drqa_8py_source.html#l00141">parlai.agents.drqa.drqa.DrqaAgent.id</a>, <a class="el" href="agents_2seq2seq_2seq2seq_8py_source.html#l00154">parlai.agents.seq2seq.seq2seq.Seq2seqAgent.id</a>, <a class="el" href="starspace_8py_source.html#l00181">parlai.agents.starspace.starspace.StarspaceAgent.id</a>, <a class="el" href="seq2seq__v1_8py_source.html#l00216">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent.id</a>, <a class="el" href="language__model_8py_source.html#l00221">parlai.agents.language_model.language_model.LanguageModelAgent.id</a>, <a class="el" href="ir__baseline_8py_source.html#l00243">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.id</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00316">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.id</a>, <a class="el" href="fairseq_8py_source.html#l00344">parlai.agents.fairseq.fairseq.FairseqAgent.id</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00412">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.id</a>, <a class="el" href="language__model_8py_source.html#l00244">parlai.agents.language_model.language_model.LanguageModelAgent.is_training</a>, <a class="el" href="fairseq_8py_source.html#l00523">parlai.agents.fairseq.fairseq.FairseqAgent.is_training</a>, <a class="el" href="torch__agent_8py_source.html#l00732">parlai.core.torch_agent.TorchAgent.is_training</a>, <a class="el" href="torch__agent_8py_source.html#l00728">parlai.core.torch_agent.TorchAgent.label_truncate</a>, <a class="el" href="language__model_8py_source.html#l00159">parlai.agents.language_model.language_model.LanguageModelAgent.metrics</a>, <a class="el" href="parlai_2core_2agents_8py_source.html#l00192">parlai.core.agents.Teacher.metrics</a>, <a class="el" href="fairseq_8py_source.html#l00222">parlai.agents.fairseq.fairseq.FairseqAgent.metrics</a>, <a class="el" href="seq2seq__v1_8py_source.html#l00231">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent.metrics</a>, <a class="el" href="metrics_8py_source.html#l00237">parlai.core.metrics.Metrics.metrics</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00351">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.metrics</a>, <a class="el" href="torch__agent_8py_source.html#l00678">parlai.core.torch_agent.TorchAgent.metrics</a>, <a class="el" href="crossencoder_8py_source.html#l00028">parlai.agents.transformer.crossencoder.CrossencoderAgent.model</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00050">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.model</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00074">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.model</a>, <a class="el" href="dummy__torch__agent_8py_source.html#l00079">parlai.agents.test_agents.dummy_torch_agent.MockTorchAgent.model</a>, <a class="el" href="polyencoder_8py_source.html#l00099">parlai.agents.transformer.polyencoder.PolyencoderAgent.model</a>, <a class="el" href="memnn__v0_8py_source.html#l00104">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.model</a>, <a class="el" href="drqa_8py_source.html#l00123">parlai.agents.drqa.drqa.DrqaAgent.model</a>, <a class="el" href="language__model_8py_source.html#l00173">parlai.agents.language_model.language_model.LanguageModelAgent.model</a>, <a class="el" href="transformer_8py_source.html#l00185">parlai.agents.transformer.transformer.TransformerRankerAgent.model</a>, <a class="el" href="starspace_8py_source.html#l00193">parlai.agents.starspace.starspace.StarspaceAgent.model</a>, <a class="el" href="seq2seq__v1_8py_source.html#l00230">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent.model</a>, <a class="el" href="fairseq_8py_source.html#l00354">parlai.agents.fairseq.fairseq.FairseqAgent.model</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00381">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.model</a>, <a class="el" href="torch__agent_8py_source.html#l00689">parlai.core.torch_agent.TorchAgent.model</a>, <a class="el" href="dummy__torch__agent_8py_source.html#l00020">parlai.agents.test_agents.dummy_torch_agent.MockDict.NULL_IDX</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00045">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.NULL_IDX</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00053">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.NULL_IDX</a>, <a class="el" href="both__encoder__ranker_8py_source.html#l00062">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.NULL_IDX</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00078">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.NULL_IDX</a>, <a class="el" href="modules__v1_8py_source.html#l00078">parlai.agents.legacy_agents.seq2seq.modules_v1.Seq2seq.NULL_IDX</a>, <a class="el" href="memnn__v0_8py_source.html#l00140">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.NULL_IDX</a>, <a class="el" href="language__model_8py_source.html#l00177">parlai.agents.language_model.language_model.LanguageModelAgent.NULL_IDX</a>, <a class="el" href="starspace_8py_source.html#l00182">parlai.agents.starspace.starspace.StarspaceAgent.NULL_IDX</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00318">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.NULL_IDX</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00378">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.NULL_IDX</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00556">parlai.agents.legacy_agents.seq2seq.modules_v0.Ranker.NULL_IDX</a>, <a class="el" href="torch__agent_8py_source.html#l00709">parlai.core.torch_agent.TorchAgent.NULL_IDX</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00017">parlai.agents.legacy_agents.memnn.modules_v0.MemNN.opt</a>, <a class="el" href="parlai_2agents_2language__model_2modules_8py_source.html#l00018">parlai.agents.language_model.modules.RNNModel.opt</a>, <a class="el" href="rnn__reader_8py_source.html#l00019">parlai.agents.drqa.rnn_reader.RnnDocReader.opt</a>, <a class="el" href="model_8py_source.html#l00024">parlai.agents.drqa.model.DocReaderModel.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00033">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.opt</a>, <a class="el" href="parlai_2agents_2starspace_2modules_8py_source.html#l00036">parlai.agents.starspace.modules.Starspace.opt</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00040">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.opt</a>, <a class="el" href="unigram_8py_source.html#l00052">parlai.agents.unigram.unigram.UnigramAgent.opt</a>, <a class="el" href="parlai_2core_2agents_8py_source.html#l00060">parlai.core.agents.Agent.opt</a>, <a class="el" href="remote__agent_8py_source.html#l00060">parlai.agents.remote_agent.remote_agent.RemoteAgentAgent.opt</a>, <a class="el" href="memnn__v0_8py_source.html#l00135">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.opt</a>, <a class="el" href="parlai_2agents_2transformer_2modules_8py_source.html#l00137">parlai.agents.transformer.modules.TransformerMemNetModel.opt</a>, <a class="el" href="language__model_8py_source.html#l00169">parlai.agents.language_model.language_model.LanguageModelAgent.opt</a>, <a class="el" href="dict__v0_8py_source.html#l00196">parlai.agents.legacy_agents.seq2seq.dict_v0.DictionaryAgent.opt</a>, <a class="el" href="dict__v1_8py_source.html#l00206">parlai.agents.legacy_agents.seq2seq.dict_v1.DictionaryAgent.opt</a>, <a class="el" href="ir__baseline_8py_source.html#l00246">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.opt</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00295">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.opt</a>, <a class="el" href="fairseq_8py_source.html#l00338">parlai.agents.fairseq.fairseq.FairseqAgent.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00373">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.opt</a>, <a class="el" href="starspace_8py_source.html#l00582">parlai.agents.starspace.starspace.StarspaceAgent.opt</a>, <a class="el" href="teachers_8py_source.html#l00151">parlai.core.teachers.FixedDialogTeacher.random</a>, <a class="el" href="parlai_2core_2agents_8py_source.html#l00276">parlai.core.agents.MultiTaskTeacher.random</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00322">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.random</a>, <a class="el" href="torch__agent_8py_source.html#l00718">parlai.core.torch_agent.TorchAgent.random</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00331">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.rank_candidates</a>, <a class="el" href="torch__agent_8py_source.html#l00733">parlai.core.torch_agent.TorchAgent.rank_candidates</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00288">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.replies</a>, <a class="el" href="torch__agent_8py_source.html#l00665">parlai.core.torch_agent.TorchAgent.replies</a>, <a class="el" href="torch__agent_8py_source.html#l01773">parlai.core.torch_agent.TorchAgent.set_interactive_mode()</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00054">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.START_IDX</a>, <a class="el" href="both__encoder__ranker_8py_source.html#l00063">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.START_IDX</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00079">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.START_IDX</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00319">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.START_IDX</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00376">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.START_IDX</a>, <a class="el" href="torch__agent_8py_source.html#l00710">parlai.core.torch_agent.TorchAgent.START_IDX</a>, <a class="el" href="torch__agent_8py_source.html#l00726">parlai.core.torch_agent.TorchAgent.text_truncate</a>, <a class="el" href="starspace_8py_source.html#l00186">parlai.agents.starspace.starspace.StarspaceAgent.truncate</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00330">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.truncate</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00350">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.truncate</a>, <a class="el" href="torch__agent_8py_source.html#l00724">parlai.core.torch_agent.TorchAgent.truncate</a>, <a class="el" href="image__featurizers_8py_source.html#l00024">parlai.core.image_featurizers.ImageLoader.use_cuda</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00048">parlai.agents.legacy_agents.memnn.modules_v0.MemNN.use_cuda</a>, <a class="el" href="memnn__v0_8py_source.html#l00096">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.use_cuda</a>, <a class="el" href="language__model_8py_source.html#l00162">parlai.agents.language_model.language_model.LanguageModelAgent.use_cuda</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00303">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.use_cuda</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00367">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.use_cuda</a>, and <a class="el" href="torch__agent_8py_source.html#l00654">parlai.core.torch_agent.TorchAgent.use_cuda</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_ad0a00ada1fcd5b7ceec27b1a6cbdc281_cgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_ad0a00ada1fcd5b7ceec27b1a6cbdc281_cgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_ad0a00ada1fcd5b7ceec27b1a6cbdc281_cgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_ad0a00ada1fcd5b7ceec27b1a6cbdc281_cgraph">
<area shape="rect" title=" " alt="" coords="5,731,164,772"/>
<area shape="rect" href="classparlai_1_1agents_1_1memnn_1_1memnn_1_1MemnnAgent.html#af314871636896b61139ef761765a1872" title=" " alt="" coords="223,269,418,311"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a233316f9ec2805dd6a08fbf07f3a078a" title=" " alt="" coords="229,597,412,639"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#ab22f61f153b522f429210c61eed2d5af" title=" " alt="" coords="237,996,404,1037"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a6a7aff29231816a0f3cade9c72409dfc" title=" " alt="" coords="212,1061,429,1103"/>
<area shape="rect" href="classparlai_1_1agents_1_1memnn_1_1memnn_1_1MemnnAgent.html#a6639dabbc921ce131de09f1228979d2f" title=" " alt="" coords="543,5,738,47"/>
<area shape="rect" href="classparlai_1_1agents_1_1language__model_1_1language__model_1_1LanguageModelAgent.html#a80bdd18c28f4a2ab19c463dd123165e7" title=" " alt="" coords="529,71,752,127"/>
<area shape="rect" href="classparlai_1_1agents_1_1unigram_1_1unigram_1_1UnigramAgent.html#a832c1e669ba04ca3c6258216cc82bdca" title=" " alt="" coords="539,152,742,193"/>
<area shape="rect" href="classparlai_1_1agents_1_1starspace_1_1starspace_1_1StarspaceAgent.html#a04d4db961ea8e3ed0ca1cb4cc7a7eca5" title=" " alt="" coords="529,217,752,259"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1bi__encoder__ranker_1_1BiEncoderRankerAgent.html#a7920edd41a6bdbd18e9a0c50a1953f9d" title=" " alt="" coords="513,283,769,339"/>
<area shape="rect" href="classparlai_1_1agents_1_1test__agents_1_1dummy__torch__agent_1_1MockTorchAgent.html#a122bde825e09b1450578a7ab7d606bfd" title=" " alt="" coords="509,363,772,419"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html#a4fd71b73fc926491aedc3da5921f62ca" title=" " alt="" coords="481,443,800,499"/>
<area shape="rect" href="classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent.html#a1d925f46a6b35d1f10cb033a1184841d" title=" " alt="" coords="549,524,732,565"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__classifier_1_1bert__classifier_1_1BertClassifierAgent.html#af568b5ebe0ada0e2823e9e2be2d70e9f" title=" " alt="" coords="524,590,757,646"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v0_1_1Seq2seqAgent.html#a05552a2714cd8d15d754a62258727c98" title=" " alt="" coords="525,670,756,726"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1cross__encoder__ranker_1_1CrossEncoderRankerAgent.html#a0518d01be6a05fc2bc117f2c55cb6328" title=" " alt="" coords="477,750,804,806"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#abc77ad96264e7597c46bc001a9a6af90" title=" " alt="" coords="515,830,766,886"/>
<area shape="rect" href="classparlai_1_1agents_1_1remote__agent_1_1remote__agent_1_1ParsedRemoteAgent.html#a5759817c6b1d248a0b64861222745f62" title=" " alt="" coords="523,910,758,966"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#a3dc59646a2e97d015dfdddb65021429b" title=" " alt="" coords="542,991,739,1032"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#aea8849fa69a3f5dbd3216c8b06f180ea" title=" " alt="" coords="547,1056,734,1097"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__classifier_1_1bert__classifier_1_1BertClassifierAgent.html#ad606525729dd0340fc98a0bb50e24187" title=" " alt="" coords="533,1122,749,1178"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a0bd9118252c602bb9d5a596ecae16717" title=" " alt="" coords="555,1203,726,1244"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a1689490829a70677359cf4f49ccd46bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1689490829a70677359cf4f49ccd46bb">&#9670;&nbsp;</a></span>_add_start_end_tokens()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent._add_start_end_tokens </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>add_start</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>add_end</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Add start and end tokens to a list or tensor.</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l01209">1209</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="dummy__torch__agent_8py_source.html#l00024">parlai.agents.test_agents.dummy_torch_agent.MockDict.END_IDX</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00046">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.END_IDX</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00055">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.END_IDX</a>, <a class="el" href="both__encoder__ranker_8py_source.html#l00064">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.END_IDX</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00080">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.END_IDX</a>, <a class="el" href="language__model_8py_source.html#l00178">parlai.agents.language_model.language_model.LanguageModelAgent.END_IDX</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00320">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.END_IDX</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00377">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.END_IDX</a>, <a class="el" href="torch__agent_8py_source.html#l00711">parlai.core.torch_agent.TorchAgent.END_IDX</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00054">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.START_IDX</a>, <a class="el" href="both__encoder__ranker_8py_source.html#l00063">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.START_IDX</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00079">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.START_IDX</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00319">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.START_IDX</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00376">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.START_IDX</a>, and <a class="el" href="torch__agent_8py_source.html#l00710">parlai.core.torch_agent.TorchAgent.START_IDX</a>.</p>

<p class="reference">Referenced by <a class="el" href="biencoder_8py_source.html#l00032">parlai.agents.transformer.biencoder.BiencoderAgent._set_text_vec()</a>, <a class="el" href="crossencoder_8py_source.html#l00048">parlai.agents.transformer.crossencoder.CrossencoderAgent._set_text_vec()</a>, <a class="el" href="transformer__classifier_8py_source.html#l00048">parlai.agents.transformer_classifier.transformer_classifier.TransformerClassifierAgent._set_text_vec()</a>, <a class="el" href="polyencoder_8py_source.html#l00112">parlai.agents.transformer.polyencoder.PolyencoderAgent._set_text_vec()</a>, and <a class="el" href="torch__agent_8py_source.html#l01237">parlai.core.torch_agent.TorchAgent._vectorize_text()</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a1689490829a70677359cf4f49ccd46bb_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a1689490829a70677359cf4f49ccd46bb_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a1689490829a70677359cf4f49ccd46bb_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a1689490829a70677359cf4f49ccd46bb_icgraph">
<area shape="rect" title=" " alt="" coords="1309,143,1468,199"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1biencoder_1_1BiencoderAgent.html#a0cd51555a1942d8924c0c4bcb07c3d50" title=" " alt="" coords="1020,5,1251,47"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1crossencoder_1_1CrossencoderAgent.html#a7fabb77b81bb8352d31b58d0ed12b0b9" title=" " alt="" coords="1009,71,1261,112"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer__classifier_1_1transformer__classifier_1_1TransformerClassifierAgent.html#a6f6d24307c6f2a9171c8d7d111eb1658" title=" " alt="" coords="1030,136,1241,207"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1polyencoder_1_1PolyencoderAgent.html#a956698ff164fb878805b1c41054a1c8a" title=" " alt="" coords="1013,231,1257,272"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a024c4a0801e7dddf54bf3222dc77eaf6" title=" " alt="" coords="1044,391,1227,432"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a48bb9b153353a0565ab7253dc1daef99" title=" " alt="" coords="513,147,672,188"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a87b18f0d6ab11be3c49375af072d0d33" title=" " alt="" coords="277,147,436,188"/>
<area shape="rect" href="classparlai_1_1tasks_1_1talkthewalk_1_1worlds_1_1SimulateWorld.html#a6bd5a8a8e194dd4aa76aeecdf429bc7f" title=" " alt="" coords="5,115,211,156"/>
<area shape="rect" href="classparlai_1_1core_1_1worlds_1_1ExecutableWorld.html#a6555592d2b7c316e72febc1fccf43bdb" title=" " alt="" coords="11,180,205,221"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a4d28fb5efada28c0ed88e50f32d13d6a" title=" " alt="" coords="767,230,925,286"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#ae4cd508e77aa5828217b6955f77f3a2d" title=" " alt="" coords="756,311,936,352"/>
<area shape="rect" href="classwizard__transformer__ranker_1_1wizard__transformer__ranker_1_1WizardTransformerRankerAgent.html#a2f0754d9a85e72c3ffcae9f2cc51b639" title=" " alt="" coords="735,376,957,447"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1bi__encoder__ranker_1_1BiEncoderRankerAgent.html#acdfa23a21c8364e7205093a5af51264f" title=" " alt="" coords="503,449,683,520"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1bi__encoder__ranker_1_1BiEncoderRankerAgent.html#a3062adbae2449553b4a6e12c5973116d" title=" " alt="" coords="739,523,953,593"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#af2e2d618f056bb68089c7252fa07d07b" title=" " alt="" coords="731,618,961,674"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#acde404a79bf3678bb52d3e6c3ee5244a" title=" " alt="" coords="19,499,197,555"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#aeceb8a86a165dd9f97b9f8270462a828" title=" " alt="" coords="503,545,682,601"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#a9039757596f98b45b6676b16589883a3" title=" " alt="" coords="259,538,455,594"/>
</map>
</div>

</div>
</div>
<a id="afb729d5d51ad91d4188fd1486a4a087f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb729d5d51ad91d4188fd1486a4a087f">&#9670;&nbsp;</a></span>_check_truncate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent._check_truncate </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>truncate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>truncate_left</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Check that vector is truncated correctly.</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l01265">1265</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__agent_8py_source.html#l01335">parlai.core.torch_agent.TorchAgent._set_label_cands_vec()</a>, <a class="el" href="torch__agent_8py_source.html#l01304">parlai.core.torch_agent.TorchAgent._set_label_vec()</a>, <a class="el" href="projects_2wizard__of__wikipedia_2generator_2agents_8py_source.html#l00072">generator.agents.TwoStageAgent._set_text_vec()</a>, <a class="el" href="memnn_8py_source.html#l00165">parlai.agents.memnn.memnn.MemnnAgent._set_text_vec()</a>, <a class="el" href="self__feeding__agent_8py_source.html#l00392">self_feeding.self_feeding_agent.SelfFeedingAgent._set_text_vec()</a>, <a class="el" href="torch__agent_8py_source.html#l01276">parlai.core.torch_agent.TorchAgent._set_text_vec()</a>, and <a class="el" href="torch__agent_8py_source.html#l01237">parlai.core.torch_agent.TorchAgent._vectorize_text()</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_afb729d5d51ad91d4188fd1486a4a087f_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_afb729d5d51ad91d4188fd1486a4a087f_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_afb729d5d51ad91d4188fd1486a4a087f_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_afb729d5d51ad91d4188fd1486a4a087f_icgraph">
<area shape="rect" title=" " alt="" coords="1252,192,1441,233"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a4d28fb5efada28c0ed88e50f32d13d6a" title=" " alt="" coords="767,113,925,169"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#ae4cd508e77aa5828217b6955f77f3a2d" title=" " alt="" coords="756,193,936,235"/>
<area shape="rect" href="classgenerator_1_1agents_1_1TwoStageAgent.html#ad40111b6d2fb8b260a045dec0299c3af" title=" " alt="" coords="1015,316,1198,357"/>
<area shape="rect" href="classparlai_1_1agents_1_1memnn_1_1memnn_1_1MemnnAgent.html#a3bd2d78f6cbe46afb8b37ab5160bda83" title=" " alt="" coords="1009,5,1204,47"/>
<area shape="rect" href="classself__feeding_1_1self__feeding__agent_1_1SelfFeedingAgent.html#addb19af0828512dfd866ff91f558ca65" title=" " alt="" coords="1021,382,1193,438"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a70f9a0937c1bfba2892b65bce8493df7" title=" " alt="" coords="1019,72,1194,113"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a024c4a0801e7dddf54bf3222dc77eaf6" title=" " alt="" coords="1015,251,1198,292"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a48bb9b153353a0565ab7253dc1daef99" title=" " alt="" coords="513,88,672,129"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a87b18f0d6ab11be3c49375af072d0d33" title=" " alt="" coords="277,88,436,129"/>
<area shape="rect" href="classparlai_1_1tasks_1_1talkthewalk_1_1worlds_1_1SimulateWorld.html#a6bd5a8a8e194dd4aa76aeecdf429bc7f" title=" " alt="" coords="5,56,211,97"/>
<area shape="rect" href="classparlai_1_1core_1_1worlds_1_1ExecutableWorld.html#a6555592d2b7c316e72febc1fccf43bdb" title=" " alt="" coords="11,121,205,163"/>
<area shape="rect" href="classwizard__transformer__ranker_1_1wizard__transformer__ranker_1_1WizardTransformerRankerAgent.html#a2f0754d9a85e72c3ffcae9f2cc51b639" title=" " alt="" coords="735,259,957,329"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1bi__encoder__ranker_1_1BiEncoderRankerAgent.html#acdfa23a21c8364e7205093a5af51264f" title=" " alt="" coords="503,508,683,579"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1bi__encoder__ranker_1_1BiEncoderRankerAgent.html#a3062adbae2449553b4a6e12c5973116d" title=" " alt="" coords="739,435,953,505"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#af2e2d618f056bb68089c7252fa07d07b" title=" " alt="" coords="731,354,961,410"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#acde404a79bf3678bb52d3e6c3ee5244a" title=" " alt="" coords="19,470,197,526"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#aeceb8a86a165dd9f97b9f8270462a828" title=" " alt="" coords="503,427,682,483"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#a9039757596f98b45b6676b16589883a3" title=" " alt="" coords="259,438,455,494"/>
</map>
</div>

</div>
</div>
<a id="a3bfcd11debf76eff078d90c4b0f37a47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bfcd11debf76eff078d90c4b0f37a47">&#9670;&nbsp;</a></span>_copy_embeddings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent._copy_embeddings </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>weight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>emb_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>log</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Copy embeddings from the pretrained embeddings to the lookuptable.

:param weight:
    weights of lookup table (nn.Embedding/nn.EmbeddingBag)

:param emb_type:
    pretrained embedding type
</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l01164">1164</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="torch__agent__v1_8py_source.html#l00394">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._get_embtype()</a>, <a class="el" href="torch__agent_8py_source.html#l01087">parlai.core.torch_agent.TorchAgent._get_embtype()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00439">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._project_vec()</a>, <a class="el" href="torch__agent_8py_source.html#l01126">parlai.core.torch_agent.TorchAgent._project_vec()</a>, <a class="el" href="unigram_8py_source.html#l00056">parlai.agents.unigram.unigram.UnigramAgent.dict</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00092">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.dict</a>, <a class="el" href="memnn__v0_8py_source.html#l00102">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.dict</a>, <a class="el" href="remote__agent_8py_source.html#l00165">parlai.agents.remote_agent.remote_agent.ParsedRemoteAgent.dict</a>, <a class="el" href="language__model_8py_source.html#l00171">parlai.agents.language_model.language_model.LanguageModelAgent.dict</a>, <a class="el" href="torch__agent_8py_source.html#l00174">parlai.core.torch_agent.History.dict</a>, <a class="el" href="starspace_8py_source.html#l00192">parlai.agents.starspace.starspace.StarspaceAgent.dict</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00198">parlai.agents.legacy_agents.memnn.modules_v0.Decoder.dict</a>, <a class="el" href="fairseq_8py_source.html#l00208">parlai.agents.fairseq.fairseq._ParlaiTask.dict</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00289">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.dict</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00375">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.dict</a>, <a class="el" href="fairseq_8py_source.html#l00396">parlai.agents.fairseq.fairseq.FairseqAgent.dict</a>, and <a class="el" href="torch__agent_8py_source.html#l00667">parlai.core.torch_agent.TorchAgent.dict</a>.</p>

<p class="reference">Referenced by <a class="el" href="agents_2seq2seq_2seq2seq_8py_source.html#l00156">parlai.agents.seq2seq.seq2seq.Seq2seqAgent.build_model()</a>, <a class="el" href="transformer_8py_source.html#l00197">parlai.agents.transformer.transformer.TransformerRankerAgent.build_model()</a>, <a class="el" href="transformer_8py_source.html#l00284">parlai.agents.transformer.transformer.TransformerGeneratorAgent.build_model()</a>, <a class="el" href="self__feeding__agent_8py_source.html#l00294">self_feeding.self_feeding_agent.SelfFeedingAgent.build_model()</a>, <a class="el" href="projects_2wizard__of__wikipedia_2generator_2agents_8py_source.html#l00321">generator.agents.EndToEndAgent.build_model()</a>, <a class="el" href="controllable__seq2seq_8py_source.html#l00394">controllable_seq2seq.controllable_seq2seq.ControllableSeq2seqAgent.build_model()</a>, and <a class="el" href="fairseq_8py_source.html#l00414">parlai.agents.fairseq.fairseq.FairseqAgent.build_model()</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a3bfcd11debf76eff078d90c4b0f37a47_cgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a3bfcd11debf76eff078d90c4b0f37a47_cgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a3bfcd11debf76eff078d90c4b0f37a47_cgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a3bfcd11debf76eff078d90c4b0f37a47_cgraph">
<area shape="rect" title=" " alt="" coords="5,140,211,181"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#aacd33f0ba4e08159e567229b16999548" title=" " alt="" coords="267,5,425,76"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#ab0d7297eabf5d8d99548e95267ec1d1a" title=" " alt="" coords="259,100,433,141"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#af0fce532d1e9e2a17e8303290d47e8d5" title=" " alt="" coords="267,165,425,236"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a9e74bd0ca90d3fcbd1bee483d10170b1" title=" " alt="" coords="263,260,429,301"/>
</map>
</div>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a3bfcd11debf76eff078d90c4b0f37a47_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a3bfcd11debf76eff078d90c4b0f37a47_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a3bfcd11debf76eff078d90c4b0f37a47_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a3bfcd11debf76eff078d90c4b0f37a47_icgraph">
<area shape="rect" title=" " alt="" coords="696,369,901,411"/>
<area shape="rect" href="classparlai_1_1agents_1_1seq2seq_1_1seq2seq_1_1Seq2seqAgent.html#a43422bdf284bfc06a9bd2db434a7167c" title=" " alt="" coords="390,239,597,280"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1transformer_1_1TransformerRankerAgent.html#a3336fdab2d667e6e631135ec70e8558f" title=" " alt="" coords="373,369,614,411"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1transformer_1_1TransformerGeneratorAgent.html#a473f2a19d6bce412c4c9163c7beb9b09" title=" " alt="" coords="365,304,621,345"/>
<area shape="rect" href="classself__feeding_1_1self__feeding__agent_1_1SelfFeedingAgent.html#ae8934c79f3d7079b09dadb1fc78d59b5" title=" " alt="" coords="373,435,614,476"/>
<area shape="rect" href="classgenerator_1_1agents_1_1EndToEndAgent.html#a4350bfc0d04bf47814db2d14b95ac3bb" title=" " alt="" coords="401,500,585,541"/>
<area shape="rect" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a7341b7dedc7150c4dfa27254188360c1" title=" " alt="" coords="339,565,648,607"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#a275a60cb93929725725d103fc76905ba" title=" " alt="" coords="400,173,587,215"/>
<area shape="rect" href="classparlai_1_1agents_1_1test__agents_1_1dummy__torch__agent_1_1MockTorchAgent.html#af14024f59e4ea3dea5c7ff38caff89ad" title=" " alt="" coords="64,71,232,141"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__classifier__agent_1_1TorchClassifierAgent.html#af9f194b4566a43f0840286a39ee0032a" title=" " alt="" coords="53,166,243,222"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#acde404a79bf3678bb52d3e6c3ee5244a" title=" " alt="" coords="59,246,237,302"/>
<area shape="rect" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a2cbe8ed3b2b6b82be90db6b45331800b" title=" " alt="" coords="5,327,291,368"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__generator__agent_1_1TorchGeneratorAgent.html#a60f9613d8d2761569c8862b690b24bce" title=" " alt="" coords="51,393,245,449"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#ac203ba228e9e3dd20568b986ef600a62" title=" " alt="" coords="55,5,241,47"/>
</map>
</div>

</div>
</div>
<a id="a81020ea27044882e6a790aabb8e3e6a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81020ea27044882e6a790aabb8e3e6a0">&#9670;&nbsp;</a></span>_get_init_model()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent._get_init_model </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>opt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>shared</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Get model file to initialize with.

If `init_model` exits, we will return the path to that file and maybe
load dict file from that path. Otherwise, use `model_file.`

:return:  path to load model from, whether we loaded from `init_model`
  or not
</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l00762">762</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__classifier__agent_8py_source.html#l00085">parlai.core.torch_classifier_agent.TorchClassifierAgent.__init__()</a>, <a class="el" href="torch__ranker__agent_8py_source.html#l00129">parlai.core.torch_ranker_agent.TorchRankerAgent.__init__()</a>, and <a class="el" href="torch__generator__agent_8py_source.html#l00304">parlai.core.torch_generator_agent.TorchGeneratorAgent.__init__()</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a81020ea27044882e6a790aabb8e3e6a0_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a81020ea27044882e6a790aabb8e3e6a0_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a81020ea27044882e6a790aabb8e3e6a0_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a81020ea27044882e6a790aabb8e3e6a0_icgraph">
<area shape="rect" title=" " alt="" coords="247,93,431,134"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__classifier__agent_1_1TorchClassifierAgent.html#af9f194b4566a43f0840286a39ee0032a" title=" " alt="" coords="7,5,197,61"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#acde404a79bf3678bb52d3e6c3ee5244a" title=" " alt="" coords="13,85,191,141"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__generator__agent_1_1TorchGeneratorAgent.html#a60f9613d8d2761569c8862b690b24bce" title=" " alt="" coords="5,165,199,221"/>
</map>
</div>

</div>
</div>
<a id="a151777a7e8d052ab4ce873d20a2b0c73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a151777a7e8d052ab4ce873d20a2b0c73">&#9670;&nbsp;</a></span>_gpu_usage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent._gpu_usage </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Compute GPU memory usage.

Includes both allocated and cached memory; this should be close to the
output of nvidia-smi, but not reflect of how much is currently demanded
by the program. It may be viewed as a rough approximation of
worst-case-until-now.

:return: Percent of allocated GPU memory as a fraction of available.
</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l01013">1013</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="memnn_2modules__v0_8py_source.html#l00017">parlai.agents.legacy_agents.memnn.modules_v0.MemNN.opt</a>, <a class="el" href="parlai_2agents_2language__model_2modules_8py_source.html#l00018">parlai.agents.language_model.modules.RNNModel.opt</a>, <a class="el" href="rnn__reader_8py_source.html#l00019">parlai.agents.drqa.rnn_reader.RnnDocReader.opt</a>, <a class="el" href="model_8py_source.html#l00024">parlai.agents.drqa.model.DocReaderModel.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00033">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.opt</a>, <a class="el" href="parlai_2agents_2starspace_2modules_8py_source.html#l00036">parlai.agents.starspace.modules.Starspace.opt</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00040">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.opt</a>, <a class="el" href="unigram_8py_source.html#l00052">parlai.agents.unigram.unigram.UnigramAgent.opt</a>, <a class="el" href="remote__agent_8py_source.html#l00060">parlai.agents.remote_agent.remote_agent.RemoteAgentAgent.opt</a>, <a class="el" href="parlai_2core_2agents_8py_source.html#l00060">parlai.core.agents.Agent.opt</a>, <a class="el" href="memnn__v0_8py_source.html#l00135">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.opt</a>, <a class="el" href="parlai_2agents_2transformer_2modules_8py_source.html#l00137">parlai.agents.transformer.modules.TransformerMemNetModel.opt</a>, <a class="el" href="language__model_8py_source.html#l00169">parlai.agents.language_model.language_model.LanguageModelAgent.opt</a>, <a class="el" href="dict__v0_8py_source.html#l00196">parlai.agents.legacy_agents.seq2seq.dict_v0.DictionaryAgent.opt</a>, <a class="el" href="dict__v1_8py_source.html#l00206">parlai.agents.legacy_agents.seq2seq.dict_v1.DictionaryAgent.opt</a>, <a class="el" href="ir__baseline_8py_source.html#l00246">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.opt</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00295">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.opt</a>, <a class="el" href="fairseq_8py_source.html#l00338">parlai.agents.fairseq.fairseq.FairseqAgent.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00373">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.opt</a>, <a class="el" href="starspace_8py_source.html#l00582">parlai.agents.starspace.starspace.StarspaceAgent.opt</a>, <a class="el" href="image__featurizers_8py_source.html#l00024">parlai.core.image_featurizers.ImageLoader.use_cuda</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00048">parlai.agents.legacy_agents.memnn.modules_v0.MemNN.use_cuda</a>, <a class="el" href="memnn__v0_8py_source.html#l00096">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.use_cuda</a>, <a class="el" href="language__model_8py_source.html#l00162">parlai.agents.language_model.language_model.LanguageModelAgent.use_cuda</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00303">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.use_cuda</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00367">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.use_cuda</a>, and <a class="el" href="torch__agent_8py_source.html#l00654">parlai.core.torch_agent.TorchAgent.use_cuda</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__agent_8py_source.html#l00990">parlai.core.torch_agent.TorchAgent.report()</a>.</p>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a151777a7e8d052ab4ce873d20a2b0c73_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a151777a7e8d052ab4ce873d20a2b0c73_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a151777a7e8d052ab4ce873d20a2b0c73_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a151777a7e8d052ab4ce873d20a2b0c73_icgraph">
<area shape="rect" title=" " alt="" coords="212,5,375,47"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#ac694770cd4022eb047bf6fbb8f46035c" title=" " alt="" coords="5,5,164,47"/>
</map>
</div>

</div>
</div>
<a id="a5ce58a7b3ce88ac87cc1b7f7316ae9c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ce58a7b3ce88ac87cc1b7f7316ae9c4">&#9670;&nbsp;</a></span>_is_lr_warming_up()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent._is_lr_warming_up </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Check if we're warming up the learning rate.</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l01041">1041</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="torch__agent_8py_source.html#l00716">parlai.core.torch_agent.TorchAgent._number_training_updates</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00017">parlai.agents.legacy_agents.memnn.modules_v0.MemNN.opt</a>, <a class="el" href="parlai_2agents_2language__model_2modules_8py_source.html#l00018">parlai.agents.language_model.modules.RNNModel.opt</a>, <a class="el" href="rnn__reader_8py_source.html#l00019">parlai.agents.drqa.rnn_reader.RnnDocReader.opt</a>, <a class="el" href="model_8py_source.html#l00024">parlai.agents.drqa.model.DocReaderModel.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00033">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.opt</a>, <a class="el" href="parlai_2agents_2starspace_2modules_8py_source.html#l00036">parlai.agents.starspace.modules.Starspace.opt</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00040">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.opt</a>, <a class="el" href="unigram_8py_source.html#l00052">parlai.agents.unigram.unigram.UnigramAgent.opt</a>, <a class="el" href="remote__agent_8py_source.html#l00060">parlai.agents.remote_agent.remote_agent.RemoteAgentAgent.opt</a>, <a class="el" href="parlai_2core_2agents_8py_source.html#l00060">parlai.core.agents.Agent.opt</a>, <a class="el" href="memnn__v0_8py_source.html#l00135">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.opt</a>, <a class="el" href="parlai_2agents_2transformer_2modules_8py_source.html#l00137">parlai.agents.transformer.modules.TransformerMemNetModel.opt</a>, <a class="el" href="language__model_8py_source.html#l00169">parlai.agents.language_model.language_model.LanguageModelAgent.opt</a>, <a class="el" href="dict__v0_8py_source.html#l00196">parlai.agents.legacy_agents.seq2seq.dict_v0.DictionaryAgent.opt</a>, <a class="el" href="dict__v1_8py_source.html#l00206">parlai.agents.legacy_agents.seq2seq.dict_v1.DictionaryAgent.opt</a>, <a class="el" href="ir__baseline_8py_source.html#l00246">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.opt</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00295">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.opt</a>, <a class="el" href="fairseq_8py_source.html#l00338">parlai.agents.fairseq.fairseq.FairseqAgent.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00373">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.opt</a>, <a class="el" href="starspace_8py_source.html#l00582">parlai.agents.starspace.starspace.StarspaceAgent.opt</a>, and <a class="el" href="torch__agent_8py_source.html#l00922">parlai.core.torch_agent.TorchAgent.warmup_scheduler</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__agent_8py_source.html#l01048">parlai.core.torch_agent.TorchAgent.receive_metrics()</a>, and <a class="el" href="torch__agent_8py_source.html#l01796">parlai.core.torch_agent.TorchAgent.update_params()</a>.</p>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a5ce58a7b3ce88ac87cc1b7f7316ae9c4_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a5ce58a7b3ce88ac87cc1b7f7316ae9c4_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a5ce58a7b3ce88ac87cc1b7f7316ae9c4_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a5ce58a7b3ce88ac87cc1b7f7316ae9c4_icgraph">
<area shape="rect" title=" " alt="" coords="1241,147,1443,189"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a02beaaedfa30463f9d0a97ea590b516f" title=" " alt="" coords="1008,114,1193,155"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a7e2c9e180887397daa6229a0f9700b1c" title=" " alt="" coords="1009,179,1192,221"/>
<area shape="rect" href="classkvmemnn_1_1KvmemnnAgent.html#ac2b07b1455920e6a343271997b9c6207" title=" " alt="" coords="702,29,921,56"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__classifier__agent_1_1TorchClassifierAgent.html#a3baacdb005c5f5a6367c45c93d21d398" title=" " alt="" coords="687,81,935,122"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#a05ddf921f386f21116ec0ef50796987a" title=" " alt="" coords="694,146,929,187"/>
<area shape="rect" href="classself__feeding_1_1self__feeding__agent_1_1SelfFeedingAgent.html#a4f04842d386c1747eefba384966687de" title=" " alt="" coords="697,342,926,383"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__generator__agent_1_1TorchGeneratorAgent.html#afe2226ddfc838ec27580e3499cc0bae7" title=" " alt="" coords="686,211,937,253"/>
<area shape="rect" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a88e4d25c8f2eccaf1c7595d40c4f607b" title=" " alt="" coords="663,277,960,318"/>
<area shape="rect" href="classkvmemnn_1_1KvmemnnAgent.html#ac7dba84c37dab7ef33f52d263fbdbdc7" title=" " alt="" coords="340,29,567,56"/>
<area shape="rect" href="classtransresnet__multimodal_1_1transresnet__multimodal_1_1TransresnetMultimodalAgent.html#a057eb1109f5c2ea467539083e2f7e7f6" title=" " alt="" coords="292,146,615,187"/>
<area shape="rect" href="classtransresnet_1_1transresnet_1_1TransresnetAgent.html#a5eadf6ccc4b1d15a520a70d111bff493" title=" " alt="" coords="360,211,547,253"/>
<area shape="rect" href="classtransresnet_1_1transresnet_1_1TransresnetAgent.html#ad59fea461b2ea1f9731742901203bdd7" title=" " alt="" coords="45,175,205,217"/>
<area shape="rect" href="classmastering__the__dungeon_1_1agents_1_1graph__world2_1_1agents_1_1ModelAgentBase.html#a768f25fa424b2cd4d1de8e62bfed970a" title=" " alt="" coords="5,241,244,282"/>
<area shape="rect" href="classagent_1_1memnn__feedback_1_1MemnnFeedbackAgent.html#ab221141e0a956be465e718bb349e7554" title=" " alt="" coords="21,58,229,99"/>
<area shape="rect" href="classkvmemnn_1_1KvmemnnAgent.html#a6f57723b871277392a3f3fd627c717d8" title=" " alt="" coords="25,124,224,151"/>
</map>
</div>

</div>
</div>
<a id="a9e74bd0ca90d3fcbd1bee483d10170b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e74bd0ca90d3fcbd1bee483d10170b1">&#9670;&nbsp;</a></span>_project_vec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent._project_vec </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>target_dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>method</em> = <code>'random'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">If needed, project vector to target dimensionality.

Projection methods implemented are the following:

random - random gaussian matrix multiplication of input vector

:param vec:
    one-dimensional vector

:param target_dim:
    dimension of returned vector

:param method:
    projection method. will be used even if the dim is not changing if
    method ends in "-force".
</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l01126">1126</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="torch__agent__v1_8py_source.html#l00456">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.proj_rp</a>, and <a class="el" href="torch__agent_8py_source.html#l01149">parlai.core.torch_agent.TorchAgent.proj_rp</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__agent_8py_source.html#l01164">parlai.core.torch_agent.TorchAgent._copy_embeddings()</a>.</p>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a9e74bd0ca90d3fcbd1bee483d10170b1_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a9e74bd0ca90d3fcbd1bee483d10170b1_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a9e74bd0ca90d3fcbd1bee483d10170b1_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a9e74bd0ca90d3fcbd1bee483d10170b1_icgraph">
<area shape="rect" title=" " alt="" coords="949,369,1116,411"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a3bfcd11debf76eff078d90c4b0f37a47" title=" " alt="" coords="696,369,901,411"/>
<area shape="rect" href="classparlai_1_1agents_1_1seq2seq_1_1seq2seq_1_1Seq2seqAgent.html#a43422bdf284bfc06a9bd2db434a7167c" title=" " alt="" coords="390,239,597,280"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1transformer_1_1TransformerRankerAgent.html#a3336fdab2d667e6e631135ec70e8558f" title=" " alt="" coords="373,369,614,411"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1transformer_1_1TransformerGeneratorAgent.html#a473f2a19d6bce412c4c9163c7beb9b09" title=" " alt="" coords="365,304,621,345"/>
<area shape="rect" href="classself__feeding_1_1self__feeding__agent_1_1SelfFeedingAgent.html#ae8934c79f3d7079b09dadb1fc78d59b5" title=" " alt="" coords="373,435,614,476"/>
<area shape="rect" href="classgenerator_1_1agents_1_1EndToEndAgent.html#a4350bfc0d04bf47814db2d14b95ac3bb" title=" " alt="" coords="401,500,585,541"/>
<area shape="rect" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a7341b7dedc7150c4dfa27254188360c1" title=" " alt="" coords="339,565,648,607"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#a275a60cb93929725725d103fc76905ba" title=" " alt="" coords="400,173,587,215"/>
<area shape="rect" href="classparlai_1_1agents_1_1test__agents_1_1dummy__torch__agent_1_1MockTorchAgent.html#af14024f59e4ea3dea5c7ff38caff89ad" title=" " alt="" coords="64,71,232,141"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__classifier__agent_1_1TorchClassifierAgent.html#af9f194b4566a43f0840286a39ee0032a" title=" " alt="" coords="53,166,243,222"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#acde404a79bf3678bb52d3e6c3ee5244a" title=" " alt="" coords="59,246,237,302"/>
<area shape="rect" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a2cbe8ed3b2b6b82be90db6b45331800b" title=" " alt="" coords="5,327,291,368"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__generator__agent_1_1TorchGeneratorAgent.html#a60f9613d8d2761569c8862b690b24bce" title=" " alt="" coords="51,393,245,449"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#ac203ba228e9e3dd20568b986ef600a62" title=" " alt="" coords="55,5,241,47"/>
</map>
</div>

</div>
</div>
<a id="a4d28fb5efada28c0ed88e50f32d13d6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d28fb5efada28c0ed88e50f32d13d6a">&#9670;&nbsp;</a></span>_set_label_cands_vec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent._set_label_cands_vec </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>add_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>add_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>truncate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Set the 'label_candidates_vec' field in the observation.

Useful to override to change vectorization behavior
</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l01335">1335</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="torch__agent__v1_8py_source.html#l00549">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._check_truncate()</a>, <a class="el" href="torch__agent_8py_source.html#l01265">parlai.core.torch_agent.TorchAgent._check_truncate()</a>, <a class="el" href="biencoder_8py_source.html#l00025">parlai.agents.transformer.biencoder.BiencoderAgent._vectorize_text()</a>, <a class="el" href="projects_2wizard__of__wikipedia_2generator_2agents_8py_source.html#l00100">generator.agents.EndToEndAgent._vectorize_text</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00513">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._vectorize_text()</a>, <a class="el" href="torch__agent_8py_source.html#l01237">parlai.core.torch_agent.TorchAgent._vectorize_text()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00331">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.rank_candidates</a>, and <a class="el" href="torch__agent_8py_source.html#l00733">parlai.core.torch_agent.TorchAgent.rank_candidates</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__agent_8py_source.html#l01355">parlai.core.torch_agent.TorchAgent.vectorize()</a>.</p>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a4d28fb5efada28c0ed88e50f32d13d6a_cgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a4d28fb5efada28c0ed88e50f32d13d6a_cgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a4d28fb5efada28c0ed88e50f32d13d6a_cgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a4d28fb5efada28c0ed88e50f32d13d6a_cgraph">
<area shape="rect" title=" " alt="" coords="5,137,164,193"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a07964fbca57736f639fe4e9dd9d1459a" title=" " alt="" coords="507,5,664,76"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#afb729d5d51ad91d4188fd1486a4a087f" title=" " alt="" coords="491,239,680,280"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1biencoder_1_1BiencoderAgent.html#ac9fa75abc94cb2b53c429a4a3b5a133c" title=" " alt="" coords="212,144,443,185"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#ac698ff0226e4d22f8498a9d9e667a34c" title=" " alt="" coords="249,209,406,280"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a024c4a0801e7dddf54bf3222dc77eaf6" title=" " alt="" coords="236,79,419,120"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a1689490829a70677359cf4f49ccd46bb" title=" " alt="" coords="506,101,665,157"/>
</map>
</div>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a4d28fb5efada28c0ed88e50f32d13d6a_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a4d28fb5efada28c0ed88e50f32d13d6a_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a4d28fb5efada28c0ed88e50f32d13d6a_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a4d28fb5efada28c0ed88e50f32d13d6a_icgraph">
<area shape="rect" title=" " alt="" coords="672,31,831,87"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a48bb9b153353a0565ab7253dc1daef99" title=" " alt="" coords="465,39,624,80"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a87b18f0d6ab11be3c49375af072d0d33" title=" " alt="" coords="259,39,417,80"/>
<area shape="rect" href="classparlai_1_1tasks_1_1talkthewalk_1_1worlds_1_1SimulateWorld.html#a6bd5a8a8e194dd4aa76aeecdf429bc7f" title=" " alt="" coords="5,5,211,47"/>
<area shape="rect" href="classparlai_1_1core_1_1worlds_1_1ExecutableWorld.html#a6555592d2b7c316e72febc1fccf43bdb" title=" " alt="" coords="11,71,205,112"/>
</map>
</div>

</div>
</div>
<a id="ae4cd508e77aa5828217b6955f77f3a2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4cd508e77aa5828217b6955f77f3a2d">&#9670;&nbsp;</a></span>_set_label_vec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent._set_label_vec </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>add_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>add_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>truncate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Set the 'labels_vec' field in the observation.

Useful to override to change vectorization behavior
</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l01304">1304</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="torch__agent__v1_8py_source.html#l00549">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._check_truncate()</a>, <a class="el" href="torch__agent_8py_source.html#l01265">parlai.core.torch_agent.TorchAgent._check_truncate()</a>, <a class="el" href="biencoder_8py_source.html#l00025">parlai.agents.transformer.biencoder.BiencoderAgent._vectorize_text()</a>, <a class="el" href="projects_2wizard__of__wikipedia_2generator_2agents_8py_source.html#l00100">generator.agents.EndToEndAgent._vectorize_text</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00513">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._vectorize_text()</a>, <a class="el" href="torch__agent_8py_source.html#l01237">parlai.core.torch_agent.TorchAgent._vectorize_text()</a>, <a class="el" href="teachers_8py_source.html#l00151">parlai.core.teachers.FixedDialogTeacher.random</a>, <a class="el" href="parlai_2core_2agents_8py_source.html#l00276">parlai.core.agents.MultiTaskTeacher.random</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00322">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.random</a>, and <a class="el" href="torch__agent_8py_source.html#l00718">parlai.core.torch_agent.TorchAgent.random</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__agent_8py_source.html#l01355">parlai.core.torch_agent.TorchAgent.vectorize()</a>.</p>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_ae4cd508e77aa5828217b6955f77f3a2d_cgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_ae4cd508e77aa5828217b6955f77f3a2d_cgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_ae4cd508e77aa5828217b6955f77f3a2d_cgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_ae4cd508e77aa5828217b6955f77f3a2d_cgraph">
<area shape="rect" title=" " alt="" coords="5,144,185,185"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a07964fbca57736f639fe4e9dd9d1459a" title=" " alt="" coords="528,5,685,76"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#afb729d5d51ad91d4188fd1486a4a087f" title=" " alt="" coords="512,239,701,280"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1biencoder_1_1BiencoderAgent.html#ac9fa75abc94cb2b53c429a4a3b5a133c" title=" " alt="" coords="233,144,464,185"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#ac698ff0226e4d22f8498a9d9e667a34c" title=" " alt="" coords="270,209,427,280"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a024c4a0801e7dddf54bf3222dc77eaf6" title=" " alt="" coords="257,79,440,120"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a1689490829a70677359cf4f49ccd46bb" title=" " alt="" coords="527,101,686,157"/>
</map>
</div>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_ae4cd508e77aa5828217b6955f77f3a2d_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_ae4cd508e77aa5828217b6955f77f3a2d_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_ae4cd508e77aa5828217b6955f77f3a2d_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_ae4cd508e77aa5828217b6955f77f3a2d_icgraph">
<area shape="rect" title=" " alt="" coords="672,39,852,80"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a48bb9b153353a0565ab7253dc1daef99" title=" " alt="" coords="465,39,624,80"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a87b18f0d6ab11be3c49375af072d0d33" title=" " alt="" coords="259,39,417,80"/>
<area shape="rect" href="classparlai_1_1tasks_1_1talkthewalk_1_1worlds_1_1SimulateWorld.html#a6bd5a8a8e194dd4aa76aeecdf429bc7f" title=" " alt="" coords="5,5,211,47"/>
<area shape="rect" href="classparlai_1_1core_1_1worlds_1_1ExecutableWorld.html#a6555592d2b7c316e72febc1fccf43bdb" title=" " alt="" coords="11,71,205,112"/>
</map>
</div>

</div>
</div>
<a id="a70f9a0937c1bfba2892b65bce8493df7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70f9a0937c1bfba2892b65bce8493df7">&#9670;&nbsp;</a></span>_set_text_vec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent._set_text_vec </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>history</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>truncate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Set the 'text_vec' field in the observation.

Useful to override to change vectorization behavior
</pre> 
<p>Reimplemented in <a class="el" href="classself__feeding_1_1self__feeding__agent_1_1SelfFeedingAgent.html#addb19af0828512dfd866ff91f558ca65">self_feeding.self_feeding_agent.SelfFeedingAgent</a>, <a class="el" href="classparlai_1_1agents_1_1memnn_1_1memnn_1_1MemnnAgent.html#a3bd2d78f6cbe46afb8b37ab5160bda83">parlai.agents.memnn.memnn.MemnnAgent</a>, and <a class="el" href="classgenerator_1_1agents_1_1TwoStageAgent.html#ad40111b6d2fb8b260a045dec0299c3af">generator.agents.TwoStageAgent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l01276">1276</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="torch__agent__v1_8py_source.html#l00549">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._check_truncate()</a>, and <a class="el" href="torch__agent_8py_source.html#l01265">parlai.core.torch_agent.TorchAgent._check_truncate()</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__agent_8py_source.html#l01355">parlai.core.torch_agent.TorchAgent.vectorize()</a>.</p>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a70f9a0937c1bfba2892b65bce8493df7_cgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a70f9a0937c1bfba2892b65bce8493df7_cgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a70f9a0937c1bfba2892b65bce8493df7_cgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a70f9a0937c1bfba2892b65bce8493df7_cgraph">
<area shape="rect" title=" " alt="" coords="5,60,180,101"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a07964fbca57736f639fe4e9dd9d1459a" title=" " alt="" coords="244,5,401,76"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#afb729d5d51ad91d4188fd1486a4a087f" title=" " alt="" coords="228,100,417,141"/>
</map>
</div>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a70f9a0937c1bfba2892b65bce8493df7_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a70f9a0937c1bfba2892b65bce8493df7_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a70f9a0937c1bfba2892b65bce8493df7_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a70f9a0937c1bfba2892b65bce8493df7_icgraph">
<area shape="rect" title=" " alt="" coords="672,39,847,80"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a48bb9b153353a0565ab7253dc1daef99" title=" " alt="" coords="465,39,624,80"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a87b18f0d6ab11be3c49375af072d0d33" title=" " alt="" coords="259,39,417,80"/>
<area shape="rect" href="classparlai_1_1tasks_1_1talkthewalk_1_1worlds_1_1SimulateWorld.html#a6bd5a8a8e194dd4aa76aeecdf429bc7f" title=" " alt="" coords="5,5,211,47"/>
<area shape="rect" href="classparlai_1_1core_1_1worlds_1_1ExecutableWorld.html#a6555592d2b7c316e72febc1fccf43bdb" title=" " alt="" coords="11,71,205,112"/>
</map>
</div>

</div>
</div>
<a id="a07510066c7373fbe2f1a5b8367aa91a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07510066c7373fbe2f1a5b8367aa91a8">&#9670;&nbsp;</a></span>_total_parameters()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent._total_parameters </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Compute the total number of parameters in the model.

:return:
    total number of parameters in the model.
</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l01859">1859</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="crossencoder_8py_source.html#l00028">parlai.agents.transformer.crossencoder.CrossencoderAgent.model</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00050">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.model</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00074">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.model</a>, <a class="el" href="dummy__torch__agent_8py_source.html#l00079">parlai.agents.test_agents.dummy_torch_agent.MockTorchAgent.model</a>, <a class="el" href="polyencoder_8py_source.html#l00099">parlai.agents.transformer.polyencoder.PolyencoderAgent.model</a>, <a class="el" href="memnn__v0_8py_source.html#l00104">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.model</a>, <a class="el" href="drqa_8py_source.html#l00123">parlai.agents.drqa.drqa.DrqaAgent.model</a>, <a class="el" href="language__model_8py_source.html#l00173">parlai.agents.language_model.language_model.LanguageModelAgent.model</a>, <a class="el" href="transformer_8py_source.html#l00185">parlai.agents.transformer.transformer.TransformerRankerAgent.model</a>, <a class="el" href="starspace_8py_source.html#l00193">parlai.agents.starspace.starspace.StarspaceAgent.model</a>, <a class="el" href="seq2seq__v1_8py_source.html#l00230">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent.model</a>, <a class="el" href="fairseq_8py_source.html#l00354">parlai.agents.fairseq.fairseq.FairseqAgent.model</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00381">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.model</a>, and <a class="el" href="torch__agent_8py_source.html#l00689">parlai.core.torch_agent.TorchAgent.model</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__ranker__agent_8py_source.html#l00129">parlai.core.torch_ranker_agent.TorchRankerAgent.__init__()</a>, and <a class="el" href="torch__generator__agent_8py_source.html#l00304">parlai.core.torch_generator_agent.TorchGeneratorAgent.__init__()</a>.</p>
<div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a07510066c7373fbe2f1a5b8367aa91a8_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a07510066c7373fbe2f1a5b8367aa91a8_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a07510066c7373fbe2f1a5b8367aa91a8_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a07510066c7373fbe2f1a5b8367aa91a8_icgraph">
<area shape="rect" title=" " alt="" coords="247,53,444,94"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#acde404a79bf3678bb52d3e6c3ee5244a" title=" " alt="" coords="13,5,191,61"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__generator__agent_1_1TorchGeneratorAgent.html#a60f9613d8d2761569c8862b690b24bce" title=" " alt="" coords="5,85,199,141"/>
</map>
</div>

</div>
</div>
<a id="a1eb6fbd0142040cfb7b817f002ea238a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1eb6fbd0142040cfb7b817f002ea238a">&#9670;&nbsp;</a></span>_trainable_parameters()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent._trainable_parameters </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Compute the total number of trainable parameters in the model.

:return:
    total number of trainable parameters in the model.
</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l01868">1868</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="crossencoder_8py_source.html#l00028">parlai.agents.transformer.crossencoder.CrossencoderAgent.model</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00050">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.model</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00074">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.model</a>, <a class="el" href="dummy__torch__agent_8py_source.html#l00079">parlai.agents.test_agents.dummy_torch_agent.MockTorchAgent.model</a>, <a class="el" href="polyencoder_8py_source.html#l00099">parlai.agents.transformer.polyencoder.PolyencoderAgent.model</a>, <a class="el" href="memnn__v0_8py_source.html#l00104">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.model</a>, <a class="el" href="drqa_8py_source.html#l00123">parlai.agents.drqa.drqa.DrqaAgent.model</a>, <a class="el" href="language__model_8py_source.html#l00173">parlai.agents.language_model.language_model.LanguageModelAgent.model</a>, <a class="el" href="transformer_8py_source.html#l00185">parlai.agents.transformer.transformer.TransformerRankerAgent.model</a>, <a class="el" href="starspace_8py_source.html#l00193">parlai.agents.starspace.starspace.StarspaceAgent.model</a>, <a class="el" href="seq2seq__v1_8py_source.html#l00230">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent.model</a>, <a class="el" href="fairseq_8py_source.html#l00354">parlai.agents.fairseq.fairseq.FairseqAgent.model</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00381">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.model</a>, and <a class="el" href="torch__agent_8py_source.html#l00689">parlai.core.torch_agent.TorchAgent.model</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__ranker__agent_8py_source.html#l00129">parlai.core.torch_ranker_agent.TorchRankerAgent.__init__()</a>, and <a class="el" href="torch__generator__agent_8py_source.html#l00304">parlai.core.torch_generator_agent.TorchGeneratorAgent.__init__()</a>.</p>
<div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a1eb6fbd0142040cfb7b817f002ea238a_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a1eb6fbd0142040cfb7b817f002ea238a_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a1eb6fbd0142040cfb7b817f002ea238a_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a1eb6fbd0142040cfb7b817f002ea238a_icgraph">
<area shape="rect" title=" " alt="" coords="247,45,405,101"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#acde404a79bf3678bb52d3e6c3ee5244a" title=" " alt="" coords="13,5,191,61"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__generator__agent_1_1TorchGeneratorAgent.html#a60f9613d8d2761569c8862b690b24bce" title=" " alt="" coords="5,85,199,141"/>
</map>
</div>

</div>
</div>
<a id="ab158cf10bf42325f82fa878e75ef5d74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab158cf10bf42325f82fa878e75ef5d74">&#9670;&nbsp;</a></span>_v2t()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent._v2t </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Convert token indices to string of tokens.</pre> 
<p>Reimplemented in <a class="el" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a30261af472a1dca640e4eab768d23a9a">controllable_seq2seq.controllable_seq2seq.ControllableSeq2seqAgent</a>, and <a class="el" href="classparlai_1_1core_1_1torch__generator__agent_1_1TorchGeneratorAgent.html#adff69cd0e7a0df32f2d60f0081062b04">parlai.core.torch_generator_agent.TorchGeneratorAgent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l01226">1226</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="unigram_8py_source.html#l00056">parlai.agents.unigram.unigram.UnigramAgent.dict</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00092">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.dict</a>, <a class="el" href="memnn__v0_8py_source.html#l00102">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.dict</a>, <a class="el" href="remote__agent_8py_source.html#l00165">parlai.agents.remote_agent.remote_agent.ParsedRemoteAgent.dict</a>, <a class="el" href="language__model_8py_source.html#l00171">parlai.agents.language_model.language_model.LanguageModelAgent.dict</a>, <a class="el" href="torch__agent_8py_source.html#l00174">parlai.core.torch_agent.History.dict</a>, <a class="el" href="starspace_8py_source.html#l00192">parlai.agents.starspace.starspace.StarspaceAgent.dict</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00198">parlai.agents.legacy_agents.memnn.modules_v0.Decoder.dict</a>, <a class="el" href="fairseq_8py_source.html#l00208">parlai.agents.fairseq.fairseq._ParlaiTask.dict</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00289">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.dict</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00375">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.dict</a>, <a class="el" href="fairseq_8py_source.html#l00396">parlai.agents.fairseq.fairseq.FairseqAgent.dict</a>, <a class="el" href="torch__agent_8py_source.html#l00667">parlai.core.torch_agent.TorchAgent.dict</a>, <a class="el" href="dummy__torch__agent_8py_source.html#l00024">parlai.agents.test_agents.dummy_torch_agent.MockDict.END_IDX</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00046">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.END_IDX</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00055">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.END_IDX</a>, <a class="el" href="both__encoder__ranker_8py_source.html#l00064">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.END_IDX</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00080">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.END_IDX</a>, <a class="el" href="language__model_8py_source.html#l00178">parlai.agents.language_model.language_model.LanguageModelAgent.END_IDX</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00320">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.END_IDX</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00377">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.END_IDX</a>, and <a class="el" href="torch__agent_8py_source.html#l00711">parlai.core.torch_agent.TorchAgent.END_IDX</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__generator__agent_8py_source.html#l00560">parlai.core.torch_generator_agent.TorchGeneratorAgent.eval_step()</a>, and <a class="el" href="controllable__seq2seq_8py_source.html#l01045">controllable_seq2seq.controllable_seq2seq.ControllableSeq2seqAgent.eval_step()</a>.</p>
<div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_ab158cf10bf42325f82fa878e75ef5d74_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_ab158cf10bf42325f82fa878e75ef5d74_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_ab158cf10bf42325f82fa878e75ef5d74_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_ab158cf10bf42325f82fa878e75ef5d74_icgraph">
<area shape="rect" title=" " alt="" coords="1007,72,1165,113"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__generator__agent_1_1TorchGeneratorAgent.html#ac584268dd08c6fcb0045aa968cad8561" title=" " alt="" coords="686,39,935,80"/>
<area shape="rect" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a600aa2aca5941966727a8e02bb0430a3" title=" " alt="" coords="663,104,959,145"/>
<area shape="rect" href="classtransresnet__multimodal_1_1transresnet__multimodal_1_1TransresnetMultimodalAgent.html#a057eb1109f5c2ea467539083e2f7e7f6" title=" " alt="" coords="292,104,615,145"/>
<area shape="rect" href="classtransresnet_1_1transresnet_1_1TransresnetAgent.html#a5eadf6ccc4b1d15a520a70d111bff493" title=" " alt="" coords="360,39,547,80"/>
<area shape="rect" href="classtransresnet_1_1transresnet_1_1TransresnetAgent.html#ad59fea461b2ea1f9731742901203bdd7" title=" " alt="" coords="45,5,205,47"/>
<area shape="rect" href="classmastering__the__dungeon_1_1agents_1_1graph__world2_1_1agents_1_1ModelAgentBase.html#a768f25fa424b2cd4d1de8e62bfed970a" title=" " alt="" coords="5,71,244,112"/>
<area shape="rect" href="classagent_1_1memnn__feedback_1_1MemnnFeedbackAgent.html#ab221141e0a956be465e718bb349e7554" title=" " alt="" coords="21,136,229,177"/>
<area shape="rect" href="classkvmemnn_1_1KvmemnnAgent.html#a6f57723b871277392a3f3fd627c717d8" title=" " alt="" coords="25,202,224,229"/>
</map>
</div>

</div>
</div>
<a id="a024c4a0801e7dddf54bf3222dc77eaf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a024c4a0801e7dddf54bf3222dc77eaf6">&#9670;&nbsp;</a></span>_vectorize_text()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent._vectorize_text </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>add_start</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>add_end</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>truncate</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>truncate_left</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Return vector from text.

:param text:
    String to vectorize.

:param add_start:
    Add the start token to the front of the tensor.

:param add_end:
    Add the end token to the end of the tensor.

:param truncate:
    Truncate to this many tokens &gt;= 0, or None.

:param truncate_left:
    Truncate from the left side (keep the rightmost tokens). You
    probably want this True for inputs, False for targets.
</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l01237">1237</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="torch__agent_8py_source.html#l01209">parlai.core.torch_agent.TorchAgent._add_start_end_tokens()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00549">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._check_truncate()</a>, <a class="el" href="torch__agent_8py_source.html#l01265">parlai.core.torch_agent.TorchAgent._check_truncate()</a>, <a class="el" href="unigram_8py_source.html#l00056">parlai.agents.unigram.unigram.UnigramAgent.dict</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00092">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.dict</a>, <a class="el" href="memnn__v0_8py_source.html#l00102">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.dict</a>, <a class="el" href="remote__agent_8py_source.html#l00165">parlai.agents.remote_agent.remote_agent.ParsedRemoteAgent.dict</a>, <a class="el" href="language__model_8py_source.html#l00171">parlai.agents.language_model.language_model.LanguageModelAgent.dict</a>, <a class="el" href="torch__agent_8py_source.html#l00174">parlai.core.torch_agent.History.dict</a>, <a class="el" href="starspace_8py_source.html#l00192">parlai.agents.starspace.starspace.StarspaceAgent.dict</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00198">parlai.agents.legacy_agents.memnn.modules_v0.Decoder.dict</a>, <a class="el" href="fairseq_8py_source.html#l00208">parlai.agents.fairseq.fairseq._ParlaiTask.dict</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00289">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.dict</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00375">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.dict</a>, <a class="el" href="fairseq_8py_source.html#l00396">parlai.agents.fairseq.fairseq.FairseqAgent.dict</a>, and <a class="el" href="torch__agent_8py_source.html#l00667">parlai.core.torch_agent.TorchAgent.dict</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__agent_8py_source.html#l01335">parlai.core.torch_agent.TorchAgent._set_label_cands_vec()</a>, <a class="el" href="torch__agent_8py_source.html#l01304">parlai.core.torch_agent.TorchAgent._set_label_vec()</a>, <a class="el" href="wizard__transformer__ranker_8py_source.html#l00086">wizard_transformer_ranker.wizard_transformer_ranker.WizardTransformerRankerAgent._vectorize_memories()</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00074">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.set_vocab_candidates()</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00135">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.vectorize_fixed_candidates()</a>, and <a class="el" href="torch__ranker__agent_8py_source.html#l00930">parlai.core.torch_ranker_agent.TorchRankerAgent.vectorize_fixed_candidates()</a>.</p>
<div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a024c4a0801e7dddf54bf3222dc77eaf6_cgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a024c4a0801e7dddf54bf3222dc77eaf6_cgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a024c4a0801e7dddf54bf3222dc77eaf6_cgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a024c4a0801e7dddf54bf3222dc77eaf6_cgraph">
<area shape="rect" title=" " alt="" coords="5,101,188,142"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a1689490829a70677359cf4f49ccd46bb" title=" " alt="" coords="251,5,410,61"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a07964fbca57736f639fe4e9dd9d1459a" title=" " alt="" coords="252,86,409,157"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#afb729d5d51ad91d4188fd1486a4a087f" title=" " alt="" coords="236,181,425,222"/>
</map>
</div>
<div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a024c4a0801e7dddf54bf3222dc77eaf6_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a024c4a0801e7dddf54bf3222dc77eaf6_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a024c4a0801e7dddf54bf3222dc77eaf6_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a024c4a0801e7dddf54bf3222dc77eaf6_icgraph">
<area shape="rect" title=" " alt="" coords="1009,203,1192,245"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a4d28fb5efada28c0ed88e50f32d13d6a" title=" " alt="" coords="767,5,925,61"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#ae4cd508e77aa5828217b6955f77f3a2d" title=" " alt="" coords="756,86,936,127"/>
<area shape="rect" href="classwizard__transformer__ranker_1_1wizard__transformer__ranker_1_1WizardTransformerRankerAgent.html#a2f0754d9a85e72c3ffcae9f2cc51b639" title=" " alt="" coords="735,151,957,222"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1bi__encoder__ranker_1_1BiEncoderRankerAgent.html#acdfa23a21c8364e7205093a5af51264f" title=" " alt="" coords="503,225,683,295"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1bi__encoder__ranker_1_1BiEncoderRankerAgent.html#a3062adbae2449553b4a6e12c5973116d" title=" " alt="" coords="739,298,953,369"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#af2e2d618f056bb68089c7252fa07d07b" title=" " alt="" coords="731,393,961,449"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a48bb9b153353a0565ab7253dc1daef99" title=" " alt="" coords="513,50,672,91"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a87b18f0d6ab11be3c49375af072d0d33" title=" " alt="" coords="277,50,436,91"/>
<area shape="rect" href="classparlai_1_1tasks_1_1talkthewalk_1_1worlds_1_1SimulateWorld.html#a6bd5a8a8e194dd4aa76aeecdf429bc7f" title=" " alt="" coords="5,18,211,59"/>
<area shape="rect" href="classparlai_1_1core_1_1worlds_1_1ExecutableWorld.html#a6555592d2b7c316e72febc1fccf43bdb" title=" " alt="" coords="11,83,205,125"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#acde404a79bf3678bb52d3e6c3ee5244a" title=" " alt="" coords="19,277,197,333"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#aeceb8a86a165dd9f97b9f8270462a828" title=" " alt="" coords="503,320,682,376"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#a9039757596f98b45b6676b16589883a3" title=" " alt="" coords="259,313,455,369"/>
</map>
</div>

</div>
</div>
<a id="a51174dfa508970e3392246b02d0d94b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51174dfa508970e3392246b02d0d94b5">&#9670;&nbsp;</a></span>act()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent.act </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Call batch_act with the singleton batch.</pre> 
<p>Reimplemented from <a class="el" href="classparlai_1_1core_1_1agents_1_1Agent.html#a6a8abe0a98dd59bc39c9f12b163072db">parlai.core.agents.Agent</a>.</p>

<p>Reimplemented in <a class="el" href="classself__feeding_1_1self__feeding__agent_1_1SelfFeedingAgent.html#a7306b2ce2dbf45f5ac67bd374e66718a">self_feeding.self_feeding_agent.SelfFeedingAgent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l01716">1716</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="torch__agent_8py_source.html#l00666">parlai.core.torch_agent.TorchAgent._replies_are_shared</a>, <a class="el" href="drqa_8py_source.html#l00209">parlai.agents.drqa.drqa.DrqaAgent.batch_act()</a>, <a class="el" href="teachers_8py_source.html#l00359">parlai.core.teachers.FixedDialogTeacher.batch_act()</a>, <a class="el" href="memnn__v0_8py_source.html#l00418">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.batch_act()</a>, <a class="el" href="starspace_8py_source.html#l00540">parlai.agents.starspace.starspace.StarspaceAgent.batch_act()</a>, <a class="el" href="language__model_8py_source.html#l00610">parlai.agents.language_model.language_model.LanguageModelAgent.batch_act()</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00835">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.batch_act()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00988">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.batch_act()</a>, <a class="el" href="torch__agent_8py_source.html#l01725">parlai.core.torch_agent.TorchAgent.batch_act()</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00034">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.observation</a>, <a class="el" href="retriever__reader_8py_source.html#l00048">parlai.agents.retriever_reader.retriever_reader.RetrieverReaderAgent.observation</a>, <a class="el" href="parlai_2core_2agents_8py_source.html#l00061">parlai.core.agents.Agent.observation</a>, <a class="el" href="unigram_8py_source.html#l00066">parlai.agents.unigram.unigram.UnigramAgent.observation</a>, <a class="el" href="drqa_8py_source.html#l00181">parlai.agents.drqa.drqa.DrqaAgent.observation</a>, <a class="el" href="memnn__v0_8py_source.html#l00218">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.observation</a>, <a class="el" href="starspace_8py_source.html#l00255">parlai.agents.starspace.starspace.StarspaceAgent.observation</a>, <a class="el" href="ir__baseline_8py_source.html#l00255">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.observation</a>, <a class="el" href="language__model_8py_source.html#l00330">parlai.agents.language_model.language_model.LanguageModelAgent.observation</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00620">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.observation</a>, and <a class="el" href="torch__agent__v1_8py_source.html#l00933">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.observation</a>.</p>
<div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a51174dfa508970e3392246b02d0d94b5_cgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a51174dfa508970e3392246b02d0d94b5_cgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a51174dfa508970e3392246b02d0d94b5_cgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a51174dfa508970e3392246b02d0d94b5_cgraph">
<area shape="rect" title=" " alt="" coords="5,1208,164,1249"/>
<area shape="rect" href="classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent.html#a5c2f02e9c1ddce46df0d216947227395" title=" " alt="" coords="559,5,718,47"/>
<area shape="rect" href="classparlai_1_1core_1_1teachers_1_1FixedDialogTeacher.html#afa75426a7578e8aad5b74964219345be" title=" " alt="" coords="241,633,413,675"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1memnn_1_1memnn__v0_1_1MemnnAgent.html#ad73ed6e730b608491c2d8ef3ad25e32a" title=" " alt="" coords="212,1090,443,1146"/>
<area shape="rect" href="classparlai_1_1agents_1_1starspace_1_1starspace_1_1StarspaceAgent.html#a426f2fb245c6a0a409365c4662aec2d2" title=" " alt="" coords="216,1171,439,1212"/>
<area shape="rect" href="classparlai_1_1agents_1_1language__model_1_1language__model_1_1LanguageModelAgent.html#a91a1386cee7fa786aa817a58646cda5e" title=" " alt="" coords="216,1237,439,1293"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v0_1_1Seq2seqAgent.html#a4ae534e440fd57603bc9b6e7c08b1c57" title=" " alt="" coords="231,1317,424,1373"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#af3929c1bedc50a48dcf8d1184321f4f5" title=" " alt="" coords="220,1786,435,1842"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a7754a74d6c87590f46e71ec486c285a8" title=" " alt="" coords="248,2271,407,2312"/>
<area shape="rect" href="classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent.html#ae32bf3b36eb5f04a965ac0d6ef776b79" title=" " alt="" coords="855,5,1013,47"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v0_1_1Agent.html#a8bddd5b89230c9a2810e7ca15914997e" title=" " alt="" coords="847,1153,1021,1209"/>
<area shape="rect" href="classparlai_1_1core_1_1agents_1_1Agent.html#a29e1cdd729ac4236f8bae90b2e66fa04" title=" " alt="" coords="835,1021,1033,1047"/>
<area shape="rect" href="classparlai_1_1core_1_1teachers_1_1FixedDialogTeacher.html#a7c4cbfbe5cf6e9dbdf8c00d140ef4e7e" title=" " alt="" coords="553,71,725,112"/>
<area shape="rect" href="classparlai_1_1core_1_1teachers_1_1FixedDialogTeacher.html#a49100faf9af79c6e24ddac9e36151d54" title=" " alt="" coords="551,984,726,1025"/>
<area shape="rect" href="classparlai_1_1core_1_1pytorch__data__teacher_1_1PytorchDataTeacher.html#aa4e63cd7dd1a904a8424a096f7ca1f63" title=" " alt="" coords="491,1101,787,1143"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v0_1_1Agent.html#a7151ba0c843bd32a0d9c5376fbf9c803" title=" " alt="" coords="551,137,726,193"/>
<area shape="rect" href="classparlai_1_1core_1_1agents_1_1Agent.html#a27cb8206372681605b00dc28b81a7c39" title=" " alt="" coords="541,217,737,243"/>
<area shape="rect" href="classparlai_1_1agents_1_1tfidf__retriever_1_1tfidf__retriever_1_1TfidfRetrieverAgent.html#a4d9e8962cb44451758ea13b09b8dbd86" title=" " alt="" coords="555,267,723,323"/>
<area shape="rect" href="classparlai_1_1agents_1_1drqa_1_1utils_1_1AverageMeter.html#adf03b2f21b820b30c0bf68334bda0b6e" title=" " alt="" coords="560,348,717,389"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1memnn_1_1memnn__v0_1_1MemnnAgent.html#ad365b2e33983158fbf7581d361a74246" title=" " alt="" coords="523,414,754,470"/>
<area shape="rect" href="classparlai_1_1agents_1_1ir__baseline_1_1ir__baseline_1_1IrBaselineAgent.html#adc3f036e92741d87db95e47dfc5fc0ef" title=" " alt="" coords="535,495,742,536"/>
<area shape="rect" href="classparlai_1_1agents_1_1starspace_1_1starspace_1_1StarspaceAgent.html#a4d5057250faeae3f3812603469daa282" title=" " alt="" coords="527,560,750,601"/>
<area shape="rect" href="classparlai_1_1agents_1_1language__model_1_1language__model_1_1LanguageModelAgent.html#ae4ccc140cc9d528c4135ec65f2bb4325" title=" " alt="" coords="527,626,750,682"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#acc5aa3887a6bf3ece28d60a9572fe50e" title=" " alt="" coords="545,707,732,748"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v0_1_1Seq2seqAgent.html#a56d246fd8b6bcf41726181c17cdc2762" title=" " alt="" coords="551,773,726,829"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a93e935c0d2d589d8990ff14d6e528c4d" title=" " alt="" coords="545,853,732,909"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#abccc931006f7efe5262513416390ecb2" title=" " alt="" coords="560,1219,717,1289"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1memnn_1_1memnn__v0_1_1MemnnAgent.html#afaa379fa31bcc83bd467d15e2976d0a3" title=" " alt="" coords="523,2655,754,2711"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#ae5dc403e172c9cb8ecd48525175af56d" title=" " alt="" coords="841,2663,1027,2704"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#a3e19c6091fbdbcad5b3f541cc5f81b97" title=" " alt="" coords="547,1495,730,1551"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#ab8b2fa26aabfd9d7e7abb0abbcfe8044" title=" " alt="" coords="537,1575,740,1631"/>
<area shape="rect" href="classparrot_1_1ParrotAgent.html#a210ad5eb90ce7add4a2b2cb641c4de3c" title=" " alt="" coords="545,1655,733,1682"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html#a6d189366af4a1264770d59e4b114967a" title=" " alt="" coords="499,1706,779,1762"/>
<area shape="rect" href="classparlai_1_1agents_1_1example__seq2seq_1_1example__seq2seq_1_1ExampleSeq2seqAgent.html#a99c0209e5ac63d450c0f18e620d51d70" title=" " alt="" coords="517,1786,760,1842"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#aa635ffc4c0a0649c66b9b1cbb4dd5367" title=" " alt="" coords="545,1867,732,1908"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#ad06de7c94ee40c403f792e7b48e0b137" title=" " alt="" coords="543,1933,735,1989"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a801f2b9a359201fd0a395ab61fd61806" title=" " alt="" coords="532,2013,745,2069"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#acac419cfad0fc5988e7e796c244f3a9f" title=" " alt="" coords="523,2093,755,2149"/>
<area shape="rect" href="classparrot_1_1ParrotAgent.html#a85446c6c7698b050d80a2324495c9321" title=" " alt="" coords="544,2173,733,2199"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html#a49ef7547db36c1570b8c10d0c8bee42e" title=" " alt="" coords="498,2223,779,2279"/>
<area shape="rect" href="classparlai_1_1agents_1_1example__seq2seq_1_1example__seq2seq_1_1ExampleSeq2seqAgent.html#adc742409451a1a8c41bd118a8cf7efbb" title=" " alt="" coords="517,2303,760,2359"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#a59a524e15577396e60a1e5f8b6bfe9a7" title=" " alt="" coords="542,2383,735,2439"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#a57902d8fdb473ce9d791df532db41eee" title=" " alt="" coords="545,2464,732,2505"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#aff9cc5c105bbf154075aa83e288582ca" title=" " alt="" coords="531,1415,746,1471"/>
<area shape="rect" href="classparlai_1_1agents_1_1memnn_1_1memnn_1_1MemnnAgent.html#a463b88b1d7fc9a7adea9802762c5968c" title=" " alt="" coords="541,2853,736,2895"/>
<area shape="rect" href="classparlai_1_1agents_1_1seq2seq_1_1seq2seq_1_1Seq2seqAgent.html#a036d5b79817bf99208c0b0a92481d3ff" title=" " alt="" coords="535,2919,742,2960"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1transformer_1_1TransformerRankerAgent.html#a2592aa2dc8469ab671656597b4ba48a8" title=" " alt="" coords="519,2984,759,3025"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a4c5824776df0c6cf995984a5e7a3f433" title=" " alt="" coords="559,3049,718,3091"/>
<area shape="rect" href="classparlai_1_1agents_1_1test__agents_1_1dummy__torch__agent_1_1MockTorchAgent.html#aea8dfe6e44a419f31e741c4770a82f9b" title=" " alt="" coords="527,3115,751,3171"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a18de0a52aeec4ef721aedbdd6ac06cad" title=" " alt="" coords="559,2736,718,2777"/>
</map>
</div>

</div>
</div>
<a id="a4a72bdd07d2cb5ce402d0058140cad0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a72bdd07d2cb5ce402d0058140cad0d">&#9670;&nbsp;</a></span>add_cmdline_args()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent.add_cmdline_args </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>argparser</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Add the default commandline args we expect most agents to want.</pre> 
<p>Reimplemented in <a class="el" href="classtests_1_1test__ta__inheritence_1_1SubClassB.html#a9aa7384116305903fbf530d4710e83a3">tests.test_ta_inheritence.SubClassB</a>, <a class="el" href="classtests_1_1test__ta__inheritence_1_1SubClassA.html#a088369e91c8005b70d20f17032998215">tests.test_ta_inheritence.SubClassA</a>, <a class="el" href="classgenerator_1_1agents_1_1EndToEndAgent.html#af5a701f3af1cee9ac9ebf42ee108b63b">generator.agents.EndToEndAgent</a>, <a class="el" href="classparlai_1_1agents_1_1transformer_1_1transformer_1_1TransformerGeneratorAgent.html#a496b5ccc5efe17f290c37dc094ff74e8">parlai.agents.transformer.transformer.TransformerGeneratorAgent</a>, <a class="el" href="classparlai_1_1core_1_1torch__generator__agent_1_1TorchGeneratorAgent.html#ad2e2f6361e46785d0b79e4c5031e5710">parlai.core.torch_generator_agent.TorchGeneratorAgent</a>, <a class="el" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#aeed796aa922405b6a4b191174872d5b2">parlai.agents.fairseq.fairseq.FairseqAgent</a>, <a class="el" href="classparlai_1_1agents_1_1transformer_1_1transformer_1_1TransformerRankerAgent.html#a6836668a4c2394d7217631fed533a7ac">parlai.agents.transformer.transformer.TransformerRankerAgent</a>, <a class="el" href="classparlai_1_1agents_1_1example__seq2seq_1_1example__seq2seq_1_1ExampleSeq2seqAgent.html#acd364500c1fa3d9b9407b625cb70de2b">parlai.agents.example_seq2seq.example_seq2seq.ExampleSeq2seqAgent</a>, <a class="el" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#aa1c9c9bd972290f2e0aacb2efcc5fd1e">controllable_seq2seq.controllable_seq2seq.ControllableSeq2seqAgent</a>, <a class="el" href="classself__feeding_1_1self__feeding__agent_1_1SelfFeedingAgent.html#a7b8ee86c2feb4aec821218307549f888">self_feeding.self_feeding_agent.SelfFeedingAgent</a>, <a class="el" href="classgenerator_1_1agents_1_1__GenericWizardAgent.html#ab3f4b6508b1814bc3c1e28b8ce551feb">generator.agents._GenericWizardAgent</a>, <a class="el" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#a8b16043428bbb29ee4a3ed28c2bbb472">parlai.core.torch_ranker_agent.TorchRankerAgent</a>, <a class="el" href="classparlai_1_1agents_1_1seq2seq_1_1seq2seq_1_1Seq2seqAgent.html#a1287bfcdb2072a431bbbd513c36043a9">parlai.agents.seq2seq.seq2seq.Seq2seqAgent</a>, <a class="el" href="classparlai_1_1agents_1_1transformer_1_1crossencoder_1_1CrossencoderAgent.html#a931cdceebd1eceb9c20638271c86af7a">parlai.agents.transformer.crossencoder.CrossencoderAgent</a>, <a class="el" href="classparlai_1_1agents_1_1transformer_1_1polyencoder_1_1PolyencoderAgent.html#adbbf75b4d5b32529621ab9f6edbb904f">parlai.agents.transformer.polyencoder.PolyencoderAgent</a>, and <a class="el" href="classwizard__transformer__ranker_1_1wizard__transformer__ranker_1_1WizardTransformerRankerAgent.html#aa85f7625d15a4839dd4c887985f54ca1">wizard_transformer_ranker.wizard_transformer_ranker.WizardTransformerRankerAgent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l00393">393</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="language__model_8py_source.html#l00030">parlai.agents.language_model.language_model.LanguageModelAgent.dictionary_class()</a>, <a class="el" href="unigram_8py_source.html#l00037">parlai.agents.unigram.unigram.UnigramAgent.dictionary_class()</a>, <a class="el" href="starspace_8py_source.html#l00045">parlai.agents.starspace.starspace.StarspaceAgent.dictionary_class()</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00063">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.dictionary_class()</a>, <a class="el" href="dummy__torch__agent_8py_source.html#l00074">parlai.agents.test_agents.dummy_torch_agent.MockTorchAgent.dictionary_class()</a>, <a class="el" href="both__encoder__ranker_8py_source.html#l00079">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.dictionary_class()</a>, <a class="el" href="drqa_8py_source.html#l00107">parlai.agents.drqa.drqa.DrqaAgent.dictionary_class()</a>, <a class="el" href="bert__classifier_8py_source.html#l00112">parlai.agents.bert_classifier.bert_classifier.BertClassifierAgent.dictionary_class()</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00116">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.dictionary_class()</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00126">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.dictionary_class()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00140">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.dictionary_class()</a>, <a class="el" href="remote__agent_8py_source.html#l00160">parlai.agents.remote_agent.remote_agent.ParsedRemoteAgent.dictionary_class()</a>, <a class="el" href="fairseq_8py_source.html#l00319">parlai.agents.fairseq.fairseq.FairseqAgent.dictionary_class()</a>, <a class="el" href="torch__agent_8py_source.html#l00375">parlai.core.torch_agent.TorchAgent.dictionary_class()</a>, and <a class="el" href="torch__agent_8py_source.html#l00340">parlai.core.torch_agent.TorchAgent.optim_opts()</a>.</p>
<div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a4a72bdd07d2cb5ce402d0058140cad0d_cgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a4a72bdd07d2cb5ce402d0058140cad0d_cgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a4a72bdd07d2cb5ce402d0058140cad0d_cgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a4a72bdd07d2cb5ce402d0058140cad0d_cgraph">
<area shape="rect" title=" " alt="" coords="5,531,204,573"/>
<area shape="rect" href="classparlai_1_1agents_1_1language__model_1_1language__model_1_1LanguageModelAgent.html#a80bdd18c28f4a2ab19c463dd123165e7" title=" " alt="" coords="304,5,527,61"/>
<area shape="rect" href="classparlai_1_1agents_1_1unigram_1_1unigram_1_1UnigramAgent.html#a832c1e669ba04ca3c6258216cc82bdca" title=" " alt="" coords="314,86,517,127"/>
<area shape="rect" href="classparlai_1_1agents_1_1starspace_1_1starspace_1_1StarspaceAgent.html#a04d4db961ea8e3ed0ca1cb4cc7a7eca5" title=" " alt="" coords="304,151,527,193"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1bi__encoder__ranker_1_1BiEncoderRankerAgent.html#a7920edd41a6bdbd18e9a0c50a1953f9d" title=" " alt="" coords="287,217,543,273"/>
<area shape="rect" href="classparlai_1_1agents_1_1test__agents_1_1dummy__torch__agent_1_1MockTorchAgent.html#a122bde825e09b1450578a7ab7d606bfd" title=" " alt="" coords="284,297,547,353"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html#a4fd71b73fc926491aedc3da5921f62ca" title=" " alt="" coords="256,377,575,433"/>
<area shape="rect" href="classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent.html#a1d925f46a6b35d1f10cb033a1184841d" title=" " alt="" coords="324,458,507,499"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__classifier_1_1bert__classifier_1_1BertClassifierAgent.html#af568b5ebe0ada0e2823e9e2be2d70e9f" title=" " alt="" coords="299,524,532,580"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v0_1_1Seq2seqAgent.html#a05552a2714cd8d15d754a62258727c98" title=" " alt="" coords="300,604,531,660"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1cross__encoder__ranker_1_1CrossEncoderRankerAgent.html#a0518d01be6a05fc2bc117f2c55cb6328" title=" " alt="" coords="252,684,579,740"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#abc77ad96264e7597c46bc001a9a6af90" title=" " alt="" coords="290,764,541,820"/>
<area shape="rect" href="classparlai_1_1agents_1_1remote__agent_1_1remote__agent_1_1ParsedRemoteAgent.html#a5759817c6b1d248a0b64861222745f62" title=" " alt="" coords="298,844,533,900"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#a3dc59646a2e97d015dfdddb65021429b" title=" " alt="" coords="317,925,514,966"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#aea8849fa69a3f5dbd3216c8b06f180ea" title=" " alt="" coords="322,990,509,1031"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a9c622b8ed5a811841f30fe98cc297cde" title=" " alt="" coords="336,1055,495,1097"/>
</map>
</div>

</div>
</div>
<a id="a8df662b1258ec67752b4fc0ad45733f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8df662b1258ec67752b4fc0ad45733f9">&#9670;&nbsp;</a></span>backward()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent.backward </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>loss</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Perform a backward pass.

It is recommended you use this instead of
loss.backward(), for integration with distributed training and FP16
training.
</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l01779">1779</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="torch__agent_8py_source.html#l00661">parlai.core.torch_agent.TorchAgent.fp16</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00017">parlai.agents.legacy_agents.memnn.modules_v0.MemNN.opt</a>, <a class="el" href="parlai_2agents_2language__model_2modules_8py_source.html#l00018">parlai.agents.language_model.modules.RNNModel.opt</a>, <a class="el" href="rnn__reader_8py_source.html#l00019">parlai.agents.drqa.rnn_reader.RnnDocReader.opt</a>, <a class="el" href="model_8py_source.html#l00024">parlai.agents.drqa.model.DocReaderModel.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00033">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.opt</a>, <a class="el" href="parlai_2agents_2starspace_2modules_8py_source.html#l00036">parlai.agents.starspace.modules.Starspace.opt</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00040">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.opt</a>, <a class="el" href="unigram_8py_source.html#l00052">parlai.agents.unigram.unigram.UnigramAgent.opt</a>, <a class="el" href="parlai_2core_2agents_8py_source.html#l00060">parlai.core.agents.Agent.opt</a>, <a class="el" href="remote__agent_8py_source.html#l00060">parlai.agents.remote_agent.remote_agent.RemoteAgentAgent.opt</a>, <a class="el" href="memnn__v0_8py_source.html#l00135">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.opt</a>, <a class="el" href="parlai_2agents_2transformer_2modules_8py_source.html#l00137">parlai.agents.transformer.modules.TransformerMemNetModel.opt</a>, <a class="el" href="language__model_8py_source.html#l00169">parlai.agents.language_model.language_model.LanguageModelAgent.opt</a>, <a class="el" href="dict__v0_8py_source.html#l00196">parlai.agents.legacy_agents.seq2seq.dict_v0.DictionaryAgent.opt</a>, <a class="el" href="dict__v1_8py_source.html#l00206">parlai.agents.legacy_agents.seq2seq.dict_v1.DictionaryAgent.opt</a>, <a class="el" href="ir__baseline_8py_source.html#l00246">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.opt</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00295">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.opt</a>, <a class="el" href="fairseq_8py_source.html#l00338">parlai.agents.fairseq.fairseq.FairseqAgent.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00373">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.opt</a>, <a class="el" href="starspace_8py_source.html#l00582">parlai.agents.starspace.starspace.StarspaceAgent.opt</a>, <a class="el" href="model_8py_source.html#l00042">parlai.agents.drqa.model.DocReaderModel.optimizer</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00067">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.optimizer</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00092">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.optimizer</a>, <a class="el" href="bert__classifier_8py_source.html#l00136">parlai.agents.bert_classifier.bert_classifier.BertClassifierAgent.optimizer</a>, <a class="el" href="starspace_8py_source.html#l00261">parlai.agents.starspace.starspace.StarspaceAgent.optimizer</a>, <a class="el" href="language__model_8py_source.html#l00262">parlai.agents.language_model.language_model.LanguageModelAgent.optimizer</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00361">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.optimizer</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00528">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.optimizer</a>, and <a class="el" href="torch__agent_8py_source.html#l00850">parlai.core.torch_agent.TorchAgent.optimizer</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__generator__agent_8py_source.html#l00421">parlai.core.torch_generator_agent.TorchGeneratorAgent._init_cuda_buffer()</a>, <a class="el" href="memnn__feedback_8py_source.html#l00265">agent.memnn_feedback.MemnnFeedbackAgent.parse_cands()</a>, <a class="el" href="torch__ranker__agent_8py_source.html#l00335">parlai.core.torch_ranker_agent.TorchRankerAgent.train_step()</a>, and <a class="el" href="torch__generator__agent_8py_source.html#l00532">parlai.core.torch_generator_agent.TorchGeneratorAgent.train_step()</a>.</p>
<div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a8df662b1258ec67752b4fc0ad45733f9_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a8df662b1258ec67752b4fc0ad45733f9_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a8df662b1258ec67752b4fc0ad45733f9_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a8df662b1258ec67752b4fc0ad45733f9_icgraph">
<area shape="rect" title=" " alt="" coords="1264,104,1423,145"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__generator__agent_1_1TorchGeneratorAgent.html#a330c42419485adb5f98a1d364d846b92" title=" " alt="" coords="1015,63,1209,119"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__generator__agent_1_1TorchGeneratorAgent.html#afe2226ddfc838ec27580e3499cc0bae7" title=" " alt="" coords="686,5,937,47"/>
<area shape="rect" href="classagent_1_1memnn__feedback_1_1MemnnFeedbackAgent.html#a4012774ea6fbe10c6315f1c010d63f09" title=" " alt="" coords="1008,219,1216,260"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#a05ddf921f386f21116ec0ef50796987a" title=" " alt="" coords="694,136,929,177"/>
<area shape="rect" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a88e4d25c8f2eccaf1c7595d40c4f607b" title=" " alt="" coords="663,71,960,112"/>
<area shape="rect" href="classtransresnet__multimodal_1_1transresnet__multimodal_1_1TransresnetMultimodalAgent.html#a057eb1109f5c2ea467539083e2f7e7f6" title=" " alt="" coords="292,104,615,145"/>
<area shape="rect" href="classtransresnet_1_1transresnet_1_1TransresnetAgent.html#a5eadf6ccc4b1d15a520a70d111bff493" title=" " alt="" coords="360,39,547,80"/>
<area shape="rect" href="classtransresnet_1_1transresnet_1_1TransresnetAgent.html#ad59fea461b2ea1f9731742901203bdd7" title=" " alt="" coords="45,5,205,47"/>
<area shape="rect" href="classmastering__the__dungeon_1_1agents_1_1graph__world2_1_1agents_1_1ModelAgentBase.html#a768f25fa424b2cd4d1de8e62bfed970a" title=" " alt="" coords="5,71,244,112"/>
<area shape="rect" href="classagent_1_1memnn__feedback_1_1MemnnFeedbackAgent.html#ab221141e0a956be465e718bb349e7554" title=" " alt="" coords="21,136,229,177"/>
<area shape="rect" href="classkvmemnn_1_1KvmemnnAgent.html#a6f57723b871277392a3f3fd627c717d8" title=" " alt="" coords="25,202,224,229"/>
</map>
</div>

</div>
</div>
<a id="a7754a74d6c87590f46e71ec486c285a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7754a74d6c87590f46e71ec486c285a8">&#9670;&nbsp;</a></span>batch_act()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent.batch_act </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>observations</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Process a batch of observations (batchsize list of message dicts).

These observations have been preprocessed by the observe method.

Subclasses can override this for special functionality, but if the
default behaviors are fine then just override the ``train_step`` and
``eval_step`` methods instead. The former is called when labels are
present in the observations batch; otherwise, the latter is called.
</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l01725">1725</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="memnn_8py_source.html#l00146">parlai.agents.memnn.memnn.MemnnAgent.batchify()</a>, <a class="el" href="agents_2seq2seq_2seq2seq_8py_source.html#l00206">parlai.agents.seq2seq.seq2seq.Seq2seqAgent.batchify()</a>, <a class="el" href="transformer_8py_source.html#l00208">parlai.agents.transformer.transformer.TransformerRankerAgent.batchify()</a>, <a class="el" href="memnn__v0_8py_source.html#l00362">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.batchify()</a>, <a class="el" href="seq2seq__v1_8py_source.html#l00400">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent.batchify()</a>, <a class="el" href="fairseq_8py_source.html#l00483">parlai.agents.fairseq.fairseq.FairseqAgent.batchify()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00665">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.batchify()</a>, <a class="el" href="torch__agent_8py_source.html#l01415">parlai.core.torch_agent.TorchAgent.batchify()</a>, <a class="el" href="parrot_8py_source.html#l00014">parrot.ParrotAgent.eval_step()</a>, <a class="el" href="dummy__torch__agent_8py_source.html#l00093">parlai.agents.test_agents.dummy_torch_agent.MockTorchAgent.eval_step()</a>, <a class="el" href="both__encoder__ranker_8py_source.html#l00098">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.eval_step()</a>, <a class="el" href="example__seq2seq_8py_source.html#l00259">parlai.agents.example_seq2seq.example_seq2seq.ExampleSeq2seqAgent.eval_step()</a>, <a class="el" href="fairseq_8py_source.html#l00529">parlai.agents.fairseq.fairseq.FairseqAgent.eval_step()</a>, <a class="el" href="seq2seq__v1_8py_source.html#l00691">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent.eval_step()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l01027">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.eval_step()</a>, <a class="el" href="torch__agent_8py_source.html#l01769">parlai.core.torch_agent.TorchAgent.eval_step()</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00053">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.getID()</a>, <a class="el" href="parlai_2core_2agents_8py_source.html#l00080">parlai.core.agents.Agent.getID()</a>, <a class="el" href="language__model_8py_source.html#l00244">parlai.agents.language_model.language_model.LanguageModelAgent.is_training</a>, <a class="el" href="fairseq_8py_source.html#l00523">parlai.agents.fairseq.fairseq.FairseqAgent.is_training</a>, <a class="el" href="torch__agent_8py_source.html#l00732">parlai.core.torch_agent.TorchAgent.is_training</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00765">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.match_batch()</a>, <a class="el" href="torch__agent_8py_source.html#l01512">parlai.core.torch_agent.TorchAgent.match_batch()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00288">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.replies</a>, <a class="el" href="torch__agent_8py_source.html#l00665">parlai.core.torch_agent.TorchAgent.replies</a>, <a class="el" href="parrot_8py_source.html#l00010">parrot.ParrotAgent.train_step()</a>, <a class="el" href="both__encoder__ranker_8py_source.html#l00082">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.train_step()</a>, <a class="el" href="dummy__torch__agent_8py_source.html#l00089">parlai.agents.test_agents.dummy_torch_agent.MockTorchAgent.train_step()</a>, <a class="el" href="example__seq2seq_8py_source.html#l00222">parlai.agents.example_seq2seq.example_seq2seq.ExampleSeq2seqAgent.train_step()</a>, <a class="el" href="seq2seq__v1_8py_source.html#l00427">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent.train_step()</a>, <a class="el" href="fairseq_8py_source.html#l00515">parlai.agents.fairseq.fairseq.FairseqAgent.train_step()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l01023">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.train_step()</a>, and <a class="el" href="torch__agent_8py_source.html#l01764">parlai.core.torch_agent.TorchAgent.train_step()</a>.</p>

<p class="reference">Referenced by <a class="el" href="projects_2personality__captions_2transresnet_2transresnet_8py_source.html#l00195">transresnet.transresnet.TransresnetAgent.act()</a>, <a class="el" href="projects_2mastering__the__dungeon_2agents_2graph__world2_2agents_8py_source.html#l00537">mastering_the_dungeon.agents.graph_world2.agents.ModelAgentBase.act()</a>, <a class="el" href="memnn__feedback_8py_source.html#l00590">agent.memnn_feedback.MemnnFeedbackAgent.act()</a>, <a class="el" href="projects_2personachat_2kvmemnn_2kvmemnn_8py_source.html#l00879">kvmemnn.KvmemnnAgent.act()</a>, <a class="el" href="torch__agent_8py_source.html#l01716">parlai.core.torch_agent.TorchAgent.act()</a>, and <a class="el" href="parlai_2core_2worlds_8py_source.html#l00736">parlai.core.worlds.BatchWorld.parley()</a>.</p>
<div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a7754a74d6c87590f46e71ec486c285a8_cgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a7754a74d6c87590f46e71ec486c285a8_cgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a7754a74d6c87590f46e71ec486c285a8_cgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a7754a74d6c87590f46e71ec486c285a8_cgraph">
<area shape="rect" title=" " alt="" coords="5,972,164,1013"/>
<area shape="rect" href="classparlai_1_1agents_1_1memnn_1_1memnn_1_1MemnnAgent.html#a463b88b1d7fc9a7adea9802762c5968c" title=" " alt="" coords="255,20,450,61"/>
<area shape="rect" href="classparlai_1_1agents_1_1seq2seq_1_1seq2seq_1_1Seq2seqAgent.html#a036d5b79817bf99208c0b0a92481d3ff" title=" " alt="" coords="249,232,456,273"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1transformer_1_1TransformerRankerAgent.html#a2592aa2dc8469ab671656597b4ba48a8" title=" " alt="" coords="233,85,473,127"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1memnn_1_1memnn__v0_1_1MemnnAgent.html#afaa379fa31bcc83bd467d15e2976d0a3" title=" " alt="" coords="237,423,468,479"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#ae5dc403e172c9cb8ecd48525175af56d" title=" " alt="" coords="569,201,756,243"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v0_1_1Agent.html#a8bddd5b89230c9a2810e7ca15914997e" title=" " alt="" coords="575,267,750,323"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#a3e19c6091fbdbcad5b3f541cc5f81b97" title=" " alt="" coords="261,714,444,770"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#ab8b2fa26aabfd9d7e7abb0abbcfe8044" title=" " alt="" coords="251,794,454,850"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a4c5824776df0c6cf995984a5e7a3f433" title=" " alt="" coords="273,151,432,192"/>
<area shape="rect" href="classparrot_1_1ParrotAgent.html#a210ad5eb90ce7add4a2b2cb641c4de3c" title=" " alt="" coords="259,874,447,901"/>
<area shape="rect" href="classparlai_1_1agents_1_1test__agents_1_1dummy__torch__agent_1_1MockTorchAgent.html#aea8dfe6e44a419f31e741c4770a82f9b" title=" " alt="" coords="241,925,465,981"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html#a6d189366af4a1264770d59e4b114967a" title=" " alt="" coords="213,1005,493,1061"/>
<area shape="rect" href="classparlai_1_1agents_1_1example__seq2seq_1_1example__seq2seq_1_1ExampleSeq2seqAgent.html#a99c0209e5ac63d450c0f18e620d51d70" title=" " alt="" coords="231,583,474,639"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#aa635ffc4c0a0649c66b9b1cbb4dd5367" title=" " alt="" coords="259,1085,446,1127"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#ad06de7c94ee40c403f792e7b48e0b137" title=" " alt="" coords="257,1217,449,1273"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a801f2b9a359201fd0a395ab61fd61806" title=" " alt="" coords="246,1297,459,1353"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a18de0a52aeec4ef721aedbdd6ac06cad" title=" " alt="" coords="273,1377,432,1419"/>
<area shape="rect" href="classparlai_1_1core_1_1agents_1_1Agent.html#a29e1cdd729ac4236f8bae90b2e66fa04" title=" " alt="" coords="253,1443,452,1470"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#acac419cfad0fc5988e7e796c244f3a9f" title=" " alt="" coords="237,1494,469,1550"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#aba56b961d929e5c5b5da9cf8bd331502" title=" " alt="" coords="269,1575,437,1616"/>
<area shape="rect" href="classparrot_1_1ParrotAgent.html#a85446c6c7698b050d80a2324495c9321" title=" " alt="" coords="258,1641,447,1667"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html#a49ef7547db36c1570b8c10d0c8bee42e" title=" " alt="" coords="212,1691,493,1747"/>
<area shape="rect" href="classparlai_1_1agents_1_1test__agents_1_1dummy__torch__agent_1_1MockTorchAgent.html#a867115faed3455518fb1f9a0ab41f761" title=" " alt="" coords="240,1771,465,1827"/>
<area shape="rect" href="classparlai_1_1agents_1_1example__seq2seq_1_1example__seq2seq_1_1ExampleSeq2seqAgent.html#adc742409451a1a8c41bd118a8cf7efbb" title=" " alt="" coords="231,503,474,559"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#a59a524e15577396e60a1e5f8b6bfe9a7" title=" " alt="" coords="566,939,759,995"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#a57902d8fdb473ce9d791df532db41eee" title=" " alt="" coords="259,1151,446,1192"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#aff9cc5c105bbf154075aa83e288582ca" title=" " alt="" coords="245,1851,460,1907"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a8ba9d535736c0af100d00c5e7b02b61b" title=" " alt="" coords="273,1932,432,1973"/>
<area shape="rect" href="classparlai_1_1agents_1_1seq2seq_1_1seq2seq_1_1Seq2seqAgent.html#a6fbfdde4ec69ec4050fa4005c6608f1a" title=" " alt="" coords="559,5,766,47"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#a42b30bed79467abe02d8b7c65ff33b9c" title=" " alt="" coords="569,71,756,112"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#afa491bf2384b017711ad722b5341b405" title=" " alt="" coords="583,136,742,177"/>
<area shape="rect" href="classparlai_1_1agents_1_1language__model_1_1language__model_1_1LanguageModelAgent.html#ad67bbe760648032c08da9400bb2e3da1" title=" " alt="" coords="551,574,774,630"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1memnn_1_1memnn__v0_1_1MemnnAgent.html#a5e9b6393cb251b6030bb9a0db51b8026" title=" " alt="" coords="547,347,778,403"/>
<area shape="rect" href="classparlai_1_1agents_1_1drqa_1_1model_1_1DocReaderModel.html#a798f609dcd78b3e66e00a81f26f12603" title=" " alt="" coords="579,428,747,469"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1memnn_1_1memnn__v0_1_1MemnnAgent.html#a4e850d51ca01adc45754cc509c8b096a" title=" " alt="" coords="547,494,778,550"/>
<area shape="rect" href="classparlai_1_1agents_1_1language__model_1_1language__model_1_1LanguageModelAgent.html#a1ff4e6849d50eb9d58a2f97a91d715ce" title=" " alt="" coords="551,654,774,710"/>
<area shape="rect" href="classparlai_1_1agents_1_1example__seq2seq_1_1example__seq2seq_1_1ExampleSeq2seqAgent.html#a982862ee1a5b6ee2a7da61d6018fb4a9" title=" " alt="" coords="832,705,1075,761"/>
<area shape="rect" href="classparlai_1_1agents_1_1example__seq2seq_1_1example__seq2seq_1_1ExampleSeq2seqAgent.html#a334f6bd6a11dba7b87f7ea0f8db23a42" title=" " alt="" coords="832,785,1075,841"/>
<area shape="rect" href="classparlai_1_1agents_1_1example__seq2seq_1_1example__seq2seq_1_1ExampleSeq2seqAgent.html#a8174f6d6e6610a63884ef8208af1e298" title=" " alt="" coords="541,859,784,915"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#acfaca66bf4dd1d86e2d3a9d4a26a1717" title=" " alt="" coords="569,1020,756,1061"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#a5074ffa21fb6d970195ebd61a5d1777e" title=" " alt="" coords="567,1085,758,1127"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#ad544aa89e71cb430cb044039c5a6edc3" title=" " alt="" coords="563,1151,762,1192"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#ae51602118fab27e1616733319763cf95" title=" " alt="" coords="558,1297,767,1353"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#ad9708bd066d65d8ba66fd8697e6f6e4c" title=" " alt="" coords="575,1377,750,1433"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#aa1e972eb8a41c98486a50baa14700345" title=" " alt="" coords="557,1457,768,1513"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#a6afc143cc0ec59803be416416ce1ec97" title=" " alt="" coords="552,1537,773,1593"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#a4567d7a200e20bd09235d4833424bdad" title=" " alt="" coords="549,1217,776,1273"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#a15d473070cfc77894bf6d053e9dda68b" title=" " alt="" coords="847,902,1059,958"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#aae948e0e7b30343af84c3aa9356b9bef" title=" " alt="" coords="866,983,1041,1053"/>
</map>
</div>
<div id="dynsection-26" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a7754a74d6c87590f46e71ec486c285a8_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a7754a74d6c87590f46e71ec486c285a8_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a7754a74d6c87590f46e71ec486c285a8_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a7754a74d6c87590f46e71ec486c285a8_icgraph">
<area shape="rect" title=" " alt="" coords="292,165,451,207"/>
<area shape="rect" href="classtransresnet_1_1transresnet_1_1TransresnetAgent.html#ad59fea461b2ea1f9731742901203bdd7" title=" " alt="" coords="45,5,205,47"/>
<area shape="rect" href="classmastering__the__dungeon_1_1agents_1_1graph__world2_1_1agents_1_1ModelAgentBase.html#a768f25fa424b2cd4d1de8e62bfed970a" title=" " alt="" coords="5,71,244,112"/>
<area shape="rect" href="classagent_1_1memnn__feedback_1_1MemnnFeedbackAgent.html#ab221141e0a956be465e718bb349e7554" title=" " alt="" coords="21,136,229,177"/>
<area shape="rect" href="classkvmemnn_1_1KvmemnnAgent.html#a6f57723b871277392a3f3fd627c717d8" title=" " alt="" coords="25,202,224,229"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a51174dfa508970e3392246b02d0d94b5" title=" " alt="" coords="45,253,204,295"/>
<area shape="rect" href="classparlai_1_1core_1_1worlds_1_1BatchWorld.html#a297ab42faba47581774cd9333c874905" title=" " alt="" coords="43,319,206,360"/>
</map>
</div>

</div>
</div>
<a id="a4c5824776df0c6cf995984a5e7a3f433"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c5824776df0c6cf995984a5e7a3f433">&#9670;&nbsp;</a></span>batchify()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent.batchify </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obs_batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>sort</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Create a batch of valid observations from an unchecked batch.

A valid observation is one that passes the lambda provided to the
function, which defaults to checking if the preprocessed 'text_vec'
field is present which would have been set by this agent's 'vectorize'
function.

Returns a namedtuple Batch. See original definition above for in-depth
explanation of each field.

If you want to include additonal fields in the batch, you can subclass
this function and return your own "Batch" namedtuple: copy the Batch
namedtuple at the top of this class, and then add whatever additional
fields that you want to be able to access. You can then call
super().batchify(...) to set up the original fields and then set up the
additional fields in your subclass and return that batch instead.

:param obs_batch:
    List of vectorized observations

:param sort:
    Default False, orders the observations by length of vectors. Set to
    true when using torch.nn.utils.rnn.pack_padded_sequence.  Uses the text
    vectors if available, otherwise uses the label vectors if available.
</pre> 
<p>Reimplemented in <a class="el" href="classparlai_1_1agents_1_1transformer_1_1transformer_1_1TransformerRankerAgent.html#a2592aa2dc8469ab671656597b4ba48a8">parlai.agents.transformer.transformer.TransformerRankerAgent</a>, and <a class="el" href="classparlai_1_1agents_1_1memnn_1_1memnn_1_1MemnnAgent.html#a463b88b1d7fc9a7adea9802762c5968c">parlai.agents.memnn.memnn.MemnnAgent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l01415">1415</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="torch__agent__v1_8py_source.html#l00317">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.EMPTY</a>, <a class="el" href="torch__agent_8py_source.html#l00708">parlai.core.torch_agent.TorchAgent.EMPTY</a>, <a class="el" href="agents_2seq2seq_2seq2seq_8py_source.html#l00230">parlai.agents.seq2seq.seq2seq.Seq2seqAgent.is_valid()</a>, <a class="el" href="fairseq_8py_source.html#l00478">parlai.agents.fairseq.fairseq.FairseqAgent.is_valid()</a>, <a class="el" href="torch__agent_8py_source.html#l01411">parlai.core.torch_agent.TorchAgent.is_valid()</a>, <a class="el" href="dummy__torch__agent_8py_source.html#l00020">parlai.agents.test_agents.dummy_torch_agent.MockDict.NULL_IDX</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00045">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.NULL_IDX</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00053">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.NULL_IDX</a>, <a class="el" href="both__encoder__ranker_8py_source.html#l00062">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.NULL_IDX</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00078">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.NULL_IDX</a>, <a class="el" href="modules__v1_8py_source.html#l00078">parlai.agents.legacy_agents.seq2seq.modules_v1.Seq2seq.NULL_IDX</a>, <a class="el" href="memnn__v0_8py_source.html#l00140">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.NULL_IDX</a>, <a class="el" href="language__model_8py_source.html#l00177">parlai.agents.language_model.language_model.LanguageModelAgent.NULL_IDX</a>, <a class="el" href="starspace_8py_source.html#l00182">parlai.agents.starspace.starspace.StarspaceAgent.NULL_IDX</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00318">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.NULL_IDX</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00378">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.NULL_IDX</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00556">parlai.agents.legacy_agents.seq2seq.modules_v0.Ranker.NULL_IDX</a>, <a class="el" href="torch__agent_8py_source.html#l00709">parlai.core.torch_agent.TorchAgent.NULL_IDX</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00017">parlai.agents.legacy_agents.memnn.modules_v0.MemNN.opt</a>, <a class="el" href="parlai_2agents_2language__model_2modules_8py_source.html#l00018">parlai.agents.language_model.modules.RNNModel.opt</a>, <a class="el" href="rnn__reader_8py_source.html#l00019">parlai.agents.drqa.rnn_reader.RnnDocReader.opt</a>, <a class="el" href="model_8py_source.html#l00024">parlai.agents.drqa.model.DocReaderModel.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00033">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.opt</a>, <a class="el" href="parlai_2agents_2starspace_2modules_8py_source.html#l00036">parlai.agents.starspace.modules.Starspace.opt</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00040">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.opt</a>, <a class="el" href="unigram_8py_source.html#l00052">parlai.agents.unigram.unigram.UnigramAgent.opt</a>, <a class="el" href="remote__agent_8py_source.html#l00060">parlai.agents.remote_agent.remote_agent.RemoteAgentAgent.opt</a>, <a class="el" href="parlai_2core_2agents_8py_source.html#l00060">parlai.core.agents.Agent.opt</a>, <a class="el" href="memnn__v0_8py_source.html#l00135">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.opt</a>, <a class="el" href="parlai_2agents_2transformer_2modules_8py_source.html#l00137">parlai.agents.transformer.modules.TransformerMemNetModel.opt</a>, <a class="el" href="language__model_8py_source.html#l00169">parlai.agents.language_model.language_model.LanguageModelAgent.opt</a>, <a class="el" href="dict__v0_8py_source.html#l00196">parlai.agents.legacy_agents.seq2seq.dict_v0.DictionaryAgent.opt</a>, <a class="el" href="dict__v1_8py_source.html#l00206">parlai.agents.legacy_agents.seq2seq.dict_v1.DictionaryAgent.opt</a>, <a class="el" href="ir__baseline_8py_source.html#l00246">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.opt</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00295">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.opt</a>, <a class="el" href="fairseq_8py_source.html#l00338">parlai.agents.fairseq.fairseq.FairseqAgent.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00373">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.opt</a>, <a class="el" href="starspace_8py_source.html#l00582">parlai.agents.starspace.starspace.StarspaceAgent.opt</a>, <a class="el" href="image__featurizers_8py_source.html#l00024">parlai.core.image_featurizers.ImageLoader.use_cuda</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00048">parlai.agents.legacy_agents.memnn.modules_v0.MemNN.use_cuda</a>, <a class="el" href="memnn__v0_8py_source.html#l00096">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.use_cuda</a>, <a class="el" href="language__model_8py_source.html#l00162">parlai.agents.language_model.language_model.LanguageModelAgent.use_cuda</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00303">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.use_cuda</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00367">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.use_cuda</a>, and <a class="el" href="torch__agent_8py_source.html#l00654">parlai.core.torch_agent.TorchAgent.use_cuda</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__agent_8py_source.html#l01725">parlai.core.torch_agent.TorchAgent.batch_act()</a>, <a class="el" href="memnn__feedback_8py_source.html#l00488">agent.memnn_feedback.MemnnFeedbackAgent.batchify()</a>, and <a class="el" href="projects_2personachat_2kvmemnn_2kvmemnn_8py_source.html#l00780">kvmemnn.KvmemnnAgent.batchify()</a>.</p>
<div id="dynsection-27" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-27-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-27-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-27-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a4c5824776df0c6cf995984a5e7a3f433_cgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a4c5824776df0c6cf995984a5e7a3f433_cgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a4c5824776df0c6cf995984a5e7a3f433_cgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a4c5824776df0c6cf995984a5e7a3f433_cgraph">
<area shape="rect" title=" " alt="" coords="5,71,164,112"/>
<area shape="rect" href="classparlai_1_1agents_1_1seq2seq_1_1seq2seq_1_1Seq2seqAgent.html#a6fbfdde4ec69ec4050fa4005c6608f1a" title=" " alt="" coords="212,5,419,47"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#a42b30bed79467abe02d8b7c65ff33b9c" title=" " alt="" coords="222,71,409,112"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#afa491bf2384b017711ad722b5341b405" title=" " alt="" coords="236,136,395,177"/>
</map>
</div>
<div id="dynsection-28" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-28-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-28-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-28-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a4c5824776df0c6cf995984a5e7a3f433_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a4c5824776df0c6cf995984a5e7a3f433_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a4c5824776df0c6cf995984a5e7a3f433_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a4c5824776df0c6cf995984a5e7a3f433_icgraph">
<area shape="rect" title=" " alt="" coords="548,343,707,384"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a7754a74d6c87590f46e71ec486c285a8" title=" " alt="" coords="317,195,475,236"/>
<area shape="rect" href="classagent_1_1memnn__feedback_1_1MemnnFeedbackAgent.html#a901865f6607e3b5509831785bc1e29d0" title=" " alt="" coords="292,343,500,384"/>
<area shape="rect" href="classkvmemnn_1_1KvmemnnAgent.html#ac7dba84c37dab7ef33f52d263fbdbdc7" title=" " alt="" coords="11,409,238,435"/>
<area shape="rect" href="classtransresnet_1_1transresnet_1_1TransresnetAgent.html#ad59fea461b2ea1f9731742901203bdd7" title=" " alt="" coords="45,5,205,47"/>
<area shape="rect" href="classmastering__the__dungeon_1_1agents_1_1graph__world2_1_1agents_1_1ModelAgentBase.html#a768f25fa424b2cd4d1de8e62bfed970a" title=" " alt="" coords="5,71,244,112"/>
<area shape="rect" href="classagent_1_1memnn__feedback_1_1MemnnFeedbackAgent.html#ab221141e0a956be465e718bb349e7554" title=" " alt="" coords="21,136,229,177"/>
<area shape="rect" href="classkvmemnn_1_1KvmemnnAgent.html#a6f57723b871277392a3f3fd627c717d8" title=" " alt="" coords="25,202,224,229"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a51174dfa508970e3392246b02d0d94b5" title=" " alt="" coords="45,253,204,295"/>
<area shape="rect" href="classparlai_1_1core_1_1worlds_1_1BatchWorld.html#a297ab42faba47581774cd9333c874905" title=" " alt="" coords="43,319,206,360"/>
</map>
</div>

</div>
</div>
<a id="a233316f9ec2805dd6a08fbf07f3a078a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a233316f9ec2805dd6a08fbf07f3a078a">&#9670;&nbsp;</a></span>build_dictionary()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent.build_dictionary </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return the constructed dictionary, which will be set to self.dict.

If you need to add additional tokens to the dictionary, this is likely
the right place to do it.
</pre> 
<p>Reimplemented in <a class="el" href="classparlai_1_1agents_1_1memnn_1_1memnn_1_1MemnnAgent.html#af314871636896b61139ef761765a1872">parlai.agents.memnn.memnn.MemnnAgent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l00749">749</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="language__model_8py_source.html#l00030">parlai.agents.language_model.language_model.LanguageModelAgent.dictionary_class()</a>, <a class="el" href="unigram_8py_source.html#l00037">parlai.agents.unigram.unigram.UnigramAgent.dictionary_class()</a>, <a class="el" href="starspace_8py_source.html#l00045">parlai.agents.starspace.starspace.StarspaceAgent.dictionary_class()</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00063">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.dictionary_class()</a>, <a class="el" href="dummy__torch__agent_8py_source.html#l00074">parlai.agents.test_agents.dummy_torch_agent.MockTorchAgent.dictionary_class()</a>, <a class="el" href="both__encoder__ranker_8py_source.html#l00079">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.dictionary_class()</a>, <a class="el" href="drqa_8py_source.html#l00107">parlai.agents.drqa.drqa.DrqaAgent.dictionary_class()</a>, <a class="el" href="bert__classifier_8py_source.html#l00112">parlai.agents.bert_classifier.bert_classifier.BertClassifierAgent.dictionary_class()</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00116">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.dictionary_class()</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00126">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.dictionary_class()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00140">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.dictionary_class()</a>, <a class="el" href="remote__agent_8py_source.html#l00160">parlai.agents.remote_agent.remote_agent.ParsedRemoteAgent.dictionary_class()</a>, <a class="el" href="fairseq_8py_source.html#l00319">parlai.agents.fairseq.fairseq.FairseqAgent.dictionary_class()</a>, <a class="el" href="torch__agent_8py_source.html#l00375">parlai.core.torch_agent.TorchAgent.dictionary_class()</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00017">parlai.agents.legacy_agents.memnn.modules_v0.MemNN.opt</a>, <a class="el" href="parlai_2agents_2language__model_2modules_8py_source.html#l00018">parlai.agents.language_model.modules.RNNModel.opt</a>, <a class="el" href="rnn__reader_8py_source.html#l00019">parlai.agents.drqa.rnn_reader.RnnDocReader.opt</a>, <a class="el" href="model_8py_source.html#l00024">parlai.agents.drqa.model.DocReaderModel.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00033">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.opt</a>, <a class="el" href="parlai_2agents_2starspace_2modules_8py_source.html#l00036">parlai.agents.starspace.modules.Starspace.opt</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00040">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.opt</a>, <a class="el" href="unigram_8py_source.html#l00052">parlai.agents.unigram.unigram.UnigramAgent.opt</a>, <a class="el" href="parlai_2core_2agents_8py_source.html#l00060">parlai.core.agents.Agent.opt</a>, <a class="el" href="remote__agent_8py_source.html#l00060">parlai.agents.remote_agent.remote_agent.RemoteAgentAgent.opt</a>, <a class="el" href="memnn__v0_8py_source.html#l00135">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.opt</a>, <a class="el" href="parlai_2agents_2transformer_2modules_8py_source.html#l00137">parlai.agents.transformer.modules.TransformerMemNetModel.opt</a>, <a class="el" href="language__model_8py_source.html#l00169">parlai.agents.language_model.language_model.LanguageModelAgent.opt</a>, <a class="el" href="dict__v0_8py_source.html#l00196">parlai.agents.legacy_agents.seq2seq.dict_v0.DictionaryAgent.opt</a>, <a class="el" href="dict__v1_8py_source.html#l00206">parlai.agents.legacy_agents.seq2seq.dict_v1.DictionaryAgent.opt</a>, <a class="el" href="ir__baseline_8py_source.html#l00246">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.opt</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00295">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.opt</a>, <a class="el" href="fairseq_8py_source.html#l00338">parlai.agents.fairseq.fairseq.FairseqAgent.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00373">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.opt</a>, <a class="el" href="starspace_8py_source.html#l00582">parlai.agents.starspace.starspace.StarspaceAgent.opt</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00136">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.P1_TOKEN</a>, <a class="el" href="torch__agent_8py_source.html#l00336">parlai.core.torch_agent.TorchAgent.P1_TOKEN</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00137">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.P2_TOKEN</a>, and <a class="el" href="torch__agent_8py_source.html#l00337">parlai.core.torch_agent.TorchAgent.P2_TOKEN</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__agent_8py_source.html#l00648">parlai.core.torch_agent.TorchAgent.__init__()</a>.</p>
<div id="dynsection-29" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-29-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-29-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-29-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a233316f9ec2805dd6a08fbf07f3a078a_cgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a233316f9ec2805dd6a08fbf07f3a078a_cgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a233316f9ec2805dd6a08fbf07f3a078a_cgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a233316f9ec2805dd6a08fbf07f3a078a_cgraph">
<area shape="rect" title=" " alt="" coords="5,495,188,537"/>
<area shape="rect" href="classparlai_1_1agents_1_1language__model_1_1language__model_1_1LanguageModelAgent.html#a80bdd18c28f4a2ab19c463dd123165e7" title=" " alt="" coords="288,5,511,61"/>
<area shape="rect" href="classparlai_1_1agents_1_1unigram_1_1unigram_1_1UnigramAgent.html#a832c1e669ba04ca3c6258216cc82bdca" title=" " alt="" coords="298,86,501,127"/>
<area shape="rect" href="classparlai_1_1agents_1_1starspace_1_1starspace_1_1StarspaceAgent.html#a04d4db961ea8e3ed0ca1cb4cc7a7eca5" title=" " alt="" coords="288,151,511,193"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1bi__encoder__ranker_1_1BiEncoderRankerAgent.html#a7920edd41a6bdbd18e9a0c50a1953f9d" title=" " alt="" coords="271,217,527,273"/>
<area shape="rect" href="classparlai_1_1agents_1_1test__agents_1_1dummy__torch__agent_1_1MockTorchAgent.html#a122bde825e09b1450578a7ab7d606bfd" title=" " alt="" coords="268,297,531,353"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html#a4fd71b73fc926491aedc3da5921f62ca" title=" " alt="" coords="240,377,559,433"/>
<area shape="rect" href="classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent.html#a1d925f46a6b35d1f10cb033a1184841d" title=" " alt="" coords="308,458,491,499"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__classifier_1_1bert__classifier_1_1BertClassifierAgent.html#af568b5ebe0ada0e2823e9e2be2d70e9f" title=" " alt="" coords="283,524,516,580"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v0_1_1Seq2seqAgent.html#a05552a2714cd8d15d754a62258727c98" title=" " alt="" coords="284,604,515,660"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1cross__encoder__ranker_1_1CrossEncoderRankerAgent.html#a0518d01be6a05fc2bc117f2c55cb6328" title=" " alt="" coords="236,684,563,740"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#abc77ad96264e7597c46bc001a9a6af90" title=" " alt="" coords="274,764,525,820"/>
<area shape="rect" href="classparlai_1_1agents_1_1remote__agent_1_1remote__agent_1_1ParsedRemoteAgent.html#a5759817c6b1d248a0b64861222745f62" title=" " alt="" coords="282,844,517,900"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#a3dc59646a2e97d015dfdddb65021429b" title=" " alt="" coords="301,925,498,966"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#aea8849fa69a3f5dbd3216c8b06f180ea" title=" " alt="" coords="306,990,493,1031"/>
</map>
</div>
<div id="dynsection-30" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-30-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-30-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-30-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a233316f9ec2805dd6a08fbf07f3a078a_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a233316f9ec2805dd6a08fbf07f3a078a_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a233316f9ec2805dd6a08fbf07f3a078a_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a233316f9ec2805dd6a08fbf07f3a078a_icgraph">
<area shape="rect" title=" " alt="" coords="212,5,395,47"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#ad0a00ada1fcd5b7ceec27b1a6cbdc281" title=" " alt="" coords="5,5,164,47"/>
</map>
</div>

</div>
</div>
<a id="ab22f61f153b522f429210c61eed2d5af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22f61f153b522f429210c61eed2d5af">&#9670;&nbsp;</a></span>build_history()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent.build_history </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return the constructed history object.</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l00738">738</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="unigram_8py_source.html#l00056">parlai.agents.unigram.unigram.UnigramAgent.dict</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00092">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.dict</a>, <a class="el" href="memnn__v0_8py_source.html#l00102">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.dict</a>, <a class="el" href="remote__agent_8py_source.html#l00165">parlai.agents.remote_agent.remote_agent.ParsedRemoteAgent.dict</a>, <a class="el" href="language__model_8py_source.html#l00171">parlai.agents.language_model.language_model.LanguageModelAgent.dict</a>, <a class="el" href="torch__agent_8py_source.html#l00174">parlai.core.torch_agent.History.dict</a>, <a class="el" href="starspace_8py_source.html#l00192">parlai.agents.starspace.starspace.StarspaceAgent.dict</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00198">parlai.agents.legacy_agents.memnn.modules_v0.Decoder.dict</a>, <a class="el" href="fairseq_8py_source.html#l00208">parlai.agents.fairseq.fairseq._ParlaiTask.dict</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00289">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.dict</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00375">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.dict</a>, <a class="el" href="fairseq_8py_source.html#l00396">parlai.agents.fairseq.fairseq.FairseqAgent.dict</a>, <a class="el" href="torch__agent_8py_source.html#l00667">parlai.core.torch_agent.TorchAgent.dict</a>, <a class="el" href="bert__classifier_8py_source.html#l00073">parlai.agents.bert_classifier.bert_classifier.BertClassifierAgent.history_class()</a>, <a class="el" href="torch__agent_8py_source.html#l00384">parlai.core.torch_agent.TorchAgent.history_class()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00326">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.histsz</a>, <a class="el" href="torch__agent_8py_source.html#l00722">parlai.core.torch_agent.TorchAgent.histsz</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00017">parlai.agents.legacy_agents.memnn.modules_v0.MemNN.opt</a>, <a class="el" href="parlai_2agents_2language__model_2modules_8py_source.html#l00018">parlai.agents.language_model.modules.RNNModel.opt</a>, <a class="el" href="rnn__reader_8py_source.html#l00019">parlai.agents.drqa.rnn_reader.RnnDocReader.opt</a>, <a class="el" href="model_8py_source.html#l00024">parlai.agents.drqa.model.DocReaderModel.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00033">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.opt</a>, <a class="el" href="parlai_2agents_2starspace_2modules_8py_source.html#l00036">parlai.agents.starspace.modules.Starspace.opt</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00040">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.opt</a>, <a class="el" href="unigram_8py_source.html#l00052">parlai.agents.unigram.unigram.UnigramAgent.opt</a>, <a class="el" href="parlai_2core_2agents_8py_source.html#l00060">parlai.core.agents.Agent.opt</a>, <a class="el" href="remote__agent_8py_source.html#l00060">parlai.agents.remote_agent.remote_agent.RemoteAgentAgent.opt</a>, <a class="el" href="memnn__v0_8py_source.html#l00135">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.opt</a>, <a class="el" href="parlai_2agents_2transformer_2modules_8py_source.html#l00137">parlai.agents.transformer.modules.TransformerMemNetModel.opt</a>, <a class="el" href="language__model_8py_source.html#l00169">parlai.agents.language_model.language_model.LanguageModelAgent.opt</a>, <a class="el" href="dict__v0_8py_source.html#l00196">parlai.agents.legacy_agents.seq2seq.dict_v0.DictionaryAgent.opt</a>, <a class="el" href="dict__v1_8py_source.html#l00206">parlai.agents.legacy_agents.seq2seq.dict_v1.DictionaryAgent.opt</a>, <a class="el" href="ir__baseline_8py_source.html#l00246">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.opt</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00295">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.opt</a>, <a class="el" href="fairseq_8py_source.html#l00338">parlai.agents.fairseq.fairseq.FairseqAgent.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00373">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.opt</a>, <a class="el" href="starspace_8py_source.html#l00582">parlai.agents.starspace.starspace.StarspaceAgent.opt</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00136">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.P1_TOKEN</a>, <a class="el" href="torch__agent_8py_source.html#l00336">parlai.core.torch_agent.TorchAgent.P1_TOKEN</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00137">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.P2_TOKEN</a>, <a class="el" href="torch__agent_8py_source.html#l00337">parlai.core.torch_agent.TorchAgent.P2_TOKEN</a>, and <a class="el" href="torch__agent_8py_source.html#l00726">parlai.core.torch_agent.TorchAgent.text_truncate</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__agent_8py_source.html#l00648">parlai.core.torch_agent.TorchAgent.__init__()</a>.</p>
<div id="dynsection-31" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-31-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-31-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-31-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_ab22f61f153b522f429210c61eed2d5af_cgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_ab22f61f153b522f429210c61eed2d5af_cgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_ab22f61f153b522f429210c61eed2d5af_cgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_ab22f61f153b522f429210c61eed2d5af_cgraph">
<area shape="rect" title=" " alt="" coords="5,50,172,91"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__classifier_1_1bert__classifier_1_1BertClassifierAgent.html#ad606525729dd0340fc98a0bb50e24187" title=" " alt="" coords="220,5,436,61"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a0bd9118252c602bb9d5a596ecae16717" title=" " alt="" coords="243,86,413,127"/>
</map>
</div>
<div id="dynsection-32" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-32-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-32-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-32-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_ab22f61f153b522f429210c61eed2d5af_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_ab22f61f153b522f429210c61eed2d5af_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_ab22f61f153b522f429210c61eed2d5af_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_ab22f61f153b522f429210c61eed2d5af_icgraph">
<area shape="rect" title=" " alt="" coords="212,5,379,47"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#ad0a00ada1fcd5b7ceec27b1a6cbdc281" title=" " alt="" coords="5,5,164,47"/>
</map>
</div>

</div>
</div>
<a id="aa51ac42dc34e3d2281a01cba78a96151"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa51ac42dc34e3d2281a01cba78a96151">&#9670;&nbsp;</a></span>build_lr_scheduler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent.build_lr_scheduler </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>states</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>hard_reset</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Create the learning rate scheduler, and assign it to self.scheduler.

This scheduler will be updated upon a call to receive_metrics.
May also create self.warmup_scheduler, if appropriate.

:param state_dict states: Possible state_dict provided by model
    checkpoint, for restoring LR state

:param bool hard_reset: If true, the LR scheduler should ignore the
    state dictionary.
</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l00890">890</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="torch__agent_8py_source.html#l00716">parlai.core.torch_agent.TorchAgent._number_training_updates</a>, <a class="el" href="torch__agent_8py_source.html#l00661">parlai.core.torch_agent.TorchAgent.fp16</a>, <a class="el" href="torch__agent_8py_source.html#l01681">parlai.core.torch_agent.TorchAgent.load_state_dict()</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00017">parlai.agents.legacy_agents.memnn.modules_v0.MemNN.opt</a>, <a class="el" href="parlai_2agents_2language__model_2modules_8py_source.html#l00018">parlai.agents.language_model.modules.RNNModel.opt</a>, <a class="el" href="rnn__reader_8py_source.html#l00019">parlai.agents.drqa.rnn_reader.RnnDocReader.opt</a>, <a class="el" href="model_8py_source.html#l00024">parlai.agents.drqa.model.DocReaderModel.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00033">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.opt</a>, <a class="el" href="parlai_2agents_2starspace_2modules_8py_source.html#l00036">parlai.agents.starspace.modules.Starspace.opt</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00040">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.opt</a>, <a class="el" href="unigram_8py_source.html#l00052">parlai.agents.unigram.unigram.UnigramAgent.opt</a>, <a class="el" href="remote__agent_8py_source.html#l00060">parlai.agents.remote_agent.remote_agent.RemoteAgentAgent.opt</a>, <a class="el" href="parlai_2core_2agents_8py_source.html#l00060">parlai.core.agents.Agent.opt</a>, <a class="el" href="memnn__v0_8py_source.html#l00135">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.opt</a>, <a class="el" href="parlai_2agents_2transformer_2modules_8py_source.html#l00137">parlai.agents.transformer.modules.TransformerMemNetModel.opt</a>, <a class="el" href="language__model_8py_source.html#l00169">parlai.agents.language_model.language_model.LanguageModelAgent.opt</a>, <a class="el" href="dict__v0_8py_source.html#l00196">parlai.agents.legacy_agents.seq2seq.dict_v0.DictionaryAgent.opt</a>, <a class="el" href="dict__v1_8py_source.html#l00206">parlai.agents.legacy_agents.seq2seq.dict_v1.DictionaryAgent.opt</a>, <a class="el" href="ir__baseline_8py_source.html#l00246">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.opt</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00295">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.opt</a>, <a class="el" href="fairseq_8py_source.html#l00338">parlai.agents.fairseq.fairseq.FairseqAgent.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00373">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.opt</a>, <a class="el" href="starspace_8py_source.html#l00582">parlai.agents.starspace.starspace.StarspaceAgent.opt</a>, <a class="el" href="model_8py_source.html#l00042">parlai.agents.drqa.model.DocReaderModel.optimizer</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00067">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.optimizer</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00092">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.optimizer</a>, <a class="el" href="bert__classifier_8py_source.html#l00136">parlai.agents.bert_classifier.bert_classifier.BertClassifierAgent.optimizer</a>, <a class="el" href="starspace_8py_source.html#l00261">parlai.agents.starspace.starspace.StarspaceAgent.optimizer</a>, <a class="el" href="language__model_8py_source.html#l00262">parlai.agents.language_model.language_model.LanguageModelAgent.optimizer</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00361">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.optimizer</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00528">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.optimizer</a>, <a class="el" href="torch__agent_8py_source.html#l00850">parlai.core.torch_agent.TorchAgent.optimizer</a>, <a class="el" href="language__model_8py_source.html#l00268">parlai.agents.language_model.language_model.LanguageModelAgent.scheduler</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00379">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.scheduler</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00549">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.scheduler</a>, <a class="el" href="torch__agent_8py_source.html#l00930">parlai.core.torch_agent.TorchAgent.scheduler</a>, and <a class="el" href="torch__agent_8py_source.html#l00922">parlai.core.torch_agent.TorchAgent.warmup_scheduler</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__classifier__agent_8py_source.html#l00085">parlai.core.torch_classifier_agent.TorchClassifierAgent.__init__()</a>, <a class="el" href="torch__ranker__agent_8py_source.html#l00129">parlai.core.torch_ranker_agent.TorchRankerAgent.__init__()</a>, and <a class="el" href="torch__generator__agent_8py_source.html#l00304">parlai.core.torch_generator_agent.TorchGeneratorAgent.__init__()</a>.</p>
<div id="dynsection-33" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-33-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-33-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-33-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_aa51ac42dc34e3d2281a01cba78a96151_cgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_aa51ac42dc34e3d2281a01cba78a96151_cgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_aa51ac42dc34e3d2281a01cba78a96151_cgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_aa51ac42dc34e3d2281a01cba78a96151_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,203,47"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a5dcfca62a677f8de97f09ce993258f84" title=" " alt="" coords="251,5,432,47"/>
</map>
</div>
<div id="dynsection-34" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-34-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-34-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-34-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_aa51ac42dc34e3d2281a01cba78a96151_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_aa51ac42dc34e3d2281a01cba78a96151_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_aa51ac42dc34e3d2281a01cba78a96151_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_aa51ac42dc34e3d2281a01cba78a96151_icgraph">
<area shape="rect" title=" " alt="" coords="247,93,444,134"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__classifier__agent_1_1TorchClassifierAgent.html#af9f194b4566a43f0840286a39ee0032a" title=" " alt="" coords="7,5,197,61"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#acde404a79bf3678bb52d3e6c3ee5244a" title=" " alt="" coords="13,85,191,141"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__generator__agent_1_1TorchGeneratorAgent.html#a60f9613d8d2761569c8862b690b24bce" title=" " alt="" coords="5,165,199,221"/>
</map>
</div>

</div>
</div>
<a id="a9a21fa33fa5b2b928024fbc67826f233"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a21fa33fa5b2b928024fbc67826f233">&#9670;&nbsp;</a></span>build_model()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent.build_model </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Construct the model and return it.</pre> 
<p>Reimplemented in <a class="el" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#a275a60cb93929725725d103fc76905ba">parlai.agents.fairseq.fairseq.FairseqAgent</a>, <a class="el" href="classgenerator_1_1agents_1_1EndToEndAgent.html#a4350bfc0d04bf47814db2d14b95ac3bb">generator.agents.EndToEndAgent</a>, <a class="el" href="classself__feeding_1_1self__feeding__agent_1_1SelfFeedingAgent.html#ae8934c79f3d7079b09dadb1fc78d59b5">self_feeding.self_feeding_agent.SelfFeedingAgent</a>, <a class="el" href="classparlai_1_1agents_1_1bert__classifier_1_1bert__classifier_1_1BertClassifierAgent.html#a9bd6daeddde03212d67e452ef93118c4">parlai.agents.bert_classifier.bert_classifier.BertClassifierAgent</a>, <a class="el" href="classparlai_1_1agents_1_1memnn_1_1memnn_1_1MemnnAgent.html#aa5b5782548443a008c0502ec9ddedee2">parlai.agents.memnn.memnn.MemnnAgent</a>, <a class="el" href="classparlai_1_1agents_1_1test__agents_1_1dummy__torch__agent_1_1MockTorchAgent.html#a8d6b885ba3adcee439eab49922e584a4">parlai.agents.test_agents.dummy_torch_agent.MockTorchAgent</a>, <a class="el" href="classparlai_1_1agents_1_1bert__ranker_1_1cross__encoder__ranker_1_1CrossEncoderRankerAgent.html#a0754f7cf281a0223667ffb82c846a843">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent</a>, <a class="el" href="classparlai_1_1agents_1_1bert__ranker_1_1bi__encoder__ranker_1_1BiEncoderRankerAgent.html#a120946c26655cbb680f1e492cf4e4817">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent</a>, and <a class="el" href="classparlai_1_1agents_1_1transformer__classifier_1_1transformer__classifier_1_1TransformerClassifierAgent.html#a10a0e65863e4e7b6a0ac30d3ff6f3c5f">parlai.agents.transformer_classifier.transformer_classifier.TransformerClassifierAgent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l00801">801</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__classifier__agent_8py_source.html#l00085">parlai.core.torch_classifier_agent.TorchClassifierAgent.__init__()</a>, <a class="el" href="torch__ranker__agent_8py_source.html#l00129">parlai.core.torch_ranker_agent.TorchRankerAgent.__init__()</a>, <a class="el" href="controllable__seq2seq_8py_source.html#l00271">controllable_seq2seq.controllable_seq2seq.ControllableSeq2seqAgent.__init__()</a>, and <a class="el" href="torch__generator__agent_8py_source.html#l00304">parlai.core.torch_generator_agent.TorchGeneratorAgent.__init__()</a>.</p>
<div id="dynsection-35" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-35-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-35-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-35-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a9a21fa33fa5b2b928024fbc67826f233_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a9a21fa33fa5b2b928024fbc67826f233_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a9a21fa33fa5b2b928024fbc67826f233_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a9a21fa33fa5b2b928024fbc67826f233_icgraph">
<area shape="rect" title=" " alt="" coords="339,130,501,171"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__classifier__agent_1_1TorchClassifierAgent.html#af9f194b4566a43f0840286a39ee0032a" title=" " alt="" coords="53,5,243,61"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#acde404a79bf3678bb52d3e6c3ee5244a" title=" " alt="" coords="59,85,237,141"/>
<area shape="rect" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a2cbe8ed3b2b6b82be90db6b45331800b" title=" " alt="" coords="5,166,291,207"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__generator__agent_1_1TorchGeneratorAgent.html#a60f9613d8d2761569c8862b690b24bce" title=" " alt="" coords="51,232,245,288"/>
</map>
</div>

</div>
</div>
<a id="aea8849fa69a3f5dbd3216c8b06f180ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea8849fa69a3f5dbd3216c8b06f180ea">&#9670;&nbsp;</a></span>dictionary_class()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent.dictionary_class </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Return the dictionary class that this agent expects to use.

Can be overriden if a more complex dictionary is required.
</pre> 
<p>Reimplemented in <a class="el" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#a3dc59646a2e97d015dfdddb65021429b">parlai.agents.fairseq.fairseq.FairseqAgent</a>, <a class="el" href="classparlai_1_1agents_1_1bert__ranker_1_1cross__encoder__ranker_1_1CrossEncoderRankerAgent.html#a0518d01be6a05fc2bc117f2c55cb6328">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent</a>, <a class="el" href="classparlai_1_1agents_1_1bert__classifier_1_1bert__classifier_1_1BertClassifierAgent.html#af568b5ebe0ada0e2823e9e2be2d70e9f">parlai.agents.bert_classifier.bert_classifier.BertClassifierAgent</a>, <a class="el" href="classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html#a4fd71b73fc926491aedc3da5921f62ca">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent</a>, <a class="el" href="classparlai_1_1agents_1_1test__agents_1_1dummy__torch__agent_1_1MockTorchAgent.html#a122bde825e09b1450578a7ab7d606bfd">parlai.agents.test_agents.dummy_torch_agent.MockTorchAgent</a>, <a class="el" href="classparlai_1_1agents_1_1bert__ranker_1_1bi__encoder__ranker_1_1BiEncoderRankerAgent.html#a7920edd41a6bdbd18e9a0c50a1953f9d">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent</a>, and <a class="el" href="classwizard__transformer__ranker_1_1wizard__transformer__ranker_1_1WizardTransformerRankerAgent.html#ab871cd99b32921aa5aa96306ad0818a6">wizard_transformer_ranker.wizard_transformer_ranker.WizardTransformerRankerAgent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l00375">375</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="transformer_8py_source.html#l00118">parlai.agents.transformer.transformer.TransformerRankerAgent.add_cmdline_args()</a>, <a class="el" href="transformer_8py_source.html#l00275">parlai.agents.transformer.transformer.TransformerGeneratorAgent.add_cmdline_args()</a>, <a class="el" href="torch__agent_8py_source.html#l00393">parlai.core.torch_agent.TorchAgent.add_cmdline_args()</a>, and <a class="el" href="torch__agent_8py_source.html#l00749">parlai.core.torch_agent.TorchAgent.build_dictionary()</a>.</p>
<div id="dynsection-36" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-36-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-36-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-36-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_aea8849fa69a3f5dbd3216c8b06f180ea_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_aea8849fa69a3f5dbd3216c8b06f180ea_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_aea8849fa69a3f5dbd3216c8b06f180ea_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_aea8849fa69a3f5dbd3216c8b06f180ea_icgraph">
<area shape="rect" title=" " alt="" coords="537,116,724,157"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1transformer_1_1TransformerRankerAgent.html#a6836668a4c2394d7217631fed533a7ac" title=" " alt="" coords="212,5,489,47"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1transformer_1_1TransformerGeneratorAgent.html#a496b5ccc5efe17f290c37dc094ff74e8" title=" " alt="" coords="231,71,471,127"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a4a72bdd07d2cb5ce402d0058140cad0d" title=" " alt="" coords="251,152,450,193"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a233316f9ec2805dd6a08fbf07f3a078a" title=" " alt="" coords="259,217,442,259"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#ad0a00ada1fcd5b7ceec27b1a6cbdc281" title=" " alt="" coords="5,217,164,259"/>
</map>
</div>

</div>
</div>
<a id="a18de0a52aeec4ef721aedbdd6ac06cad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18de0a52aeec4ef721aedbdd6ac06cad">&#9670;&nbsp;</a></span>eval_step()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent.eval_step </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>batch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">[Abstract] Process one batch but do not train on it.</pre> 
<p>Reimplemented in <a class="el" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a600aa2aca5941966727a8e02bb0430a3">controllable_seq2seq.controllable_seq2seq.ControllableSeq2seqAgent</a>, <a class="el" href="classparlai_1_1core_1_1torch__generator__agent_1_1TorchGeneratorAgent.html#ac584268dd08c6fcb0045aa968cad8561">parlai.core.torch_generator_agent.TorchGeneratorAgent</a>, <a class="el" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#aa635ffc4c0a0649c66b9b1cbb4dd5367">parlai.agents.fairseq.fairseq.FairseqAgent</a>, <a class="el" href="classself__feeding_1_1self__feeding__agent_1_1SelfFeedingAgent.html#a9f6ed50b9db65bede09f19810e05abc4">self_feeding.self_feeding_agent.SelfFeedingAgent</a>, <a class="el" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#a65bca7841123e4c3df1e09f8c4eb397f">parlai.core.torch_ranker_agent.TorchRankerAgent</a>, <a class="el" href="classparlai_1_1agents_1_1example__seq2seq_1_1example__seq2seq_1_1ExampleSeq2seqAgent.html#a99c0209e5ac63d450c0f18e620d51d70">parlai.agents.example_seq2seq.example_seq2seq.ExampleSeq2seqAgent</a>, <a class="el" href="classparlai_1_1core_1_1torch__classifier__agent_1_1TorchClassifierAgent.html#a5d456df843180fb32ca574dc2a33cc80">parlai.core.torch_classifier_agent.TorchClassifierAgent</a>, <a class="el" href="classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html#a6d189366af4a1264770d59e4b114967a">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent</a>, <a class="el" href="classparlai_1_1agents_1_1test__agents_1_1dummy__torch__agent_1_1MockTorchAgent.html#aea8dfe6e44a419f31e741c4770a82f9b">parlai.agents.test_agents.dummy_torch_agent.MockTorchAgent</a>, and <a class="el" href="classparrot_1_1ParrotAgent.html#a210ad5eb90ce7add4a2b2cb641c4de3c">parrot.ParrotAgent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l01769">1769</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="projects_2image__chat_2transresnet__multimodal_2transresnet__multimodal_8py_source.html#l00243">transresnet_multimodal.transresnet_multimodal.TransresnetMultimodalAgent.batch_act()</a>, <a class="el" href="projects_2personality__captions_2transresnet_2transresnet_8py_source.html#l00288">transresnet.transresnet.TransresnetAgent.batch_act()</a>, and <a class="el" href="torch__agent_8py_source.html#l01725">parlai.core.torch_agent.TorchAgent.batch_act()</a>.</p>
<div id="dynsection-37" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-37-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-37-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-37-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a18de0a52aeec4ef721aedbdd6ac06cad_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a18de0a52aeec4ef721aedbdd6ac06cad_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a18de0a52aeec4ef721aedbdd6ac06cad_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a18de0a52aeec4ef721aedbdd6ac06cad_icgraph">
<area shape="rect" title=" " alt="" coords="663,100,821,141"/>
<area shape="rect" href="classtransresnet__multimodal_1_1transresnet__multimodal_1_1TransresnetMultimodalAgent.html#a057eb1109f5c2ea467539083e2f7e7f6" title=" " alt="" coords="292,100,615,141"/>
<area shape="rect" href="classtransresnet_1_1transresnet_1_1TransresnetAgent.html#a5eadf6ccc4b1d15a520a70d111bff493" title=" " alt="" coords="360,35,547,76"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a7754a74d6c87590f46e71ec486c285a8" title=" " alt="" coords="374,165,533,207"/>
<area shape="rect" href="classtransresnet_1_1transresnet_1_1TransresnetAgent.html#ad59fea461b2ea1f9731742901203bdd7" title=" " alt="" coords="45,5,205,47"/>
<area shape="rect" href="classmastering__the__dungeon_1_1agents_1_1graph__world2_1_1agents_1_1ModelAgentBase.html#a768f25fa424b2cd4d1de8e62bfed970a" title=" " alt="" coords="5,71,244,112"/>
<area shape="rect" href="classagent_1_1memnn__feedback_1_1MemnnFeedbackAgent.html#ab221141e0a956be465e718bb349e7554" title=" " alt="" coords="21,136,229,177"/>
<area shape="rect" href="classkvmemnn_1_1KvmemnnAgent.html#a6f57723b871277392a3f3fd627c717d8" title=" " alt="" coords="25,202,224,229"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a51174dfa508970e3392246b02d0d94b5" title=" " alt="" coords="45,253,204,295"/>
<area shape="rect" href="classparlai_1_1core_1_1worlds_1_1BatchWorld.html#a297ab42faba47581774cd9333c874905" title=" " alt="" coords="43,319,206,360"/>
</map>
</div>

</div>
</div>
<a id="a0bd9118252c602bb9d5a596ecae16717"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bd9118252c602bb9d5a596ecae16717">&#9670;&nbsp;</a></span>history_class()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent.history_class </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return the history class that this agent expects to use.

Can be overriden if a more complex history is required.
</pre> 
<p>Reimplemented in <a class="el" href="classparlai_1_1agents_1_1bert__classifier_1_1bert__classifier_1_1BertClassifierAgent.html#ad606525729dd0340fc98a0bb50e24187">parlai.agents.bert_classifier.bert_classifier.BertClassifierAgent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l00384">384</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__agent_8py_source.html#l00738">parlai.core.torch_agent.TorchAgent.build_history()</a>.</p>
<div id="dynsection-38" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-38-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-38-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-38-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a0bd9118252c602bb9d5a596ecae16717_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a0bd9118252c602bb9d5a596ecae16717_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a0bd9118252c602bb9d5a596ecae16717_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a0bd9118252c602bb9d5a596ecae16717_icgraph">
<area shape="rect" title=" " alt="" coords="427,5,597,47"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#ab22f61f153b522f429210c61eed2d5af" title=" " alt="" coords="212,5,379,47"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#ad0a00ada1fcd5b7ceec27b1a6cbdc281" title=" " alt="" coords="5,5,164,47"/>
</map>
</div>

</div>
</div>
<a id="a3784f1ddaa6ffad009716910f3f36dd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3784f1ddaa6ffad009716910f3f36dd4">&#9670;&nbsp;</a></span>init_optim()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent.init_optim </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>optim_states</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>saved_optim_type</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Initialize optimizer with model parameters.

:param params:
    parameters from the model

:param optim_states:
    optional argument providing states of optimizer to load

:param saved_optim_type:
    type of optimizer being loaded, if changed will skip loading
    optimizer states
</pre> 
<p>Reimplemented in <a class="el" href="classparlai_1_1agents_1_1bert__classifier_1_1bert__classifier_1_1BertClassifierAgent.html#aaf78ab1d312861ef4ba73bc7813e68aa">parlai.agents.bert_classifier.bert_classifier.BertClassifierAgent</a>, <a class="el" href="classparlai_1_1agents_1_1bert__ranker_1_1cross__encoder__ranker_1_1CrossEncoderRankerAgent.html#aedbc5976f08f86c9587c0b7486879846">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent</a>, and <a class="el" href="classparlai_1_1agents_1_1bert__ranker_1_1bi__encoder__ranker_1_1BiEncoderRankerAgent.html#a14ad454025e3db96b5f34e1270e44254">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l00805">805</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="torch__agent_8py_source.html#l00661">parlai.core.torch_agent.TorchAgent.fp16</a>, <a class="el" href="torch__agent_8py_source.html#l01681">parlai.core.torch_agent.TorchAgent.load_state_dict()</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00017">parlai.agents.legacy_agents.memnn.modules_v0.MemNN.opt</a>, <a class="el" href="parlai_2agents_2language__model_2modules_8py_source.html#l00018">parlai.agents.language_model.modules.RNNModel.opt</a>, <a class="el" href="rnn__reader_8py_source.html#l00019">parlai.agents.drqa.rnn_reader.RnnDocReader.opt</a>, <a class="el" href="model_8py_source.html#l00024">parlai.agents.drqa.model.DocReaderModel.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00033">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.opt</a>, <a class="el" href="parlai_2agents_2starspace_2modules_8py_source.html#l00036">parlai.agents.starspace.modules.Starspace.opt</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00040">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.opt</a>, <a class="el" href="unigram_8py_source.html#l00052">parlai.agents.unigram.unigram.UnigramAgent.opt</a>, <a class="el" href="parlai_2core_2agents_8py_source.html#l00060">parlai.core.agents.Agent.opt</a>, <a class="el" href="remote__agent_8py_source.html#l00060">parlai.agents.remote_agent.remote_agent.RemoteAgentAgent.opt</a>, <a class="el" href="memnn__v0_8py_source.html#l00135">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.opt</a>, <a class="el" href="parlai_2agents_2transformer_2modules_8py_source.html#l00137">parlai.agents.transformer.modules.TransformerMemNetModel.opt</a>, <a class="el" href="language__model_8py_source.html#l00169">parlai.agents.language_model.language_model.LanguageModelAgent.opt</a>, <a class="el" href="dict__v0_8py_source.html#l00196">parlai.agents.legacy_agents.seq2seq.dict_v0.DictionaryAgent.opt</a>, <a class="el" href="dict__v1_8py_source.html#l00206">parlai.agents.legacy_agents.seq2seq.dict_v1.DictionaryAgent.opt</a>, <a class="el" href="ir__baseline_8py_source.html#l00246">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.opt</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00295">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.opt</a>, <a class="el" href="fairseq_8py_source.html#l00338">parlai.agents.fairseq.fairseq.FairseqAgent.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00373">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.opt</a>, <a class="el" href="starspace_8py_source.html#l00582">parlai.agents.starspace.starspace.StarspaceAgent.opt</a>, <a class="el" href="torch__agent_8py_source.html#l00340">parlai.core.torch_agent.TorchAgent.optim_opts()</a>, <a class="el" href="model_8py_source.html#l00042">parlai.agents.drqa.model.DocReaderModel.optimizer</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00067">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.optimizer</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00092">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.optimizer</a>, <a class="el" href="bert__classifier_8py_source.html#l00136">parlai.agents.bert_classifier.bert_classifier.BertClassifierAgent.optimizer</a>, <a class="el" href="starspace_8py_source.html#l00261">parlai.agents.starspace.starspace.StarspaceAgent.optimizer</a>, <a class="el" href="language__model_8py_source.html#l00262">parlai.agents.language_model.language_model.LanguageModelAgent.optimizer</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00361">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.optimizer</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00528">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.optimizer</a>, <a class="el" href="torch__agent_8py_source.html#l00850">parlai.core.torch_agent.TorchAgent.optimizer</a>, and <a class="el" href="torch__agent_8py_source.html#l01616">parlai.core.torch_agent.TorchAgent.state_dict()</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__classifier__agent_8py_source.html#l00085">parlai.core.torch_classifier_agent.TorchClassifierAgent.__init__()</a>, <a class="el" href="torch__ranker__agent_8py_source.html#l00129">parlai.core.torch_ranker_agent.TorchRankerAgent.__init__()</a>, <a class="el" href="controllable__seq2seq_8py_source.html#l00271">controllable_seq2seq.controllable_seq2seq.ControllableSeq2seqAgent.__init__()</a>, and <a class="el" href="torch__generator__agent_8py_source.html#l00304">parlai.core.torch_generator_agent.TorchGeneratorAgent.__init__()</a>.</p>
<div id="dynsection-39" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-39-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-39-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-39-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a3784f1ddaa6ffad009716910f3f36dd4_cgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a3784f1ddaa6ffad009716910f3f36dd4_cgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a3784f1ddaa6ffad009716910f3f36dd4_cgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a3784f1ddaa6ffad009716910f3f36dd4_cgraph">
<area shape="rect" title=" " alt="" coords="5,71,164,112"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a5dcfca62a677f8de97f09ce993258f84" title=" " alt="" coords="212,5,393,47"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a9c622b8ed5a811841f30fe98cc297cde" title=" " alt="" coords="223,71,382,112"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a9f89e606931a4622a5c6a6f6b832235c" title=" " alt="" coords="223,136,382,177"/>
</map>
</div>
<div id="dynsection-40" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-40-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-40-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-40-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a3784f1ddaa6ffad009716910f3f36dd4_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a3784f1ddaa6ffad009716910f3f36dd4_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a3784f1ddaa6ffad009716910f3f36dd4_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a3784f1ddaa6ffad009716910f3f36dd4_icgraph">
<area shape="rect" title=" " alt="" coords="339,130,497,171"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__classifier__agent_1_1TorchClassifierAgent.html#af9f194b4566a43f0840286a39ee0032a" title=" " alt="" coords="53,5,243,61"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#acde404a79bf3678bb52d3e6c3ee5244a" title=" " alt="" coords="59,85,237,141"/>
<area shape="rect" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a2cbe8ed3b2b6b82be90db6b45331800b" title=" " alt="" coords="5,166,291,207"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__generator__agent_1_1TorchGeneratorAgent.html#a60f9613d8d2761569c8862b690b24bce" title=" " alt="" coords="51,232,245,288"/>
</map>
</div>

</div>
</div>
<a id="afa491bf2384b017711ad722b5341b405"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa491bf2384b017711ad722b5341b405">&#9670;&nbsp;</a></span>is_valid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent.is_valid </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Determine if an observation is valid or not.</pre> 
<p>Reimplemented in <a class="el" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#a42b30bed79467abe02d8b7c65ff33b9c">parlai.agents.fairseq.fairseq.FairseqAgent</a>, <a class="el" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#a3a80c3eb68b019859da2a83706c3844d">parlai.core.torch_ranker_agent.TorchRankerAgent</a>, and <a class="el" href="classparlai_1_1agents_1_1seq2seq_1_1seq2seq_1_1Seq2seqAgent.html#a6fbfdde4ec69ec4050fa4005c6608f1a">parlai.agents.seq2seq.seq2seq.Seq2seqAgent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l01411">1411</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="memnn_8py_source.html#l00146">parlai.agents.memnn.memnn.MemnnAgent.batchify()</a>, <a class="el" href="transformer_8py_source.html#l00208">parlai.agents.transformer.transformer.TransformerRankerAgent.batchify()</a>, <a class="el" href="controllable__seq2seq_8py_source.html#l00634">controllable_seq2seq.controllable_seq2seq.ControllableSeq2seqAgent.batchify()</a>, and <a class="el" href="torch__agent_8py_source.html#l01415">parlai.core.torch_agent.TorchAgent.batchify()</a>.</p>
<div id="dynsection-41" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-41-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-41-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-41-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_afa491bf2384b017711ad722b5341b405_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_afa491bf2384b017711ad722b5341b405_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_afa491bf2384b017711ad722b5341b405_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_afa491bf2384b017711ad722b5341b405_icgraph">
<area shape="rect" title=" " alt="" coords="883,345,1041,386"/>
<area shape="rect" href="classparlai_1_1agents_1_1memnn_1_1memnn_1_1MemnnAgent.html#a463b88b1d7fc9a7adea9802762c5968c" title=" " alt="" coords="594,246,789,287"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1transformer_1_1TransformerRankerAgent.html#a2592aa2dc8469ab671656597b4ba48a8" title=" " alt="" coords="571,311,811,353"/>
<area shape="rect" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a3f2e49f47969ce90731af512332ccb34" title=" " alt="" coords="548,442,835,483"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a4c5824776df0c6cf995984a5e7a3f433" title=" " alt="" coords="612,377,771,418"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a7754a74d6c87590f46e71ec486c285a8" title=" " alt="" coords="317,187,475,229"/>
<area shape="rect" href="classagent_1_1memnn__feedback_1_1MemnnFeedbackAgent.html#a901865f6607e3b5509831785bc1e29d0" title=" " alt="" coords="292,379,500,421"/>
<area shape="rect" href="classkvmemnn_1_1KvmemnnAgent.html#ac7dba84c37dab7ef33f52d263fbdbdc7" title=" " alt="" coords="11,408,238,435"/>
<area shape="rect" href="classtransresnet_1_1transresnet_1_1TransresnetAgent.html#ad59fea461b2ea1f9731742901203bdd7" title=" " alt="" coords="45,187,205,229"/>
<area shape="rect" href="classmastering__the__dungeon_1_1agents_1_1graph__world2_1_1agents_1_1ModelAgentBase.html#a768f25fa424b2cd4d1de8e62bfed970a" title=" " alt="" coords="5,253,244,294"/>
<area shape="rect" href="classagent_1_1memnn__feedback_1_1MemnnFeedbackAgent.html#ab221141e0a956be465e718bb349e7554" title=" " alt="" coords="21,318,229,359"/>
<area shape="rect" href="classkvmemnn_1_1KvmemnnAgent.html#a6f57723b871277392a3f3fd627c717d8" title=" " alt="" coords="25,5,224,32"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a51174dfa508970e3392246b02d0d94b5" title=" " alt="" coords="45,57,204,98"/>
<area shape="rect" href="classparlai_1_1core_1_1worlds_1_1BatchWorld.html#a297ab42faba47581774cd9333c874905" title=" " alt="" coords="43,122,206,163"/>
</map>
</div>

</div>
</div>
<a id="a32921aa09a682ee752d4822a5f5ebbb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32921aa09a682ee752d4822a5f5ebbb4">&#9670;&nbsp;</a></span>last_reply()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent.last_reply </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>use_reply</em> = <code>'label'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Retrieve the last reply from the model.

If available, we use the true label instead of the model's prediction.

By default, batch_act stores the batch of replies and this method
will extract the reply of the current instance from the batch.

:param use_label:
    default true, use the label when available instead of the model's
    generated response.
</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l01553">1553</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="memnn__v0_8py_source.html#l00185">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.batch_idx</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00324">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.batch_idx</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00360">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.batch_idx</a>, <a class="el" href="pytorch__data__teacher_8py_source.html#l00701">parlai.core.pytorch_data_teacher.PytorchDataTeacher.batch_idx</a>, <a class="el" href="torch__agent_8py_source.html#l00720">parlai.core.torch_agent.TorchAgent.batch_idx</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00034">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.observation</a>, <a class="el" href="retriever__reader_8py_source.html#l00048">parlai.agents.retriever_reader.retriever_reader.RetrieverReaderAgent.observation</a>, <a class="el" href="parlai_2core_2agents_8py_source.html#l00061">parlai.core.agents.Agent.observation</a>, <a class="el" href="unigram_8py_source.html#l00066">parlai.agents.unigram.unigram.UnigramAgent.observation</a>, <a class="el" href="drqa_8py_source.html#l00181">parlai.agents.drqa.drqa.DrqaAgent.observation</a>, <a class="el" href="memnn__v0_8py_source.html#l00218">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.observation</a>, <a class="el" href="ir__baseline_8py_source.html#l00255">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.observation</a>, <a class="el" href="starspace_8py_source.html#l00255">parlai.agents.starspace.starspace.StarspaceAgent.observation</a>, <a class="el" href="language__model_8py_source.html#l00330">parlai.agents.language_model.language_model.LanguageModelAgent.observation</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00620">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.observation</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00933">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.observation</a>, <a class="el" href="teachers_8py_source.html#l00151">parlai.core.teachers.FixedDialogTeacher.random</a>, <a class="el" href="parlai_2core_2agents_8py_source.html#l00276">parlai.core.agents.MultiTaskTeacher.random</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00322">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.random</a>, <a class="el" href="torch__agent_8py_source.html#l00718">parlai.core.torch_agent.TorchAgent.random</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00288">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.replies</a>, and <a class="el" href="torch__agent_8py_source.html#l00665">parlai.core.torch_agent.TorchAgent.replies</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__agent_8py_source.html#l01595">parlai.core.torch_agent.TorchAgent.observe()</a>.</p>
<div id="dynsection-42" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-42-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-42-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-42-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a32921aa09a682ee752d4822a5f5ebbb4_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a32921aa09a682ee752d4822a5f5ebbb4_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a32921aa09a682ee752d4822a5f5ebbb4_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a32921aa09a682ee752d4822a5f5ebbb4_icgraph">
<area shape="rect" title=" " alt="" coords="465,39,624,80"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a87b18f0d6ab11be3c49375af072d0d33" title=" " alt="" coords="259,39,417,80"/>
<area shape="rect" href="classparlai_1_1tasks_1_1talkthewalk_1_1worlds_1_1SimulateWorld.html#a6bd5a8a8e194dd4aa76aeecdf429bc7f" title=" " alt="" coords="5,5,211,47"/>
<area shape="rect" href="classparlai_1_1core_1_1worlds_1_1ExecutableWorld.html#a6555592d2b7c316e72febc1fccf43bdb" title=" " alt="" coords="11,71,205,112"/>
</map>
</div>

</div>
</div>
<a id="af626fc7d32fc9b0dfeec167a52353baf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af626fc7d32fc9b0dfeec167a52353baf">&#9670;&nbsp;</a></span>load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent.load </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return opt and model states.

Override this method for more specific loading.
</pre> 
<p>Reimplemented in <a class="el" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a86c91e473f1a1d2345aa70658f0acbeb">controllable_seq2seq.controllable_seq2seq.ControllableSeq2seqAgent</a>, <a class="el" href="classself__feeding_1_1self__feeding__agent_1_1SelfFeedingAgent.html#a50e6f81560e522b6178f913bb3f1258a">self_feeding.self_feeding_agent.SelfFeedingAgent</a>, <a class="el" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#a20245b04f2a8229809368fb7c43f81e3">parlai.agents.fairseq.fairseq.FairseqAgent</a>, <a class="el" href="classparlai_1_1agents_1_1seq2seq_1_1seq2seq_1_1Seq2seqAgent.html#a6f94b2896a2a76476f8646ec7d9360ed">parlai.agents.seq2seq.seq2seq.Seq2seqAgent</a>, <a class="el" href="classwizard__transformer__ranker_1_1wizard__transformer__ranker_1_1WizardTransformerRankerAgent.html#a0dc84b46e7df927db8235f2f2a48f5b0">wizard_transformer_ranker.wizard_transformer_ranker.WizardTransformerRankerAgent</a>, and <a class="el" href="classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html#a3900966ef98a770cf6e871bb7de67907">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l01689">1689</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="transformer__classifier_8py_source.html#l00064">parlai.agents.transformer_classifier.transformer_classifier.TransformerClassifierAgent.load_state_dict()</a>, <a class="el" href="polyencoder_8py_source.html#l00180">parlai.agents.transformer.polyencoder.PolyencoderAgent.load_state_dict()</a>, <a class="el" href="torch__agent_8py_source.html#l01681">parlai.core.torch_agent.TorchAgent.load_state_dict()</a>, <a class="el" href="model_8py_source.html#l00042">parlai.agents.drqa.model.DocReaderModel.optimizer</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00067">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.optimizer</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00092">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.optimizer</a>, <a class="el" href="bert__classifier_8py_source.html#l00136">parlai.agents.bert_classifier.bert_classifier.BertClassifierAgent.optimizer</a>, <a class="el" href="starspace_8py_source.html#l00261">parlai.agents.starspace.starspace.StarspaceAgent.optimizer</a>, <a class="el" href="language__model_8py_source.html#l00262">parlai.agents.language_model.language_model.LanguageModelAgent.optimizer</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00361">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.optimizer</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00528">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.optimizer</a>, and <a class="el" href="torch__agent_8py_source.html#l00850">parlai.core.torch_agent.TorchAgent.optimizer</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__classifier__agent_8py_source.html#l00085">parlai.core.torch_classifier_agent.TorchClassifierAgent.__init__()</a>, <a class="el" href="torch__ranker__agent_8py_source.html#l00129">parlai.core.torch_ranker_agent.TorchRankerAgent.__init__()</a>, <a class="el" href="controllable__seq2seq_8py_source.html#l00271">controllable_seq2seq.controllable_seq2seq.ControllableSeq2seqAgent.__init__()</a>, <a class="el" href="projects_2personachat_2kvmemnn_2kvmemnn_8py_source.html#l00282">kvmemnn.KvmemnnAgent.__init__()</a>, <a class="el" href="torch__generator__agent_8py_source.html#l00304">parlai.core.torch_generator_agent.TorchGeneratorAgent.__init__()</a>, <a class="el" href="projects_2image__chat_2transresnet__multimodal_2transresnet__multimodal_8py_source.html#l00039">transresnet_multimodal.transresnet_multimodal.TransresnetMultimodalAgent.add_cmdline_args()</a>, and <a class="el" href="projects_2personality__captions_2transresnet_2transresnet_8py_source.html#l00115">transresnet.transresnet.TransresnetAgent.share()</a>.</p>
<div id="dynsection-43" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-43-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-43-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-43-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_af626fc7d32fc9b0dfeec167a52353baf_cgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_af626fc7d32fc9b0dfeec167a52353baf_cgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_af626fc7d32fc9b0dfeec167a52353baf_cgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_af626fc7d32fc9b0dfeec167a52353baf_cgraph">
<area shape="rect" title=" " alt="" coords="5,100,164,141"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer__classifier_1_1transformer__classifier_1_1TransformerClassifierAgent.html#a2799356b935d49c3fa522f07428ff1c3" title=" " alt="" coords="229,5,439,76"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1polyencoder_1_1PolyencoderAgent.html#a4b6301664c0a7e98e9c688cc75ca79dc" title=" " alt="" coords="212,100,456,141"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a5dcfca62a677f8de97f09ce993258f84" title=" " alt="" coords="243,165,425,207"/>
</map>
</div>
<div id="dynsection-44" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-44-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-44-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-44-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_af626fc7d32fc9b0dfeec167a52353baf_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_af626fc7d32fc9b0dfeec167a52353baf_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_af626fc7d32fc9b0dfeec167a52353baf_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_af626fc7d32fc9b0dfeec167a52353baf_icgraph">
<area shape="rect" title=" " alt="" coords="340,231,499,273"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__classifier__agent_1_1TorchClassifierAgent.html#af9f194b4566a43f0840286a39ee0032a" title=" " alt="" coords="53,5,244,61"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#acde404a79bf3678bb52d3e6c3ee5244a" title=" " alt="" coords="59,85,238,141"/>
<area shape="rect" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a2cbe8ed3b2b6b82be90db6b45331800b" title=" " alt="" coords="6,166,291,207"/>
<area shape="rect" href="classkvmemnn_1_1KvmemnnAgent.html#a7a510bb5ac2444d5a30715c77bf55684" title=" " alt="" coords="59,231,239,273"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__generator__agent_1_1TorchGeneratorAgent.html#a60f9613d8d2761569c8862b690b24bce" title=" " alt="" coords="52,297,245,353"/>
<area shape="rect" href="classtransresnet__multimodal_1_1transresnet__multimodal_1_1TransresnetMultimodalAgent.html#ae30fd68376b12a3264e95c8e607df102" title="Initialization and argument parsers." alt="" coords="5,377,292,433"/>
<area shape="rect" href="classtransresnet_1_1transresnet_1_1TransresnetAgent.html#a1a1e5d359d0c7dadfb6eb67a5db686b5" title=" " alt="" coords="68,458,229,499"/>
</map>
</div>

</div>
</div>
<a id="a5dcfca62a677f8de97f09ce993258f84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dcfca62a677f8de97f09ce993258f84">&#9670;&nbsp;</a></span>load_state_dict()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent.load_state_dict </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>state_dict</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Load the state dict into model.

This is easily overridable to facilitate transfer of state dicts.
</pre> 
<p>Reimplemented in <a class="el" href="classparlai_1_1agents_1_1transformer_1_1polyencoder_1_1PolyencoderAgent.html#a4b6301664c0a7e98e9c688cc75ca79dc">parlai.agents.transformer.polyencoder.PolyencoderAgent</a>, and <a class="el" href="classparlai_1_1agents_1_1transformer__classifier_1_1transformer__classifier_1_1TransformerClassifierAgent.html#a2799356b935d49c3fa522f07428ff1c3">parlai.agents.transformer_classifier.transformer_classifier.TransformerClassifierAgent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l01681">1681</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="crossencoder_8py_source.html#l00028">parlai.agents.transformer.crossencoder.CrossencoderAgent.model</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00050">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.model</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00074">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.model</a>, <a class="el" href="dummy__torch__agent_8py_source.html#l00079">parlai.agents.test_agents.dummy_torch_agent.MockTorchAgent.model</a>, <a class="el" href="polyencoder_8py_source.html#l00099">parlai.agents.transformer.polyencoder.PolyencoderAgent.model</a>, <a class="el" href="memnn__v0_8py_source.html#l00104">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.model</a>, <a class="el" href="drqa_8py_source.html#l00123">parlai.agents.drqa.drqa.DrqaAgent.model</a>, <a class="el" href="language__model_8py_source.html#l00173">parlai.agents.language_model.language_model.LanguageModelAgent.model</a>, <a class="el" href="transformer_8py_source.html#l00185">parlai.agents.transformer.transformer.TransformerRankerAgent.model</a>, <a class="el" href="starspace_8py_source.html#l00193">parlai.agents.starspace.starspace.StarspaceAgent.model</a>, <a class="el" href="seq2seq__v1_8py_source.html#l00230">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent.model</a>, <a class="el" href="fairseq_8py_source.html#l00354">parlai.agents.fairseq.fairseq.FairseqAgent.model</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00381">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.model</a>, and <a class="el" href="torch__agent_8py_source.html#l00689">parlai.core.torch_agent.TorchAgent.model</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__agent_8py_source.html#l00890">parlai.core.torch_agent.TorchAgent.build_lr_scheduler()</a>, <a class="el" href="torch__agent_8py_source.html#l00805">parlai.core.torch_agent.TorchAgent.init_optim()</a>, <a class="el" href="wizard__transformer__ranker_8py_source.html#l00129">wizard_transformer_ranker.wizard_transformer_ranker.WizardTransformerRankerAgent.load()</a>, <a class="el" href="agents_2seq2seq_2seq2seq_8py_source.html#l00221">parlai.agents.seq2seq.seq2seq.Seq2seqAgent.load()</a>, <a class="el" href="self__feeding__agent_8py_source.html#l00824">self_feeding.self_feeding_agent.SelfFeedingAgent.load()</a>, and <a class="el" href="torch__agent_8py_source.html#l01689">parlai.core.torch_agent.TorchAgent.load()</a>.</p>
<div id="dynsection-45" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-45-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-45-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-45-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a5dcfca62a677f8de97f09ce993258f84_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a5dcfca62a677f8de97f09ce993258f84_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a5dcfca62a677f8de97f09ce993258f84_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a5dcfca62a677f8de97f09ce993258f84_icgraph">
<area shape="rect" title=" " alt="" coords="611,279,792,321"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#aa51ac42dc34e3d2281a01cba78a96151" title=" " alt="" coords="353,101,550,142"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a3784f1ddaa6ffad009716910f3f36dd4" title=" " alt="" coords="372,173,531,214"/>
<area shape="rect" href="classwizard__transformer__ranker_1_1wizard__transformer__ranker_1_1WizardTransformerRankerAgent.html#a0dc84b46e7df927db8235f2f2a48f5b0" title=" " alt="" coords="340,425,563,495"/>
<area shape="rect" href="classparlai_1_1agents_1_1seq2seq_1_1seq2seq_1_1Seq2seqAgent.html#a6f94b2896a2a76476f8646ec7d9360ed" title=" " alt="" coords="348,311,555,353"/>
<area shape="rect" href="classself__feeding_1_1self__feeding__agent_1_1SelfFeedingAgent.html#a50e6f81560e522b6178f913bb3f1258a" title=" " alt="" coords="353,614,549,655"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#af626fc7d32fc9b0dfeec167a52353baf" title=" " alt="" coords="372,246,531,287"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__classifier__agent_1_1TorchClassifierAgent.html#af9f194b4566a43f0840286a39ee0032a" title=" " alt="" coords="53,5,244,61"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#acde404a79bf3678bb52d3e6c3ee5244a" title=" " alt="" coords="59,85,238,141"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__generator__agent_1_1TorchGeneratorAgent.html#a60f9613d8d2761569c8862b690b24bce" title=" " alt="" coords="52,165,245,221"/>
<area shape="rect" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a2cbe8ed3b2b6b82be90db6b45331800b" title=" " alt="" coords="6,246,291,287"/>
<area shape="rect" href="classtransresnet__multimodal_1_1transresnet__multimodal_1_1TransresnetMultimodalAgent.html#ae30fd68376b12a3264e95c8e607df102" title="Initialization and argument parsers." alt="" coords="5,655,292,711"/>
<area shape="rect" href="classwizard__transformer__ranker_1_1wizard__dict_1_1WizardDictAgent.html#adb8a1ecd2f5090bee76d334513dd7665" title=" " alt="" coords="59,443,239,499"/>
<area shape="rect" href="classparlai_1_1agents_1_1starspace_1_1starspace_1_1StarspaceAgent.html#a6bdc1142c021946ee6cb409d4f9dc3c9" title=" " alt="" coords="37,523,260,565"/>
<area shape="rect" href="classparlai_1_1core_1_1dict_1_1DictionaryAgent.html#a324531500b43e0039f2c0087081a8b3d" title=" " alt="" coords="63,589,234,630"/>
<area shape="rect" href="classkvmemnn_1_1KvmemnnAgent.html#a7a510bb5ac2444d5a30715c77bf55684" title=" " alt="" coords="59,311,239,353"/>
<area shape="rect" href="classtransresnet_1_1transresnet_1_1TransresnetAgent.html#a1a1e5d359d0c7dadfb6eb67a5db686b5" title=" " alt="" coords="68,377,229,418"/>
</map>
</div>

</div>
</div>
<a id="aba56b961d929e5c5b5da9cf8bd331502"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba56b961d929e5c5b5da9cf8bd331502">&#9670;&nbsp;</a></span>match_batch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent.match_batch </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>batch_reply</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>valid_inds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>output</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Match sub-batch of predictions to the original batch indices.

Batches may be only partially filled (i.e when completing the remainder
at the end of the validation or test set), or we may want to sort by
e.g the length of the input sequences if using pack_padded_sequence.

This matches rows back with their original row in the batch for
calculating metrics like accuracy.

If output is None (model choosing not to provide any predictions), we
will just return the batch of replies.

Otherwise, output should be a parlai.core.torch_agent.Output object.
This is a namedtuple, which can provide text predictions and/or
text_candidates predictions. If you would like to map additional
fields into the batch_reply, you can override this method as well as
providing your own namedtuple with additional fields.

:param batch_reply:
    Full-batchsize list of message dictionaries to put responses into.

:param valid_inds:
    Original indices of the predictions.

:param output:
    Output namedtuple which contains sub-batchsize list of text outputs
    from model. May be None (default) if model chooses not to answer.
    This method will check for ``text`` and ``text_candidates`` fields.
</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l01512">1512</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__agent_8py_source.html#l01725">parlai.core.torch_agent.TorchAgent.batch_act()</a>.</p>
<div id="dynsection-46" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-46-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-46-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-46-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_aba56b961d929e5c5b5da9cf8bd331502_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_aba56b961d929e5c5b5da9cf8bd331502_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_aba56b961d929e5c5b5da9cf8bd331502_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_aba56b961d929e5c5b5da9cf8bd331502_icgraph">
<area shape="rect" title=" " alt="" coords="499,165,667,207"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a7754a74d6c87590f46e71ec486c285a8" title=" " alt="" coords="292,165,451,207"/>
<area shape="rect" href="classtransresnet_1_1transresnet_1_1TransresnetAgent.html#ad59fea461b2ea1f9731742901203bdd7" title=" " alt="" coords="45,5,205,47"/>
<area shape="rect" href="classmastering__the__dungeon_1_1agents_1_1graph__world2_1_1agents_1_1ModelAgentBase.html#a768f25fa424b2cd4d1de8e62bfed970a" title=" " alt="" coords="5,71,244,112"/>
<area shape="rect" href="classagent_1_1memnn__feedback_1_1MemnnFeedbackAgent.html#ab221141e0a956be465e718bb349e7554" title=" " alt="" coords="21,136,229,177"/>
<area shape="rect" href="classkvmemnn_1_1KvmemnnAgent.html#a6f57723b871277392a3f3fd627c717d8" title=" " alt="" coords="25,202,224,229"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a51174dfa508970e3392246b02d0d94b5" title=" " alt="" coords="45,253,204,295"/>
<area shape="rect" href="classparlai_1_1core_1_1worlds_1_1BatchWorld.html#a297ab42faba47581774cd9333c874905" title=" " alt="" coords="43,319,206,360"/>
</map>
</div>

</div>
</div>
<a id="a87b18f0d6ab11be3c49375af072d0d33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87b18f0d6ab11be3c49375af072d0d33">&#9670;&nbsp;</a></span>observe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent.observe </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>observation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Process incoming message in preparation for producing a response.

This includes remembering the past history of the conversation.
</pre> 
<p>Reimplemented from <a class="el" href="classparlai_1_1core_1_1agents_1_1Agent.html#a98041e2d186aa81bd5e1649a91f623bc">parlai.core.agents.Agent</a>.</p>

<p>Reimplemented in <a class="el" href="classself__feeding_1_1self__feeding__agent_1_1SelfFeedingAgent.html#a7e76b6e8f11577a56a9c000cb360a44e">self_feeding.self_feeding_agent.SelfFeedingAgent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l01595">1595</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="memnn__v0_8py_source.html#l00184">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.history</a>, <a class="el" href="starspace_8py_source.html#l00187">parlai.agents.starspace.starspace.StarspaceAgent.history</a>, <a class="el" href="ir__baseline_8py_source.html#l00247">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.history</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00328">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.history</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00357">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.history</a>, <a class="el" href="torch__agent_8py_source.html#l00730">parlai.core.torch_agent.TorchAgent.history</a>, <a class="el" href="torch__agent_8py_source.html#l00728">parlai.core.torch_agent.TorchAgent.label_truncate</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00855">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.last_reply()</a>, <a class="el" href="torch__agent_8py_source.html#l01553">parlai.core.torch_agent.TorchAgent.last_reply()</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00034">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.observation</a>, <a class="el" href="retriever__reader_8py_source.html#l00048">parlai.agents.retriever_reader.retriever_reader.RetrieverReaderAgent.observation</a>, <a class="el" href="parlai_2core_2agents_8py_source.html#l00061">parlai.core.agents.Agent.observation</a>, <a class="el" href="unigram_8py_source.html#l00066">parlai.agents.unigram.unigram.UnigramAgent.observation</a>, <a class="el" href="drqa_8py_source.html#l00181">parlai.agents.drqa.drqa.DrqaAgent.observation</a>, <a class="el" href="memnn__v0_8py_source.html#l00218">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.observation</a>, <a class="el" href="starspace_8py_source.html#l00255">parlai.agents.starspace.starspace.StarspaceAgent.observation</a>, <a class="el" href="ir__baseline_8py_source.html#l00255">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.observation</a>, <a class="el" href="language__model_8py_source.html#l00330">parlai.agents.language_model.language_model.LanguageModelAgent.observation</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00620">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.observation</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00933">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.observation</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00017">parlai.agents.legacy_agents.memnn.modules_v0.MemNN.opt</a>, <a class="el" href="parlai_2agents_2language__model_2modules_8py_source.html#l00018">parlai.agents.language_model.modules.RNNModel.opt</a>, <a class="el" href="rnn__reader_8py_source.html#l00019">parlai.agents.drqa.rnn_reader.RnnDocReader.opt</a>, <a class="el" href="model_8py_source.html#l00024">parlai.agents.drqa.model.DocReaderModel.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00033">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.opt</a>, <a class="el" href="parlai_2agents_2starspace_2modules_8py_source.html#l00036">parlai.agents.starspace.modules.Starspace.opt</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00040">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.opt</a>, <a class="el" href="unigram_8py_source.html#l00052">parlai.agents.unigram.unigram.UnigramAgent.opt</a>, <a class="el" href="remote__agent_8py_source.html#l00060">parlai.agents.remote_agent.remote_agent.RemoteAgentAgent.opt</a>, <a class="el" href="parlai_2core_2agents_8py_source.html#l00060">parlai.core.agents.Agent.opt</a>, <a class="el" href="memnn__v0_8py_source.html#l00135">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.opt</a>, <a class="el" href="parlai_2agents_2transformer_2modules_8py_source.html#l00137">parlai.agents.transformer.modules.TransformerMemNetModel.opt</a>, <a class="el" href="language__model_8py_source.html#l00169">parlai.agents.language_model.language_model.LanguageModelAgent.opt</a>, <a class="el" href="dict__v0_8py_source.html#l00196">parlai.agents.legacy_agents.seq2seq.dict_v0.DictionaryAgent.opt</a>, <a class="el" href="dict__v1_8py_source.html#l00206">parlai.agents.legacy_agents.seq2seq.dict_v1.DictionaryAgent.opt</a>, <a class="el" href="ir__baseline_8py_source.html#l00246">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.opt</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00295">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.opt</a>, <a class="el" href="fairseq_8py_source.html#l00338">parlai.agents.fairseq.fairseq.FairseqAgent.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00373">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.opt</a>, <a class="el" href="starspace_8py_source.html#l00582">parlai.agents.starspace.starspace.StarspaceAgent.opt</a>, <a class="el" href="torch__agent_8py_source.html#l00726">parlai.core.torch_agent.TorchAgent.text_truncate</a>, <a class="el" href="biencoder_8py_source.html#l00018">parlai.agents.transformer.biencoder.BiencoderAgent.vectorize()</a>, <a class="el" href="transformer__classifier_8py_source.html#l00040">parlai.agents.transformer_classifier.transformer_classifier.TransformerClassifierAgent.vectorize()</a>, <a class="el" href="crossencoder_8py_source.html#l00040">parlai.agents.transformer.crossencoder.CrossencoderAgent.vectorize()</a>, <a class="el" href="polyencoder_8py_source.html#l00105">parlai.agents.transformer.polyencoder.PolyencoderAgent.vectorize()</a>, <a class="el" href="memnn_8py_source.html#l00140">parlai.agents.memnn.memnn.MemnnAgent.vectorize()</a>, <a class="el" href="example__seq2seq_8py_source.html#l00217">parlai.agents.example_seq2seq.example_seq2seq.ExampleSeq2seqAgent.vectorize()</a>, <a class="el" href="transformer_8py_source.html#l00226">parlai.agents.transformer.transformer.TransformerRankerAgent.vectorize()</a>, <a class="el" href="seq2seq__v1_8py_source.html#l00394">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent.vectorize()</a>, <a class="el" href="starspace_8py_source.html#l00465">parlai.agents.starspace.starspace.StarspaceAgent.vectorize()</a>, <a class="el" href="language__model_8py_source.html#l00558">parlai.agents.language_model.language_model.LanguageModelAgent.vectorize()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00636">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.vectorize()</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00765">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.vectorize()</a>, and <a class="el" href="torch__agent_8py_source.html#l01355">parlai.core.torch_agent.TorchAgent.vectorize()</a>.</p>

<p class="reference">Referenced by <a class="el" href="parlai_2tasks_2talkthewalk_2worlds_8py_source.html#l00162">parlai.tasks.talkthewalk.worlds.SimulateWorld.parley()</a>, and <a class="el" href="parlai_2core_2worlds_8py_source.html#l00454">parlai.core.worlds.ExecutableWorld.parley()</a>.</p>
<div id="dynsection-47" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-47-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-47-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-47-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a87b18f0d6ab11be3c49375af072d0d33_cgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a87b18f0d6ab11be3c49375af072d0d33_cgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a87b18f0d6ab11be3c49375af072d0d33_cgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a87b18f0d6ab11be3c49375af072d0d33_cgraph">
<area shape="rect" title=" " alt="" coords="5,501,164,542"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#abf7a50ea0eb319737123d2e46fde4c0f" title=" " alt="" coords="231,5,445,61"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a32921aa09a682ee752d4822a5f5ebbb4" title=" " alt="" coords="259,86,417,127"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1biencoder_1_1BiencoderAgent.html#a1f39a7a0ed04f1d69181523bf40ba474" title=" " alt="" coords="223,151,453,193"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1crossencoder_1_1CrossencoderAgent.html#a24d5a7588ad705e23173f6d7e0d8ea1e" title=" " alt="" coords="212,217,464,258"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer__classifier_1_1transformer__classifier_1_1TransformerClassifierAgent.html#a0a293e95c6bc166daf780fbccd4d9cf8" title=" " alt="" coords="233,282,443,353"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1polyencoder_1_1PolyencoderAgent.html#a695911f4b9f2e738671d2c65f30e2c06" title=" " alt="" coords="216,377,460,418"/>
<area shape="rect" href="classparlai_1_1agents_1_1memnn_1_1memnn_1_1MemnnAgent.html#a10350468122f9e5c7416b021cc490c60" title=" " alt="" coords="563,545,757,586"/>
<area shape="rect" href="classparlai_1_1agents_1_1example__seq2seq_1_1example__seq2seq_1_1ExampleSeq2seqAgent.html#a6a418dbdcf6654546608de1d3c4dd94b" title=" " alt="" coords="1156,1177,1399,1233"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1transformer_1_1TransformerRankerAgent.html#a9ccc05d7a792fbb56166b20101429428" title=" " alt="" coords="218,442,458,483"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#ad996f79cf60e2442f165c3f0dcd10613" title=" " alt="" coords="565,611,755,667"/>
<area shape="rect" href="classparlai_1_1agents_1_1starspace_1_1starspace_1_1StarspaceAgent.html#a87253cca09c8b22848ff0bea7195e32d" title=" " alt="" coords="227,1213,449,1254"/>
<area shape="rect" href="classparlai_1_1agents_1_1language__model_1_1language__model_1_1LanguageModelAgent.html#aeddf3a4b207e0668644ce6dfd93f39ef" title=" " alt="" coords="871,1808,1093,1864"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a866838e1c81063a3ec18c5609e029f90" title=" " alt="" coords="555,2240,765,2296"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v0_1_1Seq2seqAgent.html#a83e2433e00bff6162ebad3b818771b59" title=" " alt="" coords="565,1637,755,1693"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a48bb9b153353a0565ab7253dc1daef99" title=" " alt="" coords="581,2659,739,2701"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1transformer_1_1TransformerRankerAgent.html#aca2169af7f9abd15927dc91b0bf50a7e" title=" " alt="" coords="512,427,808,469"/>
<area shape="rect" href="classparlai_1_1agents_1_1starspace_1_1starspace_1_1StarspaceAgent.html#ace15d00770ddf83193ddee499c7c87a1" title=" " alt="" coords="549,691,771,733"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v0_1_1Agent.html#a8bddd5b89230c9a2810e7ca15914997e" title=" " alt="" coords="1190,1537,1365,1593"/>
<area shape="rect" href="classparlai_1_1core_1_1agents_1_1Agent.html#a29e1cdd729ac4236f8bae90b2e66fa04" title=" " alt="" coords="1178,1384,1377,1411"/>
<area shape="rect" href="classparlai_1_1agents_1_1remote__agent_1_1remote__agent_1_1ParsedRemoteAgent.html#af4dd0281fd7d6ceb4936f27eaab13f06" title=" " alt="" coords="543,757,777,813"/>
<area shape="rect" href="classparlai_1_1agents_1_1starspace_1_1starspace_1_1StarspaceAgent.html#ab08bd065e56f11ebe2ad30d3894c46c7" title=" " alt="" coords="549,838,771,879"/>
<area shape="rect" href="classparlai_1_1agents_1_1language__model_1_1language__model_1_1LanguageModelAgent.html#ad67bbe760648032c08da9400bb2e3da1" title=" " alt="" coords="549,904,771,960"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1memnn_1_1memnn__v0_1_1MemnnAgent.html#a5e9b6393cb251b6030bb9a0db51b8026" title=" " alt="" coords="545,984,775,1040"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1dict__v0_1_1DictionaryAgent.html#a4f1667bb1484f0712678a8f679db6579" title=" " alt="" coords="572,1245,748,1301"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1dict__v1_1_1DictionaryAgent.html#acae89a6d1049de6fd2cab06c7804dcdd" title=" " alt="" coords="572,1165,748,1221"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v0_1_1Seq2seqAgent.html#a073830870e283f88ee45a95c0ae8ad2f" title=" " alt="" coords="573,1376,747,1432"/>
<area shape="rect" href="classparlai_1_1agents_1_1drqa_1_1model_1_1DocReaderModel.html#a798f609dcd78b3e66e00a81f26f12603" title=" " alt="" coords="1193,1885,1361,1926"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1memnn_1_1memnn__v0_1_1MemnnAgent.html#a4e850d51ca01adc45754cc509c8b096a" title=" " alt="" coords="867,1493,1097,1549"/>
<area shape="rect" href="classparlai_1_1agents_1_1starspace_1_1starspace_1_1StarspaceAgent.html#a16753fa083c07bcdb8164116d8288b39" title=" " alt="" coords="871,1377,1093,1418"/>
<area shape="rect" href="classparlai_1_1agents_1_1language__model_1_1language__model_1_1LanguageModelAgent.html#a1ff4e6849d50eb9d58a2f97a91d715ce" title=" " alt="" coords="1166,1975,1389,2031"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v0_1_1Seq2seqAgent.html#aadec879f7d8daa6451076e4fb358715b" title=" " alt="" coords="895,1573,1069,1629"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1bert__dictionary_1_1BertDictionaryAgent.html#a407dcd1aa927f8065334a825b2d099d9" title=" " alt="" coords="891,1245,1073,1301"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1dict__v0_1_1DictionaryAgent.html#a5d89ed4dcebcd41853bd0614d30337e7" title=" " alt="" coords="889,1165,1075,1221"/>
<area shape="rect" href="classparlai_1_1agents_1_1language__model_1_1language__model_1_1LanguageModelAgent.html#aa54ff09a8edc6ae51ac8be33aeb4acc8" title=" " alt="" coords="1166,1804,1389,1860"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#af7d66c2a4d9370532df8654048742a6c" title=" " alt="" coords="903,2375,1061,2446"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a062901964b89a83cfce76560e23e627a" title=" " alt="" coords="903,2470,1061,2541"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1cross__encoder__ranker_1_1CrossEncoderRankerAgent.html#a6ca6472fd7749ebf01c9a7f4216fcc6d" title=" " alt="" coords="866,2565,1098,2635"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__classifier_1_1bert__classifier_1_1BertClassifierAgent.html#a48a3ad41d33733e9cff1042d22f8fa60" title=" " alt="" coords="897,2091,1067,2162"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1bi__encoder__ranker_1_1BiEncoderRankerAgent.html#a35e3fabc73b2180662cbb0928d8848d1" title=" " alt="" coords="889,2186,1075,2257"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a85106541b03e5c9dad245b002da7431c" title=" " alt="" coords="903,2281,1061,2351"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v0_1_1Seq2seqAgent.html#a9326d8ed88999a992b8ec73313c70a36" title=" " alt="" coords="868,1704,1096,1760"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a4d28fb5efada28c0ed88e50f32d13d6a" title=" " alt="" coords="903,3081,1061,3137"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#ae4cd508e77aa5828217b6955f77f3a2d" title=" " alt="" coords="892,3162,1072,3203"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1biencoder_1_1BiencoderAgent.html#a0cd51555a1942d8924c0c4bcb07c3d50" title=" " alt="" coords="867,2659,1097,2701"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer__classifier_1_1transformer__classifier_1_1TransformerClassifierAgent.html#a6f6d24307c6f2a9171c8d7d111eb1658" title=" " alt="" coords="877,2725,1087,2795"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1crossencoder_1_1CrossencoderAgent.html#a7fabb77b81bb8352d31b58d0ed12b0b9" title=" " alt="" coords="856,2819,1108,2861"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1polyencoder_1_1PolyencoderAgent.html#a956698ff164fb878805b1c41054a1c8a" title=" " alt="" coords="860,2885,1104,2926"/>
<area shape="rect" href="classparlai_1_1agents_1_1memnn_1_1memnn_1_1MemnnAgent.html#a3bd2d78f6cbe46afb8b37ab5160bda83" title=" " alt="" coords="885,2950,1079,2991"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a70f9a0937c1bfba2892b65bce8493df7" title=" " alt="" coords="895,3015,1069,3057"/>
</map>
</div>
<div id="dynsection-48" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-48-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-48-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-48-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a87b18f0d6ab11be3c49375af072d0d33_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a87b18f0d6ab11be3c49375af072d0d33_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a87b18f0d6ab11be3c49375af072d0d33_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a87b18f0d6ab11be3c49375af072d0d33_icgraph">
<area shape="rect" title=" " alt="" coords="259,39,417,80"/>
<area shape="rect" href="classparlai_1_1tasks_1_1talkthewalk_1_1worlds_1_1SimulateWorld.html#a6bd5a8a8e194dd4aa76aeecdf429bc7f" title=" " alt="" coords="5,5,211,47"/>
<area shape="rect" href="classparlai_1_1core_1_1worlds_1_1ExecutableWorld.html#a6555592d2b7c316e72febc1fccf43bdb" title=" " alt="" coords="11,71,205,112"/>
</map>
</div>

</div>
</div>
<a id="a9c622b8ed5a811841f30fe98cc297cde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c622b8ed5a811841f30fe98cc297cde">&#9670;&nbsp;</a></span>optim_opts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent.optim_opts </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Fetch optimizer selection.

By default, collects everything in torch.optim, as well as importing:
- qhm / qhmadam if installed from github.com/facebookresearch/qhoptim

Override this (and probably call super()) to add your own optimizers.
</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l00340">340</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__agent_8py_source.html#l00393">parlai.core.torch_agent.TorchAgent.add_cmdline_args()</a>, and <a class="el" href="torch__agent_8py_source.html#l00805">parlai.core.torch_agent.TorchAgent.init_optim()</a>.</p>
<div id="dynsection-49" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-49-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-49-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-49-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a9c622b8ed5a811841f30fe98cc297cde_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a9c622b8ed5a811841f30fe98cc297cde_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a9c622b8ed5a811841f30fe98cc297cde_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a9c622b8ed5a811841f30fe98cc297cde_icgraph">
<area shape="rect" title=" " alt="" coords="585,98,744,139"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a4a72bdd07d2cb5ce402d0058140cad0d" title=" " alt="" coords="339,65,537,106"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a3784f1ddaa6ffad009716910f3f36dd4" title=" " alt="" coords="359,130,517,171"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__classifier__agent_1_1TorchClassifierAgent.html#af9f194b4566a43f0840286a39ee0032a" title=" " alt="" coords="53,5,243,61"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#acde404a79bf3678bb52d3e6c3ee5244a" title=" " alt="" coords="59,85,237,141"/>
<area shape="rect" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a2cbe8ed3b2b6b82be90db6b45331800b" title=" " alt="" coords="5,166,291,207"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__generator__agent_1_1TorchGeneratorAgent.html#a60f9613d8d2761569c8862b690b24bce" title=" " alt="" coords="51,232,245,288"/>
</map>
</div>

</div>
</div>
<a id="a02beaaedfa30463f9d0a97ea590b516f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02beaaedfa30463f9d0a97ea590b516f">&#9670;&nbsp;</a></span>receive_metrics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent.receive_metrics </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>metrics_dict</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Use the metrics to decide when to adjust LR schedule.

This uses the loss as the validation metric if present, if not this
function does nothing. Note that the model must be reporting loss for
this to work.

Override this to override the behavior.
</pre> 
<p>Reimplemented in <a class="el" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#a29521783f42e437063f9d861133965b0">parlai.agents.fairseq.fairseq.FairseqAgent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l01048">1048</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="torch__agent_8py_source.html#l01041">parlai.core.torch_agent.TorchAgent._is_lr_warming_up()</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00017">parlai.agents.legacy_agents.memnn.modules_v0.MemNN.opt</a>, <a class="el" href="parlai_2agents_2language__model_2modules_8py_source.html#l00018">parlai.agents.language_model.modules.RNNModel.opt</a>, <a class="el" href="rnn__reader_8py_source.html#l00019">parlai.agents.drqa.rnn_reader.RnnDocReader.opt</a>, <a class="el" href="model_8py_source.html#l00024">parlai.agents.drqa.model.DocReaderModel.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00033">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.opt</a>, <a class="el" href="parlai_2agents_2starspace_2modules_8py_source.html#l00036">parlai.agents.starspace.modules.Starspace.opt</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00040">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.opt</a>, <a class="el" href="unigram_8py_source.html#l00052">parlai.agents.unigram.unigram.UnigramAgent.opt</a>, <a class="el" href="remote__agent_8py_source.html#l00060">parlai.agents.remote_agent.remote_agent.RemoteAgentAgent.opt</a>, <a class="el" href="parlai_2core_2agents_8py_source.html#l00060">parlai.core.agents.Agent.opt</a>, <a class="el" href="memnn__v0_8py_source.html#l00135">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.opt</a>, <a class="el" href="parlai_2agents_2transformer_2modules_8py_source.html#l00137">parlai.agents.transformer.modules.TransformerMemNetModel.opt</a>, <a class="el" href="language__model_8py_source.html#l00169">parlai.agents.language_model.language_model.LanguageModelAgent.opt</a>, <a class="el" href="dict__v0_8py_source.html#l00196">parlai.agents.legacy_agents.seq2seq.dict_v0.DictionaryAgent.opt</a>, <a class="el" href="dict__v1_8py_source.html#l00206">parlai.agents.legacy_agents.seq2seq.dict_v1.DictionaryAgent.opt</a>, <a class="el" href="ir__baseline_8py_source.html#l00246">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.opt</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00295">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.opt</a>, <a class="el" href="fairseq_8py_source.html#l00338">parlai.agents.fairseq.fairseq.FairseqAgent.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00373">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.opt</a>, <a class="el" href="starspace_8py_source.html#l00582">parlai.agents.starspace.starspace.StarspaceAgent.opt</a>, <a class="el" href="language__model_8py_source.html#l00268">parlai.agents.language_model.language_model.LanguageModelAgent.scheduler</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00379">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.scheduler</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00549">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.scheduler</a>, and <a class="el" href="torch__agent_8py_source.html#l00930">parlai.core.torch_agent.TorchAgent.scheduler</a>.</p>
<div id="dynsection-50" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-50-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-50-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-50-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a02beaaedfa30463f9d0a97ea590b516f_cgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a02beaaedfa30463f9d0a97ea590b516f_cgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a02beaaedfa30463f9d0a97ea590b516f_cgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a02beaaedfa30463f9d0a97ea590b516f_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,191,47"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a5ce58a7b3ce88ac87cc1b7f7316ae9c4" title=" " alt="" coords="239,5,440,47"/>
</map>
</div>

</div>
</div>
<a id="ac694770cd4022eb047bf6fbb8f46035c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac694770cd4022eb047bf6fbb8f46035c">&#9670;&nbsp;</a></span>report()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent.report </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Report metrics.

Report includes learning rate and number of training updates.
</pre> 
<p>Reimplemented in <a class="el" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#a6314748dfa9aaf6e26145af686d5787d">parlai.core.torch_ranker_agent.TorchRankerAgent</a>, <a class="el" href="classself__feeding_1_1self__feeding__agent_1_1SelfFeedingAgent.html#a0731b4f9dc3e9763fbccaf48e531f3c6">self_feeding.self_feeding_agent.SelfFeedingAgent</a>, <a class="el" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#af7629e9695ec1f9e0f7368095a41b69c">parlai.agents.fairseq.fairseq.FairseqAgent</a>, <a class="el" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a0e4d244d148a011ab541b204518e227a">controllable_seq2seq.controllable_seq2seq.ControllableSeq2seqAgent</a>, <a class="el" href="classparlai_1_1core_1_1torch__generator__agent_1_1TorchGeneratorAgent.html#a3ed32722f939a8afd258830b7093fc18">parlai.core.torch_generator_agent.TorchGeneratorAgent</a>, <a class="el" href="classparlai_1_1core_1_1torch__classifier__agent_1_1TorchClassifierAgent.html#acf3aabdf7a98e434614c4da20c599df2">parlai.core.torch_classifier_agent.TorchClassifierAgent</a>, and <a class="el" href="classgenerator_1_1agents_1_1EndToEndAgent.html#a761044b6ad7410f5feb13e4231f60ce3">generator.agents.EndToEndAgent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l00990">990</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="torch__agent_8py_source.html#l01013">parlai.core.torch_agent.TorchAgent._gpu_usage()</a>, <a class="el" href="torch__agent_8py_source.html#l00716">parlai.core.torch_agent.TorchAgent._number_training_updates</a>, <a class="el" href="language__model_8py_source.html#l00159">parlai.agents.language_model.language_model.LanguageModelAgent.metrics</a>, <a class="el" href="parlai_2core_2agents_8py_source.html#l00192">parlai.core.agents.Teacher.metrics</a>, <a class="el" href="fairseq_8py_source.html#l00222">parlai.agents.fairseq.fairseq.FairseqAgent.metrics</a>, <a class="el" href="seq2seq__v1_8py_source.html#l00231">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent.metrics</a>, <a class="el" href="metrics_8py_source.html#l00237">parlai.core.metrics.Metrics.metrics</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00351">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.metrics</a>, <a class="el" href="torch__agent_8py_source.html#l00678">parlai.core.torch_agent.TorchAgent.metrics</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00017">parlai.agents.legacy_agents.memnn.modules_v0.MemNN.opt</a>, <a class="el" href="parlai_2agents_2language__model_2modules_8py_source.html#l00018">parlai.agents.language_model.modules.RNNModel.opt</a>, <a class="el" href="rnn__reader_8py_source.html#l00019">parlai.agents.drqa.rnn_reader.RnnDocReader.opt</a>, <a class="el" href="model_8py_source.html#l00024">parlai.agents.drqa.model.DocReaderModel.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00033">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.opt</a>, <a class="el" href="parlai_2agents_2starspace_2modules_8py_source.html#l00036">parlai.agents.starspace.modules.Starspace.opt</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00040">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.opt</a>, <a class="el" href="unigram_8py_source.html#l00052">parlai.agents.unigram.unigram.UnigramAgent.opt</a>, <a class="el" href="remote__agent_8py_source.html#l00060">parlai.agents.remote_agent.remote_agent.RemoteAgentAgent.opt</a>, <a class="el" href="parlai_2core_2agents_8py_source.html#l00060">parlai.core.agents.Agent.opt</a>, <a class="el" href="memnn__v0_8py_source.html#l00135">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.opt</a>, <a class="el" href="parlai_2agents_2transformer_2modules_8py_source.html#l00137">parlai.agents.transformer.modules.TransformerMemNetModel.opt</a>, <a class="el" href="language__model_8py_source.html#l00169">parlai.agents.language_model.language_model.LanguageModelAgent.opt</a>, <a class="el" href="dict__v0_8py_source.html#l00196">parlai.agents.legacy_agents.seq2seq.dict_v0.DictionaryAgent.opt</a>, <a class="el" href="dict__v1_8py_source.html#l00206">parlai.agents.legacy_agents.seq2seq.dict_v1.DictionaryAgent.opt</a>, <a class="el" href="ir__baseline_8py_source.html#l00246">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.opt</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00295">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.opt</a>, <a class="el" href="fairseq_8py_source.html#l00338">parlai.agents.fairseq.fairseq.FairseqAgent.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00373">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.opt</a>, <a class="el" href="starspace_8py_source.html#l00582">parlai.agents.starspace.starspace.StarspaceAgent.opt</a>, <a class="el" href="model_8py_source.html#l00042">parlai.agents.drqa.model.DocReaderModel.optimizer</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00067">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.optimizer</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00092">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.optimizer</a>, <a class="el" href="bert__classifier_8py_source.html#l00136">parlai.agents.bert_classifier.bert_classifier.BertClassifierAgent.optimizer</a>, <a class="el" href="starspace_8py_source.html#l00261">parlai.agents.starspace.starspace.StarspaceAgent.optimizer</a>, <a class="el" href="language__model_8py_source.html#l00262">parlai.agents.language_model.language_model.LanguageModelAgent.optimizer</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00361">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.optimizer</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00528">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.optimizer</a>, <a class="el" href="torch__agent_8py_source.html#l00850">parlai.core.torch_agent.TorchAgent.optimizer</a>, <a class="el" href="language__model_8py_source.html#l00268">parlai.agents.language_model.language_model.LanguageModelAgent.scheduler</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00379">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.scheduler</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00549">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.scheduler</a>, <a class="el" href="torch__agent_8py_source.html#l00930">parlai.core.torch_agent.TorchAgent.scheduler</a>, <a class="el" href="image__featurizers_8py_source.html#l00024">parlai.core.image_featurizers.ImageLoader.use_cuda</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00048">parlai.agents.legacy_agents.memnn.modules_v0.MemNN.use_cuda</a>, <a class="el" href="memnn__v0_8py_source.html#l00096">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.use_cuda</a>, <a class="el" href="language__model_8py_source.html#l00162">parlai.agents.language_model.language_model.LanguageModelAgent.use_cuda</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00303">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.use_cuda</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00367">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.use_cuda</a>, and <a class="el" href="torch__agent_8py_source.html#l00654">parlai.core.torch_agent.TorchAgent.use_cuda</a>.</p>
<div id="dynsection-51" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-51-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-51-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-51-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_ac694770cd4022eb047bf6fbb8f46035c_cgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_ac694770cd4022eb047bf6fbb8f46035c_cgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_ac694770cd4022eb047bf6fbb8f46035c_cgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_ac694770cd4022eb047bf6fbb8f46035c_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,164,47"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a151777a7e8d052ab4ce873d20a2b0c73" title=" " alt="" coords="212,5,375,47"/>
</map>
</div>

</div>
</div>
<a id="a6f568650dd8e245a274671680ebb7587"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f568650dd8e245a274671680ebb7587">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent.reset </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Clear internal states.</pre> 
<p>Reimplemented from <a class="el" href="classparlai_1_1core_1_1agents_1_1Agent.html#a27cb8206372681605b00dc28b81a7c39">parlai.core.agents.Agent</a>.</p>

<p>Reimplemented in <a class="el" href="classself__feeding_1_1self__feeding__agent_1_1SelfFeedingAgent.html#ae2a86795d3df6fbd0b0a41825922b247">self_feeding.self_feeding_agent.SelfFeedingAgent</a>, and <a class="el" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#acc5aa3887a6bf3ece28d60a9572fe50e">parlai.agents.fairseq.fairseq.FairseqAgent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l01702">1702</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="memnn__v0_8py_source.html#l00184">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.history</a>, <a class="el" href="starspace_8py_source.html#l00187">parlai.agents.starspace.starspace.StarspaceAgent.history</a>, <a class="el" href="ir__baseline_8py_source.html#l00247">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.history</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00328">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.history</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00357">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.history</a>, <a class="el" href="torch__agent_8py_source.html#l00730">parlai.core.torch_agent.TorchAgent.history</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00034">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.observation</a>, <a class="el" href="retriever__reader_8py_source.html#l00048">parlai.agents.retriever_reader.retriever_reader.RetrieverReaderAgent.observation</a>, <a class="el" href="parlai_2core_2agents_8py_source.html#l00061">parlai.core.agents.Agent.observation</a>, <a class="el" href="unigram_8py_source.html#l00066">parlai.agents.unigram.unigram.UnigramAgent.observation</a>, <a class="el" href="drqa_8py_source.html#l00181">parlai.agents.drqa.drqa.DrqaAgent.observation</a>, <a class="el" href="memnn__v0_8py_source.html#l00218">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.observation</a>, <a class="el" href="ir__baseline_8py_source.html#l00255">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.observation</a>, <a class="el" href="starspace_8py_source.html#l00255">parlai.agents.starspace.starspace.StarspaceAgent.observation</a>, <a class="el" href="language__model_8py_source.html#l00330">parlai.agents.language_model.language_model.LanguageModelAgent.observation</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00620">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.observation</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00933">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.observation</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00288">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.replies</a>, <a class="el" href="torch__agent_8py_source.html#l00665">parlai.core.torch_agent.TorchAgent.replies</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00062">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.reset_metrics()</a>, <a class="el" href="parlai_2core_2agents_8py_source.html#l00100">parlai.core.agents.Agent.reset_metrics()</a>, <a class="el" href="language__model_8py_source.html#l00333">parlai.agents.language_model.language_model.LanguageModelAgent.reset_metrics()</a>, <a class="el" href="seq2seq__v1_8py_source.html#l00346">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent.reset_metrics()</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00626">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.reset_metrics()</a>, and <a class="el" href="fairseq_8py_source.html#l00646">parlai.agents.fairseq.fairseq.FairseqAgent.reset_metrics()</a>.</p>
<div id="dynsection-52" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-52-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-52-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-52-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a6f568650dd8e245a274671680ebb7587_cgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a6f568650dd8e245a274671680ebb7587_cgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a6f568650dd8e245a274671680ebb7587_cgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a6f568650dd8e245a274671680ebb7587_cgraph">
<area shape="rect" title=" " alt="" coords="5,203,164,245"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v0_1_1Agent.html#acbe0accc588c66ea679806cd6450b293" title=" " alt="" coords="236,5,411,61"/>
<area shape="rect" href="classparlai_1_1core_1_1agents_1_1Agent.html#aaefcbd7c61d319b368b3ee13997c8c99" title=" " alt="" coords="225,86,421,127"/>
<area shape="rect" href="classparlai_1_1agents_1_1language__model_1_1language__model_1_1LanguageModelAgent.html#a62896fd9aa38b55c6ea1b8a8770e3261" title=" " alt="" coords="212,152,435,208"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#a521db011d2188e8e513976af5737c322" title=" " alt="" coords="236,233,411,303"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v0_1_1Seq2seqAgent.html#ae76435bf7acee9501188de47c0ba6991" title=" " alt="" coords="236,327,411,398"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#a029d7193a532d4cf75433e82817ab414" title=" " alt="" coords="230,422,417,463"/>
<area shape="rect" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#acc5aa3887a6bf3ece28d60a9572fe50e" title=" " alt="" coords="483,422,669,463"/>
</map>
</div>

</div>
</div>
<a id="a03e18955cfd44dd019d0847bc7a46893"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03e18955cfd44dd019d0847bc7a46893">&#9670;&nbsp;</a></span>reset_metrics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent.reset_metrics </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Reset all TorchAgentMetrics.</pre> 
<p>Reimplemented from <a class="el" href="classparlai_1_1core_1_1agents_1_1Agent.html#aaefcbd7c61d319b368b3ee13997c8c99">parlai.core.agents.Agent</a>.</p>

<p>Reimplemented in <a class="el" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#ab526b2171567fd980451a795bb639cda">parlai.core.torch_ranker_agent.TorchRankerAgent</a>, <a class="el" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#a029d7193a532d4cf75433e82817ab414">parlai.agents.fairseq.fairseq.FairseqAgent</a>, <a class="el" href="classself__feeding_1_1self__feeding__agent_1_1SelfFeedingAgent.html#a2776d1c54e11c170e50add2d20cd2633">self_feeding.self_feeding_agent.SelfFeedingAgent</a>, <a class="el" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#aca4a0f3e0d8da6f75070febb92498e8c">controllable_seq2seq.controllable_seq2seq.ControllableSeq2seqAgent</a>, <a class="el" href="classparlai_1_1core_1_1torch__generator__agent_1_1TorchGeneratorAgent.html#a7cac9c087d7357d32a7c3bc8fa74930c">parlai.core.torch_generator_agent.TorchGeneratorAgent</a>, <a class="el" href="classparlai_1_1core_1_1torch__classifier__agent_1_1TorchClassifierAgent.html#ac96e55ac13019eace0641a7efcf6dc44">parlai.core.torch_classifier_agent.TorchClassifierAgent</a>, and <a class="el" href="classgenerator_1_1agents_1_1EndToEndAgent.html#ac63595362de55d7c700d1362af372cd3">generator.agents.EndToEndAgent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l01709">1709</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="language__model_8py_source.html#l00159">parlai.agents.language_model.language_model.LanguageModelAgent.metrics</a>, <a class="el" href="parlai_2core_2agents_8py_source.html#l00192">parlai.core.agents.Teacher.metrics</a>, <a class="el" href="fairseq_8py_source.html#l00222">parlai.agents.fairseq.fairseq.FairseqAgent.metrics</a>, <a class="el" href="seq2seq__v1_8py_source.html#l00231">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent.metrics</a>, <a class="el" href="metrics_8py_source.html#l00237">parlai.core.metrics.Metrics.metrics</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00351">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.metrics</a>, and <a class="el" href="torch__agent_8py_source.html#l00678">parlai.core.torch_agent.TorchAgent.metrics</a>.</p>

</div>
</div>
<a id="adac7ee3db855786e8414e9f35fcb6e46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adac7ee3db855786e8414e9f35fcb6e46">&#9670;&nbsp;</a></span>save()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent.save </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>path</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Save model parameters to path (or default to model_file arg).

Please try to refrain from overriding this function, and instead
override `state_dict(self)` for more specific saving.
</pre> 
<p>Reimplemented from <a class="el" href="classparlai_1_1core_1_1agents_1_1Agent.html#a51e706e3e5389c9b48c7a1589d97ec99">parlai.core.agents.Agent</a>.</p>

<p>Reimplemented in <a class="el" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#abc818803e27d99525704db33cd4dd928">controllable_seq2seq.controllable_seq2seq.ControllableSeq2seqAgent</a>, <a class="el" href="classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html#a5e8419dfd48e5a9b0a999058a9537831">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent</a>, and <a class="el" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#ad4804131388a6f88f01fc124e7692069">parlai.agents.fairseq.fairseq.FairseqAgent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l01650">1650</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="unigram_8py_source.html#l00056">parlai.agents.unigram.unigram.UnigramAgent.dict</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00092">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.dict</a>, <a class="el" href="memnn__v0_8py_source.html#l00102">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.dict</a>, <a class="el" href="remote__agent_8py_source.html#l00165">parlai.agents.remote_agent.remote_agent.ParsedRemoteAgent.dict</a>, <a class="el" href="language__model_8py_source.html#l00171">parlai.agents.language_model.language_model.LanguageModelAgent.dict</a>, <a class="el" href="torch__agent_8py_source.html#l00174">parlai.core.torch_agent.History.dict</a>, <a class="el" href="starspace_8py_source.html#l00192">parlai.agents.starspace.starspace.StarspaceAgent.dict</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00198">parlai.agents.legacy_agents.memnn.modules_v0.Decoder.dict</a>, <a class="el" href="fairseq_8py_source.html#l00208">parlai.agents.fairseq.fairseq._ParlaiTask.dict</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00289">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.dict</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00375">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.dict</a>, <a class="el" href="fairseq_8py_source.html#l00396">parlai.agents.fairseq.fairseq.FairseqAgent.dict</a>, <a class="el" href="torch__agent_8py_source.html#l00667">parlai.core.torch_agent.TorchAgent.dict</a>, <a class="el" href="memnn_8py_source.html#l00068">parlai.agents.memnn.memnn.MemnnAgent.model_version()</a>, <a class="el" href="agents_2seq2seq_2seq2seq_8py_source.html#l00139">parlai.agents.seq2seq.seq2seq.Seq2seqAgent.model_version()</a>, <a class="el" href="seq2seq__v1_8py_source.html#l00186">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent.model_version()</a>, <a class="el" href="controllable__seq2seq_8py_source.html#l00261">controllable_seq2seq.controllable_seq2seq.ControllableSeq2seqAgent.model_version()</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00017">parlai.agents.legacy_agents.memnn.modules_v0.MemNN.opt</a>, <a class="el" href="parlai_2agents_2language__model_2modules_8py_source.html#l00018">parlai.agents.language_model.modules.RNNModel.opt</a>, <a class="el" href="rnn__reader_8py_source.html#l00019">parlai.agents.drqa.rnn_reader.RnnDocReader.opt</a>, <a class="el" href="model_8py_source.html#l00024">parlai.agents.drqa.model.DocReaderModel.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00033">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.opt</a>, <a class="el" href="parlai_2agents_2starspace_2modules_8py_source.html#l00036">parlai.agents.starspace.modules.Starspace.opt</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00040">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.opt</a>, <a class="el" href="unigram_8py_source.html#l00052">parlai.agents.unigram.unigram.UnigramAgent.opt</a>, <a class="el" href="parlai_2core_2agents_8py_source.html#l00060">parlai.core.agents.Agent.opt</a>, <a class="el" href="remote__agent_8py_source.html#l00060">parlai.agents.remote_agent.remote_agent.RemoteAgentAgent.opt</a>, <a class="el" href="memnn__v0_8py_source.html#l00135">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.opt</a>, <a class="el" href="parlai_2agents_2transformer_2modules_8py_source.html#l00137">parlai.agents.transformer.modules.TransformerMemNetModel.opt</a>, <a class="el" href="language__model_8py_source.html#l00169">parlai.agents.language_model.language_model.LanguageModelAgent.opt</a>, <a class="el" href="dict__v0_8py_source.html#l00196">parlai.agents.legacy_agents.seq2seq.dict_v0.DictionaryAgent.opt</a>, <a class="el" href="dict__v1_8py_source.html#l00206">parlai.agents.legacy_agents.seq2seq.dict_v1.DictionaryAgent.opt</a>, <a class="el" href="ir__baseline_8py_source.html#l00246">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.opt</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00295">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.opt</a>, <a class="el" href="fairseq_8py_source.html#l00338">parlai.agents.fairseq.fairseq.FairseqAgent.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00373">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.opt</a>, <a class="el" href="starspace_8py_source.html#l00582">parlai.agents.starspace.starspace.StarspaceAgent.opt</a>, <a class="el" href="drqa_8py_source.html#l00161">parlai.agents.drqa.drqa.DrqaAgent.state_dict</a>, <a class="el" href="agents_2seq2seq_2seq2seq_8py_source.html#l00211">parlai.agents.seq2seq.seq2seq.Seq2seqAgent.state_dict()</a>, and <a class="el" href="torch__agent_8py_source.html#l01616">parlai.core.torch_agent.TorchAgent.state_dict()</a>.</p>
<div id="dynsection-53" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-53-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-53-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-53-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_adac7ee3db855786e8414e9f35fcb6e46_cgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_adac7ee3db855786e8414e9f35fcb6e46_cgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_adac7ee3db855786e8414e9f35fcb6e46_cgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_adac7ee3db855786e8414e9f35fcb6e46_cgraph">
<area shape="rect" title=" " alt="" coords="5,191,164,232"/>
<area shape="rect" href="classparlai_1_1agents_1_1memnn_1_1memnn_1_1MemnnAgent.html#ae6e06364ccf919d70064d5966e5c1cf3" title=" " alt="" coords="277,5,471,47"/>
<area shape="rect" href="classparlai_1_1agents_1_1seq2seq_1_1seq2seq_1_1Seq2seqAgent.html#aba4b52b4f15795eeda202cb303525483" title=" " alt="" coords="271,71,477,112"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1seq2seq__v1_1_1Seq2seqAgent.html#a3838eb2d88b4e9f80c9c234e6742fa30" title=" " alt="" coords="287,136,461,207"/>
<area shape="rect" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a8995fe4b50a61a5b6c139d26dbb57ca2" title=" " alt="" coords="212,231,536,272"/>
<area shape="rect" href="classparlai_1_1agents_1_1seq2seq_1_1seq2seq_1_1Seq2seqAgent.html#a7b68df3db0fcadb70a97a28ec2617cb2" title=" " alt="" coords="271,296,477,337"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a9f89e606931a4622a5c6a6f6b832235c" title=" " alt="" coords="295,361,453,403"/>
</map>
</div>

</div>
</div>
<a id="a6a7aff29231816a0f3cade9c72409dfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a7aff29231816a0f3cade9c72409dfc">&#9670;&nbsp;</a></span>set_interactive_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent.set_interactive_mode </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>shared</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Set interactive mode on or off.</pre> 
<p>Reimplemented in <a class="el" href="classparlai_1_1core_1_1torch__generator__agent_1_1TorchGeneratorAgent.html#a8a3c13d2b8988d2a0cbb71f44ae81f52">parlai.core.torch_generator_agent.TorchGeneratorAgent</a>, and <a class="el" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#a9b90f2718c85b6373ead4cd207cfd3d8">parlai.core.torch_ranker_agent.TorchRankerAgent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l01773">1773</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__agent_8py_source.html#l00648">parlai.core.torch_agent.TorchAgent.__init__()</a>.</p>
<div id="dynsection-54" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-54-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-54-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-54-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a6a7aff29231816a0f3cade9c72409dfc_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a6a7aff29231816a0f3cade9c72409dfc_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a6a7aff29231816a0f3cade9c72409dfc_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a6a7aff29231816a0f3cade9c72409dfc_icgraph">
<area shape="rect" title=" " alt="" coords="212,5,429,47"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#ad0a00ada1fcd5b7ceec27b1a6cbdc281" title=" " alt="" coords="5,5,164,47"/>
</map>
</div>

</div>
</div>
<a id="a373f0e276bf7c9d914a4e3363e9c2712"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a373f0e276bf7c9d914a4e3363e9c2712">&#9670;&nbsp;</a></span>share()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent.share </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Share fields from parent as well as useful objects in this class.

Subclasses will likely want to share their model as well.
</pre> 
<p>Reimplemented from <a class="el" href="classparlai_1_1core_1_1agents_1_1Agent.html#afbbb06bf0f46ff927c8b186726a68b47">parlai.core.agents.Agent</a>.</p>

<p>Reimplemented in <a class="el" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#a9ba5899b6497645bb6d406ecc2441da7">parlai.core.torch_ranker_agent.TorchRankerAgent</a>, <a class="el" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a153984d9d4758330a17f59ff6df1ac7c">controllable_seq2seq.controllable_seq2seq.ControllableSeq2seqAgent</a>, <a class="el" href="classparlai_1_1core_1_1torch__generator__agent_1_1TorchGeneratorAgent.html#ad10e64dd33f1add04ba5bcf36b86c2bf">parlai.core.torch_generator_agent.TorchGeneratorAgent</a>, <a class="el" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#abf0abba72dd186a1a3773a04f7cde12d">parlai.agents.fairseq.fairseq.FairseqAgent</a>, <a class="el" href="classparlai_1_1agents_1_1bert__ranker_1_1bi__encoder__ranker_1_1BiEncoderRankerAgent.html#afbc986c30ae8857d8d4e505a1884b280">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent</a>, <a class="el" href="classparlai_1_1agents_1_1example__seq2seq_1_1example__seq2seq_1_1ExampleSeq2seqAgent.html#af9553036a43d3bb9163af31333c77886">parlai.agents.example_seq2seq.example_seq2seq.ExampleSeq2seqAgent</a>, and <a class="el" href="classparlai_1_1core_1_1torch__classifier__agent_1_1TorchClassifierAgent.html#a33e56566ee5e81b257b049bd6a3c1cd6">parlai.core.torch_classifier_agent.TorchClassifierAgent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l01188">1188</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="dummy__torch__agent_8py_source.html#l00080">parlai.agents.test_agents.dummy_torch_agent.MockTorchAgent.criterion</a>, <a class="el" href="example__seq2seq_8py_source.html#l00161">parlai.agents.example_seq2seq.example_seq2seq.ExampleSeq2seqAgent.criterion</a>, <a class="el" href="starspace_8py_source.html#l00214">parlai.agents.starspace.starspace.StarspaceAgent.criterion</a>, <a class="el" href="language__model_8py_source.html#l00248">parlai.agents.language_model.language_model.LanguageModelAgent.criterion</a>, <a class="el" href="seq2seq__v1_8py_source.html#l00257">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent.criterion</a>, <a class="el" href="fairseq_8py_source.html#l00353">parlai.agents.fairseq.fairseq.FairseqAgent.criterion</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00496">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.criterion</a>, <a class="el" href="torch__agent_8py_source.html#l00690">parlai.core.torch_agent.TorchAgent.criterion</a>, <a class="el" href="unigram_8py_source.html#l00056">parlai.agents.unigram.unigram.UnigramAgent.dict</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00092">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.dict</a>, <a class="el" href="memnn__v0_8py_source.html#l00102">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.dict</a>, <a class="el" href="remote__agent_8py_source.html#l00165">parlai.agents.remote_agent.remote_agent.ParsedRemoteAgent.dict</a>, <a class="el" href="language__model_8py_source.html#l00171">parlai.agents.language_model.language_model.LanguageModelAgent.dict</a>, <a class="el" href="torch__agent_8py_source.html#l00174">parlai.core.torch_agent.History.dict</a>, <a class="el" href="starspace_8py_source.html#l00192">parlai.agents.starspace.starspace.StarspaceAgent.dict</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00198">parlai.agents.legacy_agents.memnn.modules_v0.Decoder.dict</a>, <a class="el" href="fairseq_8py_source.html#l00208">parlai.agents.fairseq.fairseq._ParlaiTask.dict</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00289">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.dict</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00375">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.dict</a>, <a class="el" href="fairseq_8py_source.html#l00396">parlai.agents.fairseq.fairseq.FairseqAgent.dict</a>, <a class="el" href="torch__agent_8py_source.html#l00667">parlai.core.torch_agent.TorchAgent.dict</a>, <a class="el" href="language__model_8py_source.html#l00159">parlai.agents.language_model.language_model.LanguageModelAgent.metrics</a>, <a class="el" href="parlai_2core_2agents_8py_source.html#l00192">parlai.core.agents.Teacher.metrics</a>, <a class="el" href="fairseq_8py_source.html#l00222">parlai.agents.fairseq.fairseq.FairseqAgent.metrics</a>, <a class="el" href="seq2seq__v1_8py_source.html#l00231">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent.metrics</a>, <a class="el" href="metrics_8py_source.html#l00237">parlai.core.metrics.Metrics.metrics</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00351">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.metrics</a>, <a class="el" href="torch__agent_8py_source.html#l00678">parlai.core.torch_agent.TorchAgent.metrics</a>, <a class="el" href="crossencoder_8py_source.html#l00028">parlai.agents.transformer.crossencoder.CrossencoderAgent.model</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00050">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.model</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00074">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.model</a>, <a class="el" href="dummy__torch__agent_8py_source.html#l00079">parlai.agents.test_agents.dummy_torch_agent.MockTorchAgent.model</a>, <a class="el" href="polyencoder_8py_source.html#l00099">parlai.agents.transformer.polyencoder.PolyencoderAgent.model</a>, <a class="el" href="memnn__v0_8py_source.html#l00104">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.model</a>, <a class="el" href="drqa_8py_source.html#l00123">parlai.agents.drqa.drqa.DrqaAgent.model</a>, <a class="el" href="language__model_8py_source.html#l00173">parlai.agents.language_model.language_model.LanguageModelAgent.model</a>, <a class="el" href="transformer_8py_source.html#l00185">parlai.agents.transformer.transformer.TransformerRankerAgent.model</a>, <a class="el" href="starspace_8py_source.html#l00193">parlai.agents.starspace.starspace.StarspaceAgent.model</a>, <a class="el" href="seq2seq__v1_8py_source.html#l00230">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent.model</a>, <a class="el" href="fairseq_8py_source.html#l00354">parlai.agents.fairseq.fairseq.FairseqAgent.model</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00381">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.model</a>, <a class="el" href="torch__agent_8py_source.html#l00689">parlai.core.torch_agent.TorchAgent.model</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00017">parlai.agents.legacy_agents.memnn.modules_v0.MemNN.opt</a>, <a class="el" href="parlai_2agents_2language__model_2modules_8py_source.html#l00018">parlai.agents.language_model.modules.RNNModel.opt</a>, <a class="el" href="rnn__reader_8py_source.html#l00019">parlai.agents.drqa.rnn_reader.RnnDocReader.opt</a>, <a class="el" href="model_8py_source.html#l00024">parlai.agents.drqa.model.DocReaderModel.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00033">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.opt</a>, <a class="el" href="parlai_2agents_2starspace_2modules_8py_source.html#l00036">parlai.agents.starspace.modules.Starspace.opt</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00040">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.opt</a>, <a class="el" href="unigram_8py_source.html#l00052">parlai.agents.unigram.unigram.UnigramAgent.opt</a>, <a class="el" href="parlai_2core_2agents_8py_source.html#l00060">parlai.core.agents.Agent.opt</a>, <a class="el" href="remote__agent_8py_source.html#l00060">parlai.agents.remote_agent.remote_agent.RemoteAgentAgent.opt</a>, <a class="el" href="memnn__v0_8py_source.html#l00135">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.opt</a>, <a class="el" href="parlai_2agents_2transformer_2modules_8py_source.html#l00137">parlai.agents.transformer.modules.TransformerMemNetModel.opt</a>, <a class="el" href="language__model_8py_source.html#l00169">parlai.agents.language_model.language_model.LanguageModelAgent.opt</a>, <a class="el" href="dict__v0_8py_source.html#l00196">parlai.agents.legacy_agents.seq2seq.dict_v0.DictionaryAgent.opt</a>, <a class="el" href="dict__v1_8py_source.html#l00206">parlai.agents.legacy_agents.seq2seq.dict_v1.DictionaryAgent.opt</a>, <a class="el" href="ir__baseline_8py_source.html#l00246">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.opt</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00295">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.opt</a>, <a class="el" href="fairseq_8py_source.html#l00338">parlai.agents.fairseq.fairseq.FairseqAgent.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00373">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.opt</a>, <a class="el" href="starspace_8py_source.html#l00582">parlai.agents.starspace.starspace.StarspaceAgent.opt</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00288">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.replies</a>, and <a class="el" href="torch__agent_8py_source.html#l00665">parlai.core.torch_agent.TorchAgent.replies</a>.</p>

</div>
</div>
<a id="a9f89e606931a4622a5c6a6f6b832235c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f89e606931a4622a5c6a6f6b832235c">&#9670;&nbsp;</a></span>state_dict()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent.state_dict </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get the state dict for saving.

Override this method for more specific saving.
</pre> 
<p>Reimplemented in <a class="el" href="classparlai_1_1agents_1_1seq2seq_1_1seq2seq_1_1Seq2seqAgent.html#a7b68df3db0fcadb70a97a28ec2617cb2">parlai.agents.seq2seq.seq2seq.Seq2seqAgent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l01616">1616</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="torch__agent_8py_source.html#l00716">parlai.core.torch_agent.TorchAgent._number_training_updates</a>, <a class="el" href="crossencoder_8py_source.html#l00028">parlai.agents.transformer.crossencoder.CrossencoderAgent.model</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00050">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.model</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00074">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.model</a>, <a class="el" href="dummy__torch__agent_8py_source.html#l00079">parlai.agents.test_agents.dummy_torch_agent.MockTorchAgent.model</a>, <a class="el" href="polyencoder_8py_source.html#l00099">parlai.agents.transformer.polyencoder.PolyencoderAgent.model</a>, <a class="el" href="memnn__v0_8py_source.html#l00104">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.model</a>, <a class="el" href="drqa_8py_source.html#l00123">parlai.agents.drqa.drqa.DrqaAgent.model</a>, <a class="el" href="language__model_8py_source.html#l00173">parlai.agents.language_model.language_model.LanguageModelAgent.model</a>, <a class="el" href="transformer_8py_source.html#l00185">parlai.agents.transformer.transformer.TransformerRankerAgent.model</a>, <a class="el" href="starspace_8py_source.html#l00193">parlai.agents.starspace.starspace.StarspaceAgent.model</a>, <a class="el" href="seq2seq__v1_8py_source.html#l00230">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent.model</a>, <a class="el" href="fairseq_8py_source.html#l00354">parlai.agents.fairseq.fairseq.FairseqAgent.model</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00381">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.model</a>, <a class="el" href="torch__agent_8py_source.html#l00689">parlai.core.torch_agent.TorchAgent.model</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00017">parlai.agents.legacy_agents.memnn.modules_v0.MemNN.opt</a>, <a class="el" href="parlai_2agents_2language__model_2modules_8py_source.html#l00018">parlai.agents.language_model.modules.RNNModel.opt</a>, <a class="el" href="rnn__reader_8py_source.html#l00019">parlai.agents.drqa.rnn_reader.RnnDocReader.opt</a>, <a class="el" href="model_8py_source.html#l00024">parlai.agents.drqa.model.DocReaderModel.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00033">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.opt</a>, <a class="el" href="parlai_2agents_2starspace_2modules_8py_source.html#l00036">parlai.agents.starspace.modules.Starspace.opt</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00040">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.opt</a>, <a class="el" href="unigram_8py_source.html#l00052">parlai.agents.unigram.unigram.UnigramAgent.opt</a>, <a class="el" href="remote__agent_8py_source.html#l00060">parlai.agents.remote_agent.remote_agent.RemoteAgentAgent.opt</a>, <a class="el" href="parlai_2core_2agents_8py_source.html#l00060">parlai.core.agents.Agent.opt</a>, <a class="el" href="memnn__v0_8py_source.html#l00135">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.opt</a>, <a class="el" href="parlai_2agents_2transformer_2modules_8py_source.html#l00137">parlai.agents.transformer.modules.TransformerMemNetModel.opt</a>, <a class="el" href="language__model_8py_source.html#l00169">parlai.agents.language_model.language_model.LanguageModelAgent.opt</a>, <a class="el" href="dict__v0_8py_source.html#l00196">parlai.agents.legacy_agents.seq2seq.dict_v0.DictionaryAgent.opt</a>, <a class="el" href="dict__v1_8py_source.html#l00206">parlai.agents.legacy_agents.seq2seq.dict_v1.DictionaryAgent.opt</a>, <a class="el" href="ir__baseline_8py_source.html#l00246">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.opt</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00295">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.opt</a>, <a class="el" href="fairseq_8py_source.html#l00338">parlai.agents.fairseq.fairseq.FairseqAgent.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00373">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.opt</a>, <a class="el" href="starspace_8py_source.html#l00582">parlai.agents.starspace.starspace.StarspaceAgent.opt</a>, <a class="el" href="model_8py_source.html#l00042">parlai.agents.drqa.model.DocReaderModel.optimizer</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00067">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.optimizer</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00092">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.optimizer</a>, <a class="el" href="bert__classifier_8py_source.html#l00136">parlai.agents.bert_classifier.bert_classifier.BertClassifierAgent.optimizer</a>, <a class="el" href="starspace_8py_source.html#l00261">parlai.agents.starspace.starspace.StarspaceAgent.optimizer</a>, <a class="el" href="language__model_8py_source.html#l00262">parlai.agents.language_model.language_model.LanguageModelAgent.optimizer</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00361">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.optimizer</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00528">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.optimizer</a>, <a class="el" href="torch__agent_8py_source.html#l00850">parlai.core.torch_agent.TorchAgent.optimizer</a>, <a class="el" href="language__model_8py_source.html#l00268">parlai.agents.language_model.language_model.LanguageModelAgent.scheduler</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00379">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.scheduler</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00549">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.scheduler</a>, <a class="el" href="torch__agent_8py_source.html#l00930">parlai.core.torch_agent.TorchAgent.scheduler</a>, and <a class="el" href="torch__agent_8py_source.html#l00922">parlai.core.torch_agent.TorchAgent.warmup_scheduler</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__agent_8py_source.html#l00805">parlai.core.torch_agent.TorchAgent.init_optim()</a>, <a class="el" href="wizard__transformer__ranker_8py_source.html#l00129">wizard_transformer_ranker.wizard_transformer_ranker.WizardTransformerRankerAgent.load()</a>, <a class="el" href="self__feeding__agent_8py_source.html#l00824">self_feeding.self_feeding_agent.SelfFeedingAgent.load()</a>, <a class="el" href="controllable__seq2seq_8py_source.html#l01144">controllable_seq2seq.controllable_seq2seq.ControllableSeq2seqAgent.save()</a>, and <a class="el" href="torch__agent_8py_source.html#l01650">parlai.core.torch_agent.TorchAgent.save()</a>.</p>
<div id="dynsection-55" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-55-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-55-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-55-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a9f89e606931a4622a5c6a6f6b832235c_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a9f89e606931a4622a5c6a6f6b832235c_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a9f89e606931a4622a5c6a6f6b832235c_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a9f89e606931a4622a5c6a6f6b832235c_icgraph">
<area shape="rect" title=" " alt="" coords="656,323,815,365"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a3784f1ddaa6ffad009716910f3f36dd4" title=" " alt="" coords="395,163,553,205"/>
<area shape="rect" href="classwizard__transformer__ranker_1_1wizard__transformer__ranker_1_1WizardTransformerRankerAgent.html#a0dc84b46e7df927db8235f2f2a48f5b0" title=" " alt="" coords="363,229,585,299"/>
<area shape="rect" href="classself__feeding_1_1self__feeding__agent_1_1SelfFeedingAgent.html#a50e6f81560e522b6178f913bb3f1258a" title=" " alt="" coords="376,323,572,365"/>
<area shape="rect" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#abc818803e27d99525704db33cd4dd928" title=" " alt="" coords="340,389,608,430"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#adac7ee3db855786e8414e9f35fcb6e46" title=" " alt="" coords="395,454,553,495"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__classifier__agent_1_1TorchClassifierAgent.html#af9f194b4566a43f0840286a39ee0032a" title=" " alt="" coords="53,5,244,61"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#acde404a79bf3678bb52d3e6c3ee5244a" title=" " alt="" coords="59,85,238,141"/>
<area shape="rect" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a2cbe8ed3b2b6b82be90db6b45331800b" title=" " alt="" coords="6,166,291,207"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__generator__agent_1_1TorchGeneratorAgent.html#a60f9613d8d2761569c8862b690b24bce" title=" " alt="" coords="52,232,245,288"/>
<area shape="rect" href="classtransresnet__multimodal_1_1transresnet__multimodal_1_1TransresnetMultimodalAgent.html#ae30fd68376b12a3264e95c8e607df102" title="Initialization and argument parsers." alt="" coords="5,313,292,369"/>
</map>
</div>

</div>
</div>
<a id="a8ba9d535736c0af100d00c5e7b02b61b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ba9d535736c0af100d00c5e7b02b61b">&#9670;&nbsp;</a></span>train_step()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent.train_step </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>batch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">[Abstract] Process one batch with training labels.</pre> 
<p>Reimplemented in <a class="el" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a88e4d25c8f2eccaf1c7595d40c4f607b">controllable_seq2seq.controllable_seq2seq.ControllableSeq2seqAgent</a>, <a class="el" href="classparlai_1_1core_1_1torch__generator__agent_1_1TorchGeneratorAgent.html#afe2226ddfc838ec27580e3499cc0bae7">parlai.core.torch_generator_agent.TorchGeneratorAgent</a>, <a class="el" href="classparlai_1_1agents_1_1fairseq_1_1fairseq_1_1FairseqAgent.html#a57902d8fdb473ce9d791df532db41eee">parlai.agents.fairseq.fairseq.FairseqAgent</a>, <a class="el" href="classself__feeding_1_1self__feeding__agent_1_1SelfFeedingAgent.html#a4f04842d386c1747eefba384966687de">self_feeding.self_feeding_agent.SelfFeedingAgent</a>, <a class="el" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#a05ddf921f386f21116ec0ef50796987a">parlai.core.torch_ranker_agent.TorchRankerAgent</a>, <a class="el" href="classparlai_1_1agents_1_1example__seq2seq_1_1example__seq2seq_1_1ExampleSeq2seqAgent.html#adc742409451a1a8c41bd118a8cf7efbb">parlai.agents.example_seq2seq.example_seq2seq.ExampleSeq2seqAgent</a>, <a class="el" href="classparlai_1_1core_1_1torch__classifier__agent_1_1TorchClassifierAgent.html#a3baacdb005c5f5a6367c45c93d21d398">parlai.core.torch_classifier_agent.TorchClassifierAgent</a>, <a class="el" href="classparlai_1_1agents_1_1test__agents_1_1dummy__torch__agent_1_1MockTorchAgent.html#a867115faed3455518fb1f9a0ab41f761">parlai.agents.test_agents.dummy_torch_agent.MockTorchAgent</a>, <a class="el" href="classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html#a49ef7547db36c1570b8c10d0c8bee42e">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent</a>, and <a class="el" href="classparrot_1_1ParrotAgent.html#a85446c6c7698b050d80a2324495c9321">parrot.ParrotAgent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l01764">1764</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="projects_2image__chat_2transresnet__multimodal_2transresnet__multimodal_8py_source.html#l00243">transresnet_multimodal.transresnet_multimodal.TransresnetMultimodalAgent.batch_act()</a>, <a class="el" href="projects_2personality__captions_2transresnet_2transresnet_8py_source.html#l00288">transresnet.transresnet.TransresnetAgent.batch_act()</a>, and <a class="el" href="torch__agent_8py_source.html#l01725">parlai.core.torch_agent.TorchAgent.batch_act()</a>.</p>
<div id="dynsection-56" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-56-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-56-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-56-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a8ba9d535736c0af100d00c5e7b02b61b_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a8ba9d535736c0af100d00c5e7b02b61b_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a8ba9d535736c0af100d00c5e7b02b61b_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a8ba9d535736c0af100d00c5e7b02b61b_icgraph">
<area shape="rect" title=" " alt="" coords="663,100,821,141"/>
<area shape="rect" href="classtransresnet__multimodal_1_1transresnet__multimodal_1_1TransresnetMultimodalAgent.html#a057eb1109f5c2ea467539083e2f7e7f6" title=" " alt="" coords="292,100,615,141"/>
<area shape="rect" href="classtransresnet_1_1transresnet_1_1TransresnetAgent.html#a5eadf6ccc4b1d15a520a70d111bff493" title=" " alt="" coords="360,35,547,76"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a7754a74d6c87590f46e71ec486c285a8" title=" " alt="" coords="374,165,533,207"/>
<area shape="rect" href="classtransresnet_1_1transresnet_1_1TransresnetAgent.html#ad59fea461b2ea1f9731742901203bdd7" title=" " alt="" coords="45,5,205,47"/>
<area shape="rect" href="classmastering__the__dungeon_1_1agents_1_1graph__world2_1_1agents_1_1ModelAgentBase.html#a768f25fa424b2cd4d1de8e62bfed970a" title=" " alt="" coords="5,71,244,112"/>
<area shape="rect" href="classagent_1_1memnn__feedback_1_1MemnnFeedbackAgent.html#ab221141e0a956be465e718bb349e7554" title=" " alt="" coords="21,136,229,177"/>
<area shape="rect" href="classkvmemnn_1_1KvmemnnAgent.html#a6f57723b871277392a3f3fd627c717d8" title=" " alt="" coords="25,202,224,229"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a51174dfa508970e3392246b02d0d94b5" title=" " alt="" coords="45,253,204,295"/>
<area shape="rect" href="classparlai_1_1core_1_1worlds_1_1BatchWorld.html#a297ab42faba47581774cd9333c874905" title=" " alt="" coords="43,319,206,360"/>
</map>
</div>

</div>
</div>
<a id="a7e2c9e180887397daa6229a0f9700b1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e2c9e180887397daa6229a0f9700b1c">&#9670;&nbsp;</a></span>update_params()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent.update_params </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Perform step of optimization.

Handles clipping gradients and adjusting LR schedule if needed.
Gradient accumulation is also performed if agent is called with
--update-freq.

It is recommended (but not forced) that you call this in train_step.
</pre> 
<p>Reimplemented in <a class="el" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a22b034e548a14336673b88c665bd2bcf">controllable_seq2seq.controllable_seq2seq.ControllableSeq2seqAgent</a>, and <a class="el" href="classparlai_1_1agents_1_1example__seq2seq_1_1example__seq2seq_1_1ExampleSeq2seqAgent.html#a982862ee1a5b6ee2a7da61d6018fb4a9">parlai.agents.example_seq2seq.example_seq2seq.ExampleSeq2seqAgent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l01796">1796</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="torch__agent_8py_source.html#l01041">parlai.core.torch_agent.TorchAgent._is_lr_warming_up()</a>, <a class="el" href="torch__agent_8py_source.html#l00714">parlai.core.torch_agent.TorchAgent._number_grad_accum</a>, <a class="el" href="torch__agent_8py_source.html#l00716">parlai.core.torch_agent.TorchAgent._number_training_updates</a>, <a class="el" href="torch__agent_8py_source.html#l00661">parlai.core.torch_agent.TorchAgent.fp16</a>, <a class="el" href="language__model_8py_source.html#l00159">parlai.agents.language_model.language_model.LanguageModelAgent.metrics</a>, <a class="el" href="parlai_2core_2agents_8py_source.html#l00192">parlai.core.agents.Teacher.metrics</a>, <a class="el" href="fairseq_8py_source.html#l00222">parlai.agents.fairseq.fairseq.FairseqAgent.metrics</a>, <a class="el" href="seq2seq__v1_8py_source.html#l00231">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent.metrics</a>, <a class="el" href="metrics_8py_source.html#l00237">parlai.core.metrics.Metrics.metrics</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00351">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.metrics</a>, <a class="el" href="torch__agent_8py_source.html#l00678">parlai.core.torch_agent.TorchAgent.metrics</a>, <a class="el" href="crossencoder_8py_source.html#l00028">parlai.agents.transformer.crossencoder.CrossencoderAgent.model</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00050">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.model</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00074">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.model</a>, <a class="el" href="dummy__torch__agent_8py_source.html#l00079">parlai.agents.test_agents.dummy_torch_agent.MockTorchAgent.model</a>, <a class="el" href="polyencoder_8py_source.html#l00099">parlai.agents.transformer.polyencoder.PolyencoderAgent.model</a>, <a class="el" href="memnn__v0_8py_source.html#l00104">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.model</a>, <a class="el" href="drqa_8py_source.html#l00123">parlai.agents.drqa.drqa.DrqaAgent.model</a>, <a class="el" href="language__model_8py_source.html#l00173">parlai.agents.language_model.language_model.LanguageModelAgent.model</a>, <a class="el" href="transformer_8py_source.html#l00185">parlai.agents.transformer.transformer.TransformerRankerAgent.model</a>, <a class="el" href="starspace_8py_source.html#l00193">parlai.agents.starspace.starspace.StarspaceAgent.model</a>, <a class="el" href="seq2seq__v1_8py_source.html#l00230">parlai.agents.legacy_agents.seq2seq.seq2seq_v1.Seq2seqAgent.model</a>, <a class="el" href="fairseq_8py_source.html#l00354">parlai.agents.fairseq.fairseq.FairseqAgent.model</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00381">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.model</a>, <a class="el" href="torch__agent_8py_source.html#l00689">parlai.core.torch_agent.TorchAgent.model</a>, <a class="el" href="memnn_2modules__v0_8py_source.html#l00017">parlai.agents.legacy_agents.memnn.modules_v0.MemNN.opt</a>, <a class="el" href="parlai_2agents_2language__model_2modules_8py_source.html#l00018">parlai.agents.language_model.modules.RNNModel.opt</a>, <a class="el" href="rnn__reader_8py_source.html#l00019">parlai.agents.drqa.rnn_reader.RnnDocReader.opt</a>, <a class="el" href="model_8py_source.html#l00024">parlai.agents.drqa.model.DocReaderModel.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00033">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Agent.opt</a>, <a class="el" href="parlai_2agents_2starspace_2modules_8py_source.html#l00036">parlai.agents.starspace.modules.Starspace.opt</a>, <a class="el" href="seq2seq_2modules__v0_8py_source.html#l00040">parlai.agents.legacy_agents.seq2seq.modules_v0.Seq2seq.opt</a>, <a class="el" href="unigram_8py_source.html#l00052">parlai.agents.unigram.unigram.UnigramAgent.opt</a>, <a class="el" href="parlai_2core_2agents_8py_source.html#l00060">parlai.core.agents.Agent.opt</a>, <a class="el" href="remote__agent_8py_source.html#l00060">parlai.agents.remote_agent.remote_agent.RemoteAgentAgent.opt</a>, <a class="el" href="memnn__v0_8py_source.html#l00135">parlai.agents.legacy_agents.memnn.memnn_v0.MemnnAgent.opt</a>, <a class="el" href="parlai_2agents_2transformer_2modules_8py_source.html#l00137">parlai.agents.transformer.modules.TransformerMemNetModel.opt</a>, <a class="el" href="language__model_8py_source.html#l00169">parlai.agents.language_model.language_model.LanguageModelAgent.opt</a>, <a class="el" href="dict__v0_8py_source.html#l00196">parlai.agents.legacy_agents.seq2seq.dict_v0.DictionaryAgent.opt</a>, <a class="el" href="dict__v1_8py_source.html#l00206">parlai.agents.legacy_agents.seq2seq.dict_v1.DictionaryAgent.opt</a>, <a class="el" href="ir__baseline_8py_source.html#l00246">parlai.agents.ir_baseline.ir_baseline.IrBaselineAgent.opt</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00295">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.opt</a>, <a class="el" href="fairseq_8py_source.html#l00338">parlai.agents.fairseq.fairseq.FairseqAgent.opt</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00373">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.opt</a>, <a class="el" href="starspace_8py_source.html#l00582">parlai.agents.starspace.starspace.StarspaceAgent.opt</a>, <a class="el" href="model_8py_source.html#l00042">parlai.agents.drqa.model.DocReaderModel.optimizer</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00067">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.optimizer</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00092">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.optimizer</a>, <a class="el" href="bert__classifier_8py_source.html#l00136">parlai.agents.bert_classifier.bert_classifier.BertClassifierAgent.optimizer</a>, <a class="el" href="starspace_8py_source.html#l00261">parlai.agents.starspace.starspace.StarspaceAgent.optimizer</a>, <a class="el" href="language__model_8py_source.html#l00262">parlai.agents.language_model.language_model.LanguageModelAgent.optimizer</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00361">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.optimizer</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00528">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.optimizer</a>, <a class="el" href="torch__agent_8py_source.html#l00850">parlai.core.torch_agent.TorchAgent.optimizer</a>, <a class="el" href="language__model_8py_source.html#l00268">parlai.agents.language_model.language_model.LanguageModelAgent.scheduler</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00379">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.scheduler</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00549">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.scheduler</a>, <a class="el" href="torch__agent_8py_source.html#l00930">parlai.core.torch_agent.TorchAgent.scheduler</a>, and <a class="el" href="torch__agent_8py_source.html#l00922">parlai.core.torch_agent.TorchAgent.warmup_scheduler</a>.</p>

<p class="reference">Referenced by <a class="el" href="projects_2personachat_2kvmemnn_2kvmemnn_8py_source.html#l00598">kvmemnn.KvmemnnAgent.predict()</a>, <a class="el" href="torch__classifier__agent_8py_source.html#l00216">parlai.core.torch_classifier_agent.TorchClassifierAgent.train_step()</a>, <a class="el" href="torch__ranker__agent_8py_source.html#l00335">parlai.core.torch_ranker_agent.TorchRankerAgent.train_step()</a>, <a class="el" href="self__feeding__agent_8py_source.html#l00411">self_feeding.self_feeding_agent.SelfFeedingAgent.train_step()</a>, <a class="el" href="torch__generator__agent_8py_source.html#l00532">parlai.core.torch_generator_agent.TorchGeneratorAgent.train_step()</a>, and <a class="el" href="controllable__seq2seq_8py_source.html#l00716">controllable_seq2seq.controllable_seq2seq.ControllableSeq2seqAgent.train_step()</a>.</p>
<div id="dynsection-57" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-57-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-57-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-57-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a7e2c9e180887397daa6229a0f9700b1c_cgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a7e2c9e180887397daa6229a0f9700b1c_cgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a7e2c9e180887397daa6229a0f9700b1c_cgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a7e2c9e180887397daa6229a0f9700b1c_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,188,47"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a5ce58a7b3ce88ac87cc1b7f7316ae9c4" title=" " alt="" coords="236,5,437,47"/>
</map>
</div>
<div id="dynsection-58" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-58-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-58-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-58-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a7e2c9e180887397daa6229a0f9700b1c_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a7e2c9e180887397daa6229a0f9700b1c_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a7e2c9e180887397daa6229a0f9700b1c_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a7e2c9e180887397daa6229a0f9700b1c_icgraph">
<area shape="rect" title=" " alt="" coords="1008,179,1191,221"/>
<area shape="rect" href="classkvmemnn_1_1KvmemnnAgent.html#ac2b07b1455920e6a343271997b9c6207" title=" " alt="" coords="702,29,921,56"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__classifier__agent_1_1TorchClassifierAgent.html#a3baacdb005c5f5a6367c45c93d21d398" title=" " alt="" coords="687,81,935,122"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#a05ddf921f386f21116ec0ef50796987a" title=" " alt="" coords="694,146,929,187"/>
<area shape="rect" href="classself__feeding_1_1self__feeding__agent_1_1SelfFeedingAgent.html#a4f04842d386c1747eefba384966687de" title=" " alt="" coords="697,342,926,383"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__generator__agent_1_1TorchGeneratorAgent.html#afe2226ddfc838ec27580e3499cc0bae7" title=" " alt="" coords="686,211,937,253"/>
<area shape="rect" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a88e4d25c8f2eccaf1c7595d40c4f607b" title=" " alt="" coords="663,277,960,318"/>
<area shape="rect" href="classkvmemnn_1_1KvmemnnAgent.html#ac7dba84c37dab7ef33f52d263fbdbdc7" title=" " alt="" coords="340,29,567,56"/>
<area shape="rect" href="classtransresnet__multimodal_1_1transresnet__multimodal_1_1TransresnetMultimodalAgent.html#a057eb1109f5c2ea467539083e2f7e7f6" title=" " alt="" coords="292,146,615,187"/>
<area shape="rect" href="classtransresnet_1_1transresnet_1_1TransresnetAgent.html#a5eadf6ccc4b1d15a520a70d111bff493" title=" " alt="" coords="360,211,547,253"/>
<area shape="rect" href="classtransresnet_1_1transresnet_1_1TransresnetAgent.html#ad59fea461b2ea1f9731742901203bdd7" title=" " alt="" coords="45,175,205,217"/>
<area shape="rect" href="classmastering__the__dungeon_1_1agents_1_1graph__world2_1_1agents_1_1ModelAgentBase.html#a768f25fa424b2cd4d1de8e62bfed970a" title=" " alt="" coords="5,241,244,282"/>
<area shape="rect" href="classagent_1_1memnn__feedback_1_1MemnnFeedbackAgent.html#ab221141e0a956be465e718bb349e7554" title=" " alt="" coords="21,58,229,99"/>
<area shape="rect" href="classkvmemnn_1_1KvmemnnAgent.html#a6f57723b871277392a3f3fd627c717d8" title=" " alt="" coords="25,124,224,151"/>
</map>
</div>

</div>
</div>
<a id="a48bb9b153353a0565ab7253dc1daef99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48bb9b153353a0565ab7253dc1daef99">&#9670;&nbsp;</a></span>vectorize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent.vectorize </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>history</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>add_start</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>add_end</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>text_truncate</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>label_truncate</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Make vectors out of observation fields and store in the observation.

In particular, the 'text' and 'labels'/'eval_labels' fields are
processed and a new field is added to the observation with the suffix
'_vec'.

If you want to use additional fields on your subclass, you can override
this function, call super().vectorize(...) to process the text and
labels, and then process the other fields in your subclass.

Additionally, if you want to override some of these default parameters,
then we recommend using a pattern like:

.. code-block:: python

  def vectorize(self, *args, **kwargs):
      kwargs['add_start'] = False
      return super().vectorize(*args, **kwargs)


:param obs:
    Single observation from observe function.

:param add_start:
    default True, adds the start token to each label.

:param add_end:
    default True, adds the end token to each label.

:param text_truncate:
    default None, if set truncates text vectors to the specified
    length.

:param label_truncate:
    default None, if set truncates label vectors to the specified
    length.

:return:
    the input observation, with 'text_vec', 'label_vec', and
    'cands_vec' fields added.
</pre> 
<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l01355">1355</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="torch__agent__v1_8py_source.html#l00617">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._set_label_cands_vec()</a>, <a class="el" href="torch__agent_8py_source.html#l01335">parlai.core.torch_agent.TorchAgent._set_label_cands_vec()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00586">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._set_label_vec()</a>, <a class="el" href="torch__agent_8py_source.html#l01304">parlai.core.torch_agent.TorchAgent._set_label_vec()</a>, <a class="el" href="biencoder_8py_source.html#l00032">parlai.agents.transformer.biencoder.BiencoderAgent._set_text_vec()</a>, <a class="el" href="transformer__classifier_8py_source.html#l00048">parlai.agents.transformer_classifier.transformer_classifier.TransformerClassifierAgent._set_text_vec()</a>, <a class="el" href="crossencoder_8py_source.html#l00048">parlai.agents.transformer.crossencoder.CrossencoderAgent._set_text_vec()</a>, <a class="el" href="polyencoder_8py_source.html#l00112">parlai.agents.transformer.polyencoder.PolyencoderAgent._set_text_vec()</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00129">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent._set_text_vec()</a>, <a class="el" href="bert__classifier_8py_source.html#l00140">parlai.agents.bert_classifier.bert_classifier.BertClassifierAgent._set_text_vec()</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00155">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent._set_text_vec()</a>, <a class="el" href="memnn_8py_source.html#l00165">parlai.agents.memnn.memnn.MemnnAgent._set_text_vec()</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00558">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent._set_text_vec()</a>, and <a class="el" href="torch__agent_8py_source.html#l01276">parlai.core.torch_agent.TorchAgent._set_text_vec()</a>.</p>

<p class="reference">Referenced by <a class="el" href="torch__agent_8py_source.html#l01595">parlai.core.torch_agent.TorchAgent.observe()</a>.</p>
<div id="dynsection-59" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-59-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-59-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-59-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a48bb9b153353a0565ab7253dc1daef99_cgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a48bb9b153353a0565ab7253dc1daef99_cgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a48bb9b153353a0565ab7253dc1daef99_cgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a48bb9b153353a0565ab7253dc1daef99_cgraph">
<area shape="rect" title=" " alt="" coords="5,557,164,599"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#af7d66c2a4d9370532df8654048742a6c" title=" " alt="" coords="249,100,407,171"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a4d28fb5efada28c0ed88e50f32d13d6a" title=" " alt="" coords="249,370,407,426"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a062901964b89a83cfce76560e23e627a" title=" " alt="" coords="249,195,407,265"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#ae4cd508e77aa5828217b6955f77f3a2d" title=" " alt="" coords="238,473,418,515"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1biencoder_1_1BiencoderAgent.html#a0cd51555a1942d8924c0c4bcb07c3d50" title=" " alt="" coords="503,715,733,756"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer__classifier_1_1transformer__classifier_1_1TransformerClassifierAgent.html#a6f6d24307c6f2a9171c8d7d111eb1658" title=" " alt="" coords="513,780,723,851"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1crossencoder_1_1CrossencoderAgent.html#a7fabb77b81bb8352d31b58d0ed12b0b9" title=" " alt="" coords="492,875,744,916"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1polyencoder_1_1PolyencoderAgent.html#a956698ff164fb878805b1c41054a1c8a" title=" " alt="" coords="496,940,740,981"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1cross__encoder__ranker_1_1CrossEncoderRankerAgent.html#a6ca6472fd7749ebf01c9a7f4216fcc6d" title=" " alt="" coords="212,793,444,864"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__classifier_1_1bert__classifier_1_1BertClassifierAgent.html#a48a3ad41d33733e9cff1042d22f8fa60" title=" " alt="" coords="243,888,413,959"/>
<area shape="rect" href="classparlai_1_1agents_1_1bert__ranker_1_1bi__encoder__ranker_1_1BiEncoderRankerAgent.html#a35e3fabc73b2180662cbb0928d8848d1" title=" " alt="" coords="235,983,421,1053"/>
<area shape="rect" href="classparlai_1_1agents_1_1memnn_1_1memnn_1_1MemnnAgent.html#a3bd2d78f6cbe46afb8b37ab5160bda83" title=" " alt="" coords="521,649,715,691"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a85106541b03e5c9dad245b002da7431c" title=" " alt="" coords="249,5,407,76"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a70f9a0937c1bfba2892b65bce8493df7" title=" " alt="" coords="531,247,705,288"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#a07964fbca57736f639fe4e9dd9d1459a" title=" " alt="" coords="808,261,965,332"/>
<area shape="rect" href="classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_1_1TorchAgent.html#ac698ff0226e4d22f8498a9d9e667a34c" title=" " alt="" coords="539,100,697,171"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#afb729d5d51ad91d4188fd1486a4a087f" title=" " alt="" coords="792,532,981,573"/>
<area shape="rect" href="classparlai_1_1agents_1_1transformer_1_1biencoder_1_1BiencoderAgent.html#ac9fa75abc94cb2b53c429a4a3b5a133c" title=" " alt="" coords="503,415,733,456"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a024c4a0801e7dddf54bf3222dc77eaf6" title=" " alt="" coords="527,532,709,573"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a1689490829a70677359cf4f49ccd46bb" title=" " alt="" coords="807,787,966,843"/>
</map>
</div>
<div id="dynsection-60" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-60-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-60-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-60-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a48bb9b153353a0565ab7253dc1daef99_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a48bb9b153353a0565ab7253dc1daef99_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a48bb9b153353a0565ab7253dc1daef99_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a48bb9b153353a0565ab7253dc1daef99_icgraph">
<area shape="rect" title=" " alt="" coords="465,39,624,80"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a87b18f0d6ab11be3c49375af072d0d33" title=" " alt="" coords="259,39,417,80"/>
<area shape="rect" href="classparlai_1_1tasks_1_1talkthewalk_1_1worlds_1_1SimulateWorld.html#a6bd5a8a8e194dd4aa76aeecdf429bc7f" title=" " alt="" coords="5,5,211,47"/>
<area shape="rect" href="classparlai_1_1core_1_1worlds_1_1ExecutableWorld.html#a6555592d2b7c316e72febc1fccf43bdb" title=" " alt="" coords="11,71,205,112"/>
</map>
</div>

</div>
</div>
<a id="a91c163f3e2d39b380095b7083f673b6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91c163f3e2d39b380095b7083f673b6e">&#9670;&nbsp;</a></span>zero_grad()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.core.torch_agent.TorchAgent.zero_grad </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Zero out optimizer.

It is recommended you call this in train_step. It automatically handles
gradient accumulation if agent is called with --update-freq.
</pre> 
<p>Reimplemented in <a class="el" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#aef0ce4355736782b861b06407d5de115">controllable_seq2seq.controllable_seq2seq.ControllableSeq2seqAgent</a>, and <a class="el" href="classparlai_1_1agents_1_1example__seq2seq_1_1example__seq2seq_1_1ExampleSeq2seqAgent.html#a334f6bd6a11dba7b87f7ea0f8db23a42">parlai.agents.example_seq2seq.example_seq2seq.ExampleSeq2seqAgent</a>.</p>

<p class="definition">Definition at line <a class="el" href="torch__agent_8py_source.html#l01846">1846</a> of file <a class="el" href="torch__agent_8py_source.html">torch_agent.py</a>.</p>

<p class="reference">References <a class="el" href="torch__agent_8py_source.html#l00714">parlai.core.torch_agent.TorchAgent._number_grad_accum</a>, <a class="el" href="model_8py_source.html#l00042">parlai.agents.drqa.model.DocReaderModel.optimizer</a>, <a class="el" href="bi__encoder__ranker_8py_source.html#l00067">parlai.agents.bert_ranker.bi_encoder_ranker.BiEncoderRankerAgent.optimizer</a>, <a class="el" href="cross__encoder__ranker_8py_source.html#l00092">parlai.agents.bert_ranker.cross_encoder_ranker.CrossEncoderRankerAgent.optimizer</a>, <a class="el" href="bert__classifier_8py_source.html#l00136">parlai.agents.bert_classifier.bert_classifier.BertClassifierAgent.optimizer</a>, <a class="el" href="starspace_8py_source.html#l00261">parlai.agents.starspace.starspace.StarspaceAgent.optimizer</a>, <a class="el" href="language__model_8py_source.html#l00262">parlai.agents.language_model.language_model.LanguageModelAgent.optimizer</a>, <a class="el" href="torch__agent__v1_8py_source.html#l00361">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.TorchAgent.optimizer</a>, <a class="el" href="seq2seq__v0_8py_source.html#l00528">parlai.agents.legacy_agents.seq2seq.seq2seq_v0.Seq2seqAgent.optimizer</a>, and <a class="el" href="torch__agent_8py_source.html#l00850">parlai.core.torch_agent.TorchAgent.optimizer</a>.</p>

<p class="reference">Referenced by <a class="el" href="projects_2personality__captions_2transresnet_2modules_8py_source.html#l00443">transresnet.modules.TransresnetModel.evaluate_one_batch()</a>, <a class="el" href="projects_2personachat_2kvmemnn_2kvmemnn_8py_source.html#l00598">kvmemnn.KvmemnnAgent.predict()</a>, <a class="el" href="projects_2personality__captions_2transresnet_2modules_8py_source.html#l00297">transresnet.modules.TransresnetModel.train_batch()</a>, <a class="el" href="torch__classifier__agent_8py_source.html#l00216">parlai.core.torch_classifier_agent.TorchClassifierAgent.train_step()</a>, <a class="el" href="torch__ranker__agent_8py_source.html#l00335">parlai.core.torch_ranker_agent.TorchRankerAgent.train_step()</a>, <a class="el" href="self__feeding__agent_8py_source.html#l00411">self_feeding.self_feeding_agent.SelfFeedingAgent.train_step()</a>, <a class="el" href="torch__generator__agent_8py_source.html#l00532">parlai.core.torch_generator_agent.TorchGeneratorAgent.train_step()</a>, and <a class="el" href="controllable__seq2seq_8py_source.html#l00716">controllable_seq2seq.controllable_seq2seq.ControllableSeq2seqAgent.train_step()</a>.</p>
<div id="dynsection-61" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-61-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-61-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-61-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a91c163f3e2d39b380095b7083f673b6e_icgraph.png" border="0" usemap="#classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a91c163f3e2d39b380095b7083f673b6e_icgraph" alt=""/></div>
<map name="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a91c163f3e2d39b380095b7083f673b6e_icgraph" id="classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a91c163f3e2d39b380095b7083f673b6e_icgraph">
<area shape="rect" title=" " alt="" coords="1008,261,1167,303"/>
<area shape="rect" href="classtransresnet_1_1modules_1_1TransresnetModel.html#a2cce905d8e06109ae23cf4910386526d" title=" " alt="" coords="705,60,918,101"/>
<area shape="rect" href="classtransresnet_1_1modules_1_1TransresnetModel.html#aedf5402061ce43a2b594eb9c8a374738" title=" " alt="" coords="18,71,231,112"/>
<area shape="rect" href="classkvmemnn_1_1KvmemnnAgent.html#ac2b07b1455920e6a343271997b9c6207" title=" " alt="" coords="702,177,921,203"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__classifier__agent_1_1TorchClassifierAgent.html#a3baacdb005c5f5a6367c45c93d21d398" title=" " alt="" coords="687,359,935,400"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__ranker__agent_1_1TorchRankerAgent.html#a05ddf921f386f21116ec0ef50796987a" title=" " alt="" coords="694,424,929,465"/>
<area shape="rect" href="classself__feeding_1_1self__feeding__agent_1_1SelfFeedingAgent.html#a4f04842d386c1747eefba384966687de" title=" " alt="" coords="697,489,926,531"/>
<area shape="rect" href="classparlai_1_1core_1_1torch__generator__agent_1_1TorchGeneratorAgent.html#afe2226ddfc838ec27580e3499cc0bae7" title=" " alt="" coords="686,228,937,269"/>
<area shape="rect" href="classcontrollable__seq2seq_1_1controllable__seq2seq_1_1ControllableSeq2seqAgent.html#a88e4d25c8f2eccaf1c7595d40c4f607b" title=" " alt="" coords="663,293,960,335"/>
<area shape="rect" href="classtransresnet_1_1modules_1_1TransresnetModel.html#a1cd91f1cd051b1545683b465f7a74e12" title=" " alt="" coords="347,9,560,51"/>
<area shape="rect" href="classtransresnet_1_1modules_1_1TransresnetModel.html#ad41dbceaf0c86aac1b29e68fea3c4f14" title=" " alt="" coords="18,5,231,47"/>
<area shape="rect" href="classkvmemnn_1_1KvmemnnAgent.html#ac7dba84c37dab7ef33f52d263fbdbdc7" title=" " alt="" coords="340,201,567,227"/>
<area shape="rect" href="classtransresnet__multimodal_1_1transresnet__multimodal_1_1TransresnetMultimodalAgent.html#a057eb1109f5c2ea467539083e2f7e7f6" title=" " alt="" coords="292,359,615,400"/>
<area shape="rect" href="classtransresnet_1_1transresnet_1_1TransresnetAgent.html#a5eadf6ccc4b1d15a520a70d111bff493" title=" " alt="" coords="360,293,547,335"/>
<area shape="rect" href="classtransresnet_1_1transresnet_1_1TransresnetAgent.html#ad59fea461b2ea1f9731742901203bdd7" title=" " alt="" coords="45,260,205,301"/>
<area shape="rect" href="classmastering__the__dungeon_1_1agents_1_1graph__world2_1_1agents_1_1ModelAgentBase.html#a768f25fa424b2cd4d1de8e62bfed970a" title=" " alt="" coords="5,325,244,367"/>
<area shape="rect" href="classagent_1_1memnn__feedback_1_1MemnnFeedbackAgent.html#ab221141e0a956be465e718bb349e7554" title=" " alt="" coords="21,391,229,432"/>
<area shape="rect" href="classkvmemnn_1_1KvmemnnAgent.html#a6f57723b871277392a3f3fd627c717d8" title=" " alt="" coords="25,457,224,483"/>
</map>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>ParlAI/parlai/core/<a class="el" href="torch__agent_8py_source.html">torch_agent.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
